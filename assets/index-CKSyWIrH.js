(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))w(D);new MutationObserver(D=>{for(const P of D)if(P.type==="childList")for(const F of P.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&w(F)}).observe(document,{childList:!0,subtree:!0});function g(D){const P={};return D.integrity&&(P.integrity=D.integrity),D.referrerPolicy&&(P.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?P.credentials="include":D.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function w(D){if(D.ep)return;D.ep=!0;const P=g(D);fetch(D.href,P)}})();function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function g(w,D,P){var F=null;if(P!==void 0&&(F=""+P),D.key!==void 0&&(F=""+D.key),"key"in D){P={};for(var U in D)U!=="key"&&(P[U]=D[U])}else P=D;return D=P.ref,{$$typeof:d,type:w,key:F,ref:D!==void 0?D:null,props:P}}return reactJsxRuntime_production.Fragment=m,reactJsxRuntime_production.jsx=g,reactJsxRuntime_production.jsxs=g,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),J=Symbol.iterator;function et($t){return $t===null||typeof $t!="object"?null:($t=J&&$t[J]||$t["@@iterator"],typeof $t=="function"?$t:null)}var at={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ot=Object.assign,ut={};function yt($t,Wt,fe){this.props=$t,this.context=Wt,this.refs=ut,this.updater=fe||at}yt.prototype.isReactComponent={},yt.prototype.setState=function($t,Wt){if(typeof $t!="object"&&typeof $t!="function"&&$t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$t,Wt,"setState")},yt.prototype.forceUpdate=function($t){this.updater.enqueueForceUpdate(this,$t,"forceUpdate")};function vt(){}vt.prototype=yt.prototype;function mt($t,Wt,fe){this.props=$t,this.context=Wt,this.refs=ut,this.updater=fe||at}var dt=mt.prototype=new vt;dt.constructor=mt,ot(dt,yt.prototype),dt.isPureReactComponent=!0;var gt=Array.isArray;function At(){}var _t={H:null,A:null,T:null,S:null},Mt=Object.prototype.hasOwnProperty;function wt($t,Wt,fe){var oe=fe.ref;return{$$typeof:d,type:$t,key:Wt,ref:oe!==void 0?oe:null,props:fe}}function zt($t,Wt){return wt($t.type,Wt,$t.props)}function ht($t){return typeof $t=="object"&&$t!==null&&$t.$$typeof===d}function It($t){var Wt={"=":"=0",":":"=2"};return"$"+$t.replace(/[=:]/g,function(fe){return Wt[fe]})}var qt=/\/+/g;function Nt($t,Wt){return typeof $t=="object"&&$t!==null&&$t.key!=null?It(""+$t.key):Wt.toString(36)}function Ot($t){switch($t.status){case"fulfilled":return $t.value;case"rejected":throw $t.reason;default:switch(typeof $t.status=="string"?$t.then(At,At):($t.status="pending",$t.then(function(Wt){$t.status==="pending"&&($t.status="fulfilled",$t.value=Wt)},function(Wt){$t.status==="pending"&&($t.status="rejected",$t.reason=Wt)})),$t.status){case"fulfilled":return $t.value;case"rejected":throw $t.reason}}throw $t}function Ct($t,Wt,fe,oe,Xt){var ne=typeof $t;(ne==="undefined"||ne==="boolean")&&($t=null);var ye=!1;if($t===null)ye=!0;else switch(ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch($t.$$typeof){case d:case m:ye=!0;break;case X:return ye=$t._init,Ct(ye($t._payload),Wt,fe,oe,Xt)}}if(ye)return Xt=Xt($t),ye=oe===""?"."+Nt($t,0):oe,gt(Xt)?(fe="",ye!=null&&(fe=ye.replace(qt,"$&/")+"/"),Ct(Xt,Wt,fe,"",function(he){return he})):Xt!=null&&(ht(Xt)&&(Xt=zt(Xt,fe+(Xt.key==null||$t&&$t.key===Xt.key?"":(""+Xt.key).replace(qt,"$&/")+"/")+ye)),Wt.push(Xt)),1;ye=0;var Ie=oe===""?".":oe+":";if(gt($t))for(var $e=0;$e<$t.length;$e++)oe=$t[$e],ne=Ie+Nt(oe,$e),ye+=Ct(oe,Wt,fe,ne,Xt);else if($e=et($t),typeof $e=="function")for($t=$e.call($t),$e=0;!(oe=$t.next()).done;)oe=oe.value,ne=Ie+Nt(oe,$e++),ye+=Ct(oe,Wt,fe,ne,Xt);else if(ne==="object"){if(typeof $t.then=="function")return Ct(Ot($t),Wt,fe,oe,Xt);throw Wt=String($t),Error("Objects are not valid as a React child (found: "+(Wt==="[object Object]"?"object with keys {"+Object.keys($t).join(", ")+"}":Wt)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Jt($t,Wt,fe){if($t==null)return $t;var oe=[],Xt=0;return Ct($t,oe,"","",function(ne){return Wt.call(fe,ne,Xt++)}),oe}function Kt($t){if($t._status===-1){var Wt=$t._result;Wt=Wt(),Wt.then(function(fe){($t._status===0||$t._status===-1)&&($t._status=1,$t._result=fe)},function(fe){($t._status===0||$t._status===-1)&&($t._status=2,$t._result=fe)}),$t._status===-1&&($t._status=0,$t._result=Wt)}if($t._status===1)return $t._result.default;throw $t._result}var Qt=typeof reportError=="function"?reportError:function($t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Wt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $t=="object"&&$t!==null&&typeof $t.message=="string"?String($t.message):String($t),error:$t});if(!window.dispatchEvent(Wt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$t);return}console.error($t)},pe={map:Jt,forEach:function($t,Wt,fe){Jt($t,function(){Wt.apply(this,arguments)},fe)},count:function($t){var Wt=0;return Jt($t,function(){Wt++}),Wt},toArray:function($t){return Jt($t,function(Wt){return Wt})||[]},only:function($t){if(!ht($t))throw Error("React.Children.only expected to receive a single React element child.");return $t}};return react_production.Activity=V,react_production.Children=pe,react_production.Component=yt,react_production.Fragment=g,react_production.Profiler=D,react_production.PureComponent=mt,react_production.StrictMode=w,react_production.Suspense=H,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,react_production.__COMPILER_RUNTIME={__proto__:null,c:function($t){return _t.H.useMemoCache($t)}},react_production.cache=function($t){return function(){return $t.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function($t,Wt,fe){if($t==null)throw Error("The argument must be a React element, but you passed "+$t+".");var oe=ot({},$t.props),Xt=$t.key;if(Wt!=null)for(ne in Wt.key!==void 0&&(Xt=""+Wt.key),Wt)!Mt.call(Wt,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&Wt.ref===void 0||(oe[ne]=Wt[ne]);var ne=arguments.length-2;if(ne===1)oe.children=fe;else if(1<ne){for(var ye=Array(ne),Ie=0;Ie<ne;Ie++)ye[Ie]=arguments[Ie+2];oe.children=ye}return wt($t.type,Xt,oe)},react_production.createContext=function($t){return $t={$$typeof:F,_currentValue:$t,_currentValue2:$t,_threadCount:0,Provider:null,Consumer:null},$t.Provider=$t,$t.Consumer={$$typeof:P,_context:$t},$t},react_production.createElement=function($t,Wt,fe){var oe,Xt={},ne=null;if(Wt!=null)for(oe in Wt.key!==void 0&&(ne=""+Wt.key),Wt)Mt.call(Wt,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Xt[oe]=Wt[oe]);var ye=arguments.length-2;if(ye===1)Xt.children=fe;else if(1<ye){for(var Ie=Array(ye),$e=0;$e<ye;$e++)Ie[$e]=arguments[$e+2];Xt.children=Ie}if($t&&$t.defaultProps)for(oe in ye=$t.defaultProps,ye)Xt[oe]===void 0&&(Xt[oe]=ye[oe]);return wt($t,ne,Xt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function($t){return{$$typeof:U,render:$t}},react_production.isValidElement=ht,react_production.lazy=function($t){return{$$typeof:X,_payload:{_status:-1,_result:$t},_init:Kt}},react_production.memo=function($t,Wt){return{$$typeof:q,type:$t,compare:Wt===void 0?null:Wt}},react_production.startTransition=function($t){var Wt=_t.T,fe={};_t.T=fe;try{var oe=$t(),Xt=_t.S;Xt!==null&&Xt(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(At,Qt)}catch(ne){Qt(ne)}finally{Wt!==null&&fe.types!==null&&(Wt.types=fe.types),_t.T=Wt}},react_production.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},react_production.use=function($t){return _t.H.use($t)},react_production.useActionState=function($t,Wt,fe){return _t.H.useActionState($t,Wt,fe)},react_production.useCallback=function($t,Wt){return _t.H.useCallback($t,Wt)},react_production.useContext=function($t){return _t.H.useContext($t)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function($t,Wt){return _t.H.useDeferredValue($t,Wt)},react_production.useEffect=function($t,Wt){return _t.H.useEffect($t,Wt)},react_production.useEffectEvent=function($t){return _t.H.useEffectEvent($t)},react_production.useId=function(){return _t.H.useId()},react_production.useImperativeHandle=function($t,Wt,fe){return _t.H.useImperativeHandle($t,Wt,fe)},react_production.useInsertionEffect=function($t,Wt){return _t.H.useInsertionEffect($t,Wt)},react_production.useLayoutEffect=function($t,Wt){return _t.H.useLayoutEffect($t,Wt)},react_production.useMemo=function($t,Wt){return _t.H.useMemo($t,Wt)},react_production.useOptimistic=function($t,Wt){return _t.H.useOptimistic($t,Wt)},react_production.useReducer=function($t,Wt,fe){return _t.H.useReducer($t,Wt,fe)},react_production.useRef=function($t){return _t.H.useRef($t)},react_production.useState=function($t){return _t.H.useState($t)},react_production.useSyncExternalStore=function($t,Wt,fe){return _t.H.useSyncExternalStore($t,Wt,fe)},react_production.useTransition=function(){return _t.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs$1(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(d){function m(Ct,Jt){var Kt=Ct.length;Ct.push(Jt);t:for(;0<Kt;){var Qt=Kt-1>>>1,pe=Ct[Qt];if(0<D(pe,Jt))Ct[Qt]=Jt,Ct[Kt]=pe,Kt=Qt;else break t}}function g(Ct){return Ct.length===0?null:Ct[0]}function w(Ct){if(Ct.length===0)return null;var Jt=Ct[0],Kt=Ct.pop();if(Kt!==Jt){Ct[0]=Kt;t:for(var Qt=0,pe=Ct.length,$t=pe>>>1;Qt<$t;){var Wt=2*(Qt+1)-1,fe=Ct[Wt],oe=Wt+1,Xt=Ct[oe];if(0>D(fe,Kt))oe<pe&&0>D(Xt,fe)?(Ct[Qt]=Xt,Ct[oe]=Kt,Qt=oe):(Ct[Qt]=fe,Ct[Wt]=Kt,Qt=Wt);else if(oe<pe&&0>D(Xt,Kt))Ct[Qt]=Xt,Ct[oe]=Kt,Qt=oe;else break t}}return Jt}function D(Ct,Jt){var Kt=Ct.sortIndex-Jt.sortIndex;return Kt!==0?Kt:Ct.id-Jt.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var P=performance;d.unstable_now=function(){return P.now()}}else{var F=Date,U=F.now();d.unstable_now=function(){return F.now()-U}}var H=[],q=[],X=1,V=null,J=3,et=!1,at=!1,ot=!1,ut=!1,yt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function dt(Ct){for(var Jt=g(q);Jt!==null;){if(Jt.callback===null)w(q);else if(Jt.startTime<=Ct)w(q),Jt.sortIndex=Jt.expirationTime,m(H,Jt);else break;Jt=g(q)}}function gt(Ct){if(ot=!1,dt(Ct),!at)if(g(H)!==null)at=!0,At||(At=!0,It());else{var Jt=g(q);Jt!==null&&Ot(gt,Jt.startTime-Ct)}}var At=!1,_t=-1,Mt=5,wt=-1;function zt(){return ut?!0:!(d.unstable_now()-wt<Mt)}function ht(){if(ut=!1,At){var Ct=d.unstable_now();wt=Ct;var Jt=!0;try{t:{at=!1,ot&&(ot=!1,vt(_t),_t=-1),et=!0;var Kt=J;try{e:{for(dt(Ct),V=g(H);V!==null&&!(V.expirationTime>Ct&&zt());){var Qt=V.callback;if(typeof Qt=="function"){V.callback=null,J=V.priorityLevel;var pe=Qt(V.expirationTime<=Ct);if(Ct=d.unstable_now(),typeof pe=="function"){V.callback=pe,dt(Ct),Jt=!0;break e}V===g(H)&&w(H),dt(Ct)}else w(H);V=g(H)}if(V!==null)Jt=!0;else{var $t=g(q);$t!==null&&Ot(gt,$t.startTime-Ct),Jt=!1}}break t}finally{V=null,J=Kt,et=!1}Jt=void 0}}finally{Jt?It():At=!1}}}var It;if(typeof mt=="function")It=function(){mt(ht)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,Nt=qt.port2;qt.port1.onmessage=ht,It=function(){Nt.postMessage(null)}}else It=function(){yt(ht,0)};function Ot(Ct,Jt){_t=yt(function(){Ct(d.unstable_now())},Jt)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(Ct){Ct.callback=null},d.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Ct?Math.floor(1e3/Ct):5},d.unstable_getCurrentPriorityLevel=function(){return J},d.unstable_next=function(Ct){switch(J){case 1:case 2:case 3:var Jt=3;break;default:Jt=J}var Kt=J;J=Jt;try{return Ct()}finally{J=Kt}},d.unstable_requestPaint=function(){ut=!0},d.unstable_runWithPriority=function(Ct,Jt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var Kt=J;J=Ct;try{return Jt()}finally{J=Kt}},d.unstable_scheduleCallback=function(Ct,Jt,Kt){var Qt=d.unstable_now();switch(typeof Kt=="object"&&Kt!==null?(Kt=Kt.delay,Kt=typeof Kt=="number"&&0<Kt?Qt+Kt:Qt):Kt=Qt,Ct){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Kt+pe,Ct={id:X++,callback:Jt,priorityLevel:Ct,startTime:Kt,expirationTime:pe,sortIndex:-1},Kt>Qt?(Ct.sortIndex=Kt,m(q,Ct),g(H)===null&&Ct===g(q)&&(ot?(vt(_t),_t=-1):ot=!0,Ot(gt,Kt-Qt))):(Ct.sortIndex=pe,m(H,Ct),at||et||(at=!0,At||(At=!0,It()))),Ct},d.unstable_shouldYield=zt,d.unstable_wrapCallback=function(Ct){var Jt=J;return function(){var Kt=J;J=Jt;try{return Ct.apply(this,arguments)}finally{J=Kt}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var d=requireReact();function m(H){var q="https://react.dev/errors/"+H;if(1<arguments.length){q+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)q+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+H+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var w={d:{f:g,r:function(){throw Error(m(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},D=Symbol.for("react.portal");function P(H,q,X){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:V==null?null:""+V,children:H,containerInfo:q,implementation:X}}var F=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function U(H,q){if(H==="font")return"";if(typeof q=="string")return q==="use-credentials"?q:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,reactDom_production.createPortal=function(H,q){var X=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q||q.nodeType!==1&&q.nodeType!==9&&q.nodeType!==11)throw Error(m(299));return P(H,q,null,X)},reactDom_production.flushSync=function(H){var q=F.T,X=w.p;try{if(F.T=null,w.p=2,H)return H()}finally{F.T=q,w.p=X,w.d.f()}},reactDom_production.preconnect=function(H,q){typeof H=="string"&&(q?(q=q.crossOrigin,q=typeof q=="string"?q==="use-credentials"?q:"":void 0):q=null,w.d.C(H,q))},reactDom_production.prefetchDNS=function(H){typeof H=="string"&&w.d.D(H)},reactDom_production.preinit=function(H,q){if(typeof H=="string"&&q&&typeof q.as=="string"){var X=q.as,V=U(X,q.crossOrigin),J=typeof q.integrity=="string"?q.integrity:void 0,et=typeof q.fetchPriority=="string"?q.fetchPriority:void 0;X==="style"?w.d.S(H,typeof q.precedence=="string"?q.precedence:void 0,{crossOrigin:V,integrity:J,fetchPriority:et}):X==="script"&&w.d.X(H,{crossOrigin:V,integrity:J,fetchPriority:et,nonce:typeof q.nonce=="string"?q.nonce:void 0})}},reactDom_production.preinitModule=function(H,q){if(typeof H=="string")if(typeof q=="object"&&q!==null){if(q.as==null||q.as==="script"){var X=U(q.as,q.crossOrigin);w.d.M(H,{crossOrigin:X,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0})}}else q==null&&w.d.M(H)},reactDom_production.preload=function(H,q){if(typeof H=="string"&&typeof q=="object"&&q!==null&&typeof q.as=="string"){var X=q.as,V=U(X,q.crossOrigin);w.d.L(H,X,{crossOrigin:V,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0,type:typeof q.type=="string"?q.type:void 0,fetchPriority:typeof q.fetchPriority=="string"?q.fetchPriority:void 0,referrerPolicy:typeof q.referrerPolicy=="string"?q.referrerPolicy:void 0,imageSrcSet:typeof q.imageSrcSet=="string"?q.imageSrcSet:void 0,imageSizes:typeof q.imageSizes=="string"?q.imageSizes:void 0,media:typeof q.media=="string"?q.media:void 0})}},reactDom_production.preloadModule=function(H,q){if(typeof H=="string")if(q){var X=U(q.as,q.crossOrigin);w.d.m(H,{as:typeof q.as=="string"&&q.as!=="script"?q.as:void 0,crossOrigin:X,integrity:typeof q.integrity=="string"?q.integrity:void 0})}else w.d.m(H)},reactDom_production.requestFormReset=function(H){w.d.r(H)},reactDom_production.unstable_batchedUpdates=function(H,q){return H(q)},reactDom_production.useFormState=function(H,q,X){return F.H.useFormState(H,q,X)},reactDom_production.useFormStatus=function(){return F.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var d=requireScheduler(),m=requireReact(),g=requireReactDom();function w(I){var $="https://react.dev/errors/"+I;if(1<arguments.length){$+="?args[]="+encodeURIComponent(arguments[1]);for(var Z=2;Z<arguments.length;Z++)$+="&args[]="+encodeURIComponent(arguments[Z])}return"Minified React error #"+I+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function D(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)}function P(I){var $=I,Z=I;if(I.alternate)for(;$.return;)$=$.return;else{I=$;do $=I,($.flags&4098)!==0&&(Z=$.return),I=$.return;while(I)}return $.tag===3?Z:null}function F(I){if(I.tag===13){var $=I.memoizedState;if($===null&&(I=I.alternate,I!==null&&($=I.memoizedState)),$!==null)return $.dehydrated}return null}function U(I){if(I.tag===31){var $=I.memoizedState;if($===null&&(I=I.alternate,I!==null&&($=I.memoizedState)),$!==null)return $.dehydrated}return null}function H(I){if(P(I)!==I)throw Error(w(188))}function q(I){var $=I.alternate;if(!$){if($=P(I),$===null)throw Error(w(188));return $!==I?null:I}for(var Z=I,W=$;;){var st=Z.return;if(st===null)break;var ct=st.alternate;if(ct===null){if(W=st.return,W!==null){Z=W;continue}break}if(st.child===ct.child){for(ct=st.child;ct;){if(ct===Z)return H(st),I;if(ct===W)return H(st),$;ct=ct.sibling}throw Error(w(188))}if(Z.return!==W.return)Z=st,W=ct;else{for(var Ht=!1,me=st.child;me;){if(me===Z){Ht=!0,Z=st,W=ct;break}if(me===W){Ht=!0,W=st,Z=ct;break}me=me.sibling}if(!Ht){for(me=ct.child;me;){if(me===Z){Ht=!0,Z=ct,W=st;break}if(me===W){Ht=!0,W=ct,Z=st;break}me=me.sibling}if(!Ht)throw Error(w(189))}}if(Z.alternate!==W)throw Error(w(190))}if(Z.tag!==3)throw Error(w(188));return Z.stateNode.current===Z?I:$}function X(I){var $=I.tag;if($===5||$===26||$===27||$===6)return I;for(I=I.child;I!==null;){if($=X(I),$!==null)return $;I=I.sibling}return null}var V=Object.assign,J=Symbol.for("react.element"),et=Symbol.for("react.transitional.element"),at=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),ut=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),wt=Symbol.for("react.activity"),zt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function It(I){return I===null||typeof I!="object"?null:(I=ht&&I[ht]||I["@@iterator"],typeof I=="function"?I:null)}var qt=Symbol.for("react.client.reference");function Nt(I){if(I==null)return null;if(typeof I=="function")return I.$$typeof===qt?null:I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case ot:return"Fragment";case yt:return"Profiler";case ut:return"StrictMode";case gt:return"Suspense";case At:return"SuspenseList";case wt:return"Activity"}if(typeof I=="object")switch(I.$$typeof){case at:return"Portal";case mt:return I.displayName||"Context";case vt:return(I._context.displayName||"Context")+".Consumer";case dt:var $=I.render;return I=I.displayName,I||(I=$.displayName||$.name||"",I=I!==""?"ForwardRef("+I+")":"ForwardRef"),I;case _t:return $=I.displayName||null,$!==null?$:Nt(I.type)||"Memo";case Mt:$=I._payload,I=I._init;try{return Nt(I($))}catch{}}return null}var Ot=Array.isArray,Ct=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jt=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kt={pending:!1,data:null,method:null,action:null},Qt=[],pe=-1;function $t(I){return{current:I}}function Wt(I){0>pe||(I.current=Qt[pe],Qt[pe]=null,pe--)}function fe(I,$){pe++,Qt[pe]=I.current,I.current=$}var oe=$t(null),Xt=$t(null),ne=$t(null),ye=$t(null);function Ie(I,$){switch(fe(ne,$),fe(Xt,I),fe(oe,null),$.nodeType){case 9:case 11:I=(I=$.documentElement)&&(I=I.namespaceURI)?Qp(I):0;break;default:if(I=$.tagName,$=$.namespaceURI)$=Qp($),I=Wp($,I);else switch(I){case"svg":I=1;break;case"math":I=2;break;default:I=0}}Wt(oe),fe(oe,I)}function $e(){Wt(oe),Wt(Xt),Wt(ne)}function he(I){I.memoizedState!==null&&fe(ye,I);var $=oe.current,Z=Wp($,I.type);$!==Z&&(fe(Xt,I),fe(oe,Z))}function xt(I){Xt.current===I&&(Wt(oe),Wt(Xt)),ye.current===I&&(Wt(ye),Xl._currentValue=Kt)}var ue,Ft;function Ut(I){if(ue===void 0)try{throw Error()}catch(Z){var $=Z.stack.trim().match(/\n( *(at )?)/);ue=$&&$[1]||"",Ft=-1<Z.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Z.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+I+Ft}var Lt=!1;function Vt(I,$){if(!I||Lt)return"";Lt=!0;var Z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var W={DetermineComponentFrameRoot:function(){try{if($){var yi=function(){throw Error()};if(Object.defineProperty(yi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yi,[])}catch(ci){var Je=ci}Reflect.construct(I,[],yi)}else{try{yi.call()}catch(ci){Je=ci}I.call(yi.prototype)}}else{try{throw Error()}catch(ci){Je=ci}(yi=I())&&typeof yi.catch=="function"&&yi.catch(function(){})}}catch(ci){if(ci&&Je&&typeof ci.stack=="string")return[ci.stack,Je.stack]}return[null,null]}};W.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var st=Object.getOwnPropertyDescriptor(W.DetermineComponentFrameRoot,"name");st&&st.configurable&&Object.defineProperty(W.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ct=W.DetermineComponentFrameRoot(),Ht=ct[0],me=ct[1];if(Ht&&me){var ze=Ht.split(`
`),Ke=me.split(`
`);for(st=W=0;W<ze.length&&!ze[W].includes("DetermineComponentFrameRoot");)W++;for(;st<Ke.length&&!Ke[st].includes("DetermineComponentFrameRoot");)st++;if(W===ze.length||st===Ke.length)for(W=ze.length-1,st=Ke.length-1;1<=W&&0<=st&&ze[W]!==Ke[st];)st--;for(;1<=W&&0<=st;W--,st--)if(ze[W]!==Ke[st]){if(W!==1||st!==1)do if(W--,st--,0>st||ze[W]!==Ke[st]){var pi=`
`+ze[W].replace(" at new "," at ");return I.displayName&&pi.includes("<anonymous>")&&(pi=pi.replace("<anonymous>",I.displayName)),pi}while(1<=W&&0<=st);break}}}finally{Lt=!1,Error.prepareStackTrace=Z}return(Z=I?I.displayName||I.name:"")?Ut(Z):""}function ge(I,$){switch(I.tag){case 26:case 27:case 5:return Ut(I.type);case 16:return Ut("Lazy");case 13:return I.child!==$&&$!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return Vt(I.type,!1);case 11:return Vt(I.type.render,!1);case 1:return Vt(I.type,!0);case 31:return Ut("Activity");default:return""}}function pt(I){try{var $="",Z=null;do $+=ge(I,Z),Z=I,I=I.return;while(I);return $}catch(W){return`
Error generating stack: `+W.message+`
`+W.stack}}var Rt=Object.prototype.hasOwnProperty,Gt=d.unstable_scheduleCallback,jt=d.unstable_cancelCallback,xe=d.unstable_shouldYield,Be=d.unstable_requestPaint,oi=d.unstable_now,mi=d.unstable_getCurrentPriorityLevel,li=d.unstable_ImmediatePriority,gi=d.unstable_UserBlockingPriority,We=d.unstable_NormalPriority,Ii=d.unstable_LowPriority,Si=d.unstable_IdlePriority,Ti=d.log,Bi=d.unstable_setDisableYieldValue,Ei=null,_e=null;function hi(I){if(typeof Ti=="function"&&Bi(I),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Ei,I)}catch{}}var Ce=Math.clz32?Math.clz32:ui,Ne=Math.log,te=Math.LN2;function ui(I){return I>>>=0,I===0?32:31-(Ne(I)/te|0)|0}var Ai=256,Bt=262144,Ye=4194304;function Oe(I){var $=I&42;if($!==0)return $;switch(I&-I){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return I&261888;case 262144:case 524288:case 1048576:case 2097152:return I&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return I&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return I}}function Se(I,$,Z){var W=I.pendingLanes;if(W===0)return 0;var st=0,ct=I.suspendedLanes,Ht=I.pingedLanes;I=I.warmLanes;var me=W&134217727;return me!==0?(W=me&~ct,W!==0?st=Oe(W):(Ht&=me,Ht!==0?st=Oe(Ht):Z||(Z=me&~I,Z!==0&&(st=Oe(Z))))):(me=W&~ct,me!==0?st=Oe(me):Ht!==0?st=Oe(Ht):Z||(Z=W&~I,Z!==0&&(st=Oe(Z)))),st===0?0:$!==0&&$!==st&&($&ct)===0&&(ct=st&-st,Z=$&-$,ct>=Z||ct===32&&(Z&4194048)!==0)?$:st}function Ge(I,$){return(I.pendingLanes&~(I.suspendedLanes&~I.pingedLanes)&$)===0}function Qe(I,$){switch(I){case 1:case 2:case 4:case 8:case 64:return $+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ri(){var I=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),I}function bi(I){for(var $=[],Z=0;31>Z;Z++)$.push(I);return $}function Mi(I,$){I.pendingLanes|=$,$!==268435456&&(I.suspendedLanes=0,I.pingedLanes=0,I.warmLanes=0)}function Ni(I,$,Z,W,st,ct){var Ht=I.pendingLanes;I.pendingLanes=Z,I.suspendedLanes=0,I.pingedLanes=0,I.warmLanes=0,I.expiredLanes&=Z,I.entangledLanes&=Z,I.errorRecoveryDisabledLanes&=Z,I.shellSuspendCounter=0;var me=I.entanglements,ze=I.expirationTimes,Ke=I.hiddenUpdates;for(Z=Ht&~Z;0<Z;){var pi=31-Ce(Z),yi=1<<pi;me[pi]=0,ze[pi]=-1;var Je=Ke[pi];if(Je!==null)for(Ke[pi]=null,pi=0;pi<Je.length;pi++){var ci=Je[pi];ci!==null&&(ci.lane&=-536870913)}Z&=~yi}W!==0&&Tn(I,W,0),ct!==0&&st===0&&I.tag!==0&&(I.suspendedLanes|=ct&~(Ht&~$))}function Tn(I,$,Z){I.pendingLanes|=$,I.suspendedLanes&=~$;var W=31-Ce($);I.entangledLanes|=$,I.entanglements[W]=I.entanglements[W]|1073741824|Z&261930}function ki(I,$){var Z=I.entangledLanes|=$;for(I=I.entanglements;Z;){var W=31-Ce(Z),st=1<<W;st&$|I[W]&$&&(I[W]|=$),Z&=~st}}function rn(I,$){var Z=$&-$;return Z=(Z&42)!==0?1:dn(Z),(Z&(I.suspendedLanes|$))!==0?0:Z}function dn(I){switch(I){case 2:I=1;break;case 8:I=4;break;case 32:I=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:I=128;break;case 268435456:I=134217728;break;default:I=0}return I}function cn(I){return I&=-I,2<I?8<I?(I&134217727)!==0?32:268435456:8:2}function _a(){var I=Jt.p;return I!==0?I:(I=window.event,I===void 0?32:gm(I.type))}function ga(I,$){var Z=Jt.p;try{return Jt.p=I,$()}finally{Jt.p=Z}}var Wi=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Wi,Yt="__reactProps$"+Wi,pn="__reactContainer$"+Wi,Ci="__reactEvents$"+Wi,_n="__reactListeners$"+Wi,Oa="__reactHandles$"+Wi,ps="__reactResources$"+Wi,Pa="__reactMarker$"+Wi;function Cr(I){delete I[Ui],delete I[Yt],delete I[Ci],delete I[_n],delete I[Oa]}function Kn(I){var $=I[Ui];if($)return $;for(var Z=I.parentNode;Z;){if($=Z[pn]||Z[Ui]){if(Z=$.alternate,$.child!==null||Z!==null&&Z.child!==null)for(I=em(I);I!==null;){if(Z=I[Ui])return Z;I=em(I)}return $}I=Z,Z=I.parentNode}return null}function Zn(I){if(I=I[Ui]||I[pn]){var $=I.tag;if($===5||$===6||$===13||$===31||$===26||$===27||$===3)return I}return null}function Na(I){var $=I.tag;if($===5||$===26||$===27||$===6)return I.stateNode;throw Error(w(33))}function xa(I){var $=I[ps];return $||($=I[ps]={hoistableStyles:new Map,hoistableScripts:new Map}),$}function en(I){I[Pa]=!0}var eu=new Set,iu={};function Ya(I,$){Ir(I,$),Ir(I+"Capture",$)}function Ir(I,$){for(iu[I]=$,I=0;I<$.length;I++)eu.add($[I])}var zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},au={};function Oc(I){return Rt.call(au,I)?!0:Rt.call(nu,I)?!1:zc.test(I)?au[I]=!0:(nu[I]=!0,!1)}function zs(I,$,Z){if(Oc($))if(Z===null)I.removeAttribute($);else{switch(typeof Z){case"undefined":case"function":case"symbol":I.removeAttribute($);return;case"boolean":var W=$.toLowerCase().slice(0,5);if(W!=="data-"&&W!=="aria-"){I.removeAttribute($);return}}I.setAttribute($,""+Z)}}function Os(I,$,Z){if(Z===null)I.removeAttribute($);else{switch(typeof Z){case"undefined":case"function":case"symbol":case"boolean":I.removeAttribute($);return}I.setAttribute($,""+Z)}}function Ea(I,$,Z,W){if(W===null)I.removeAttribute(Z);else{switch(typeof W){case"undefined":case"function":case"symbol":case"boolean":I.removeAttribute(Z);return}I.setAttributeNS($,Z,""+W)}}function Jn(I){switch(typeof I){case"bigint":case"boolean":case"number":case"string":case"undefined":return I;case"object":return I;default:return""}}function ru(I){var $=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ps(I,$,Z){var W=Object.getOwnPropertyDescriptor(I.constructor.prototype,$);if(!I.hasOwnProperty($)&&typeof W<"u"&&typeof W.get=="function"&&typeof W.set=="function"){var st=W.get,ct=W.set;return Object.defineProperty(I,$,{configurable:!0,get:function(){return st.call(this)},set:function(Ht){Z=""+Ht,ct.call(this,Ht)}}),Object.defineProperty(I,$,{enumerable:W.enumerable}),{getValue:function(){return Z},setValue:function(Ht){Z=""+Ht},stopTracking:function(){I._valueTracker=null,delete I[$]}}}}function ms(I){if(!I._valueTracker){var $=ru(I)?"checked":"value";I._valueTracker=Ps(I,$,""+I[$])}}function Rr(I){if(!I)return!1;var $=I._valueTracker;if(!$)return!0;var Z=$.getValue(),W="";return I&&(W=ru(I)?I.checked?"true":"false":I.value),I=W,I!==Z?($.setValue(I),!0):!1}function Sa(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}var Va=/[\n"\\]/g;function Nn(I){return I.replace(Va,function($){return"\\"+$.charCodeAt(0).toString(16)+" "})}function Zo(I,$,Z,W,st,ct,Ht,me){I.name="",Ht!=null&&typeof Ht!="function"&&typeof Ht!="symbol"&&typeof Ht!="boolean"?I.type=Ht:I.removeAttribute("type"),$!=null?Ht==="number"?($===0&&I.value===""||I.value!=$)&&(I.value=""+Jn($)):I.value!==""+Jn($)&&(I.value=""+Jn($)):Ht!=="submit"&&Ht!=="reset"||I.removeAttribute("value"),$!=null?gs(I,Ht,Jn($)):Z!=null?gs(I,Ht,Jn(Z)):W!=null&&I.removeAttribute("value"),st==null&&ct!=null&&(I.defaultChecked=!!ct),st!=null&&(I.checked=st&&typeof st!="function"&&typeof st!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?I.name=""+Jn(me):I.removeAttribute("name")}function _s(I,$,Z,W,st,ct,Ht,me){if(ct!=null&&typeof ct!="function"&&typeof ct!="symbol"&&typeof ct!="boolean"&&(I.type=ct),$!=null||Z!=null){if(!(ct!=="submit"&&ct!=="reset"||$!=null)){ms(I);return}Z=Z!=null?""+Jn(Z):"",$=$!=null?""+Jn($):Z,me||$===I.value||(I.value=$),I.defaultValue=$}W=W??st,W=typeof W!="function"&&typeof W!="symbol"&&!!W,I.checked=me?I.checked:!!W,I.defaultChecked=!!W,Ht!=null&&typeof Ht!="function"&&typeof Ht!="symbol"&&typeof Ht!="boolean"&&(I.name=Ht),ms(I)}function gs(I,$,Z){$==="number"&&Sa(I.ownerDocument)===I||I.defaultValue===""+Z||(I.defaultValue=""+Z)}function Dr(I,$,Z,W){if(I=I.options,$){$={};for(var st=0;st<Z.length;st++)$["$"+Z[st]]=!0;for(Z=0;Z<I.length;Z++)st=$.hasOwnProperty("$"+I[Z].value),I[Z].selected!==st&&(I[Z].selected=st),st&&W&&(I[Z].defaultSelected=!0)}else{for(Z=""+Jn(Z),$=null,st=0;st<I.length;st++){if(I[st].value===Z){I[st].selected=!0,W&&(I[st].defaultSelected=!0);return}$!==null||I[st].disabled||($=I[st])}$!==null&&($.selected=!0)}}function ys(I,$,Z){if($!=null&&($=""+Jn($),$!==I.value&&(I.value=$),Z==null)){I.defaultValue!==$&&(I.defaultValue=$);return}I.defaultValue=Z!=null?""+Jn(Z):""}function su(I,$,Z,W){if($==null){if(W!=null){if(Z!=null)throw Error(w(92));if(Ot(W)){if(1<W.length)throw Error(w(93));W=W[0]}Z=W}Z==null&&(Z=""),$=Z}Z=Jn($),I.defaultValue=Z,W=I.textContent,W===Z&&W!==""&&W!==null&&(I.value=W),ms(I)}function Xa(I,$){if($){var Z=I.firstChild;if(Z&&Z===I.lastChild&&Z.nodeType===3){Z.nodeValue=$;return}}I.textContent=$}var Rn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bs(I,$,Z){var W=$.indexOf("--")===0;Z==null||typeof Z=="boolean"||Z===""?W?I.setProperty($,""):$==="float"?I.cssFloat="":I[$]="":W?I.setProperty($,Z):typeof Z!="number"||Z===0||Rn.has($)?$==="float"?I.cssFloat=Z:I[$]=(""+Z).trim():I[$]=Z+"px"}function Yi(I,$,Z){if($!=null&&typeof $!="object")throw Error(w(62));if(I=I.style,Z!=null){for(var W in Z)!Z.hasOwnProperty(W)||$!=null&&$.hasOwnProperty(W)||(W.indexOf("--")===0?I.setProperty(W,""):W==="float"?I.cssFloat="":I[W]="");for(var st in $)W=$[st],$.hasOwnProperty(st)&&Z[st]!==W&&bs(I,st,W)}else for(var ct in $)$.hasOwnProperty(ct)&&bs(I,ct,$[ct])}function Ho(I){if(I.indexOf("-")===-1)return!1;switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(I){return ou.test(""+I)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":I}function Sn(){}var qo=null;function Qo(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var Fa=null,La=null;function Wo(I){var $=Zn(I);if($&&(I=$.stateNode)){var Z=I[Yt]||null;t:switch(I=$.stateNode,$.type){case"input":if(Zo(I,Z.value,Z.defaultValue,Z.defaultValue,Z.checked,Z.defaultChecked,Z.type,Z.name),$=Z.name,Z.type==="radio"&&$!=null){for(Z=I;Z.parentNode;)Z=Z.parentNode;for(Z=Z.querySelectorAll('input[name="'+Nn(""+$)+'"][type="radio"]'),$=0;$<Z.length;$++){var W=Z[$];if(W!==I&&W.form===I.form){var st=W[Yt]||null;if(!st)throw Error(w(90));Zo(W,st.value,st.defaultValue,st.defaultValue,st.checked,st.defaultChecked,st.type,st.name)}}for($=0;$<Z.length;$++)W=Z[$],W.form===I.form&&Rr(W)}break t;case"textarea":ys(I,Z.value,Z.defaultValue);break t;case"select":$=Z.value,$!=null&&Dr(I,!!Z.multiple,$,!1)}}}var Yo=!1;function Vo(I,$,Z){if(Yo)return I($,Z);Yo=!0;try{var W=I($);return W}finally{if(Yo=!1,(Fa!==null||La!==null)&&(hc(),Fa&&($=Fa,I=La,La=Fa=null,Wo($),I)))for($=0;$<I.length;$++)Wo(I[$])}}function Ma(I,$){var Z=I.stateNode;if(Z===null)return null;var W=Z[Yt]||null;if(W===null)return null;Z=W[$];t:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(W=!W.disabled)||(I=I.type,W=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!W;break t;default:I=!1}if(I)return null;if(Z&&typeof Z!="function")throw Error(w(231,$,typeof Z));return Z}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(ka)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{$r=!1}var Ta=null,Xo=null,Br=null;function lu(){if(Br)return Br;var I,$=Xo,Z=$.length,W,st="value"in Ta?Ta.value:Ta.textContent,ct=st.length;for(I=0;I<Z&&$[I]===st[I];I++);var Ht=Z-I;for(W=1;W<=Ht&&$[Z-W]===st[ct-W];W++);return Br=st.slice(I,1<W?1-W:void 0)}function Fs(I){var $=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&$===13&&(I=13)):I=$,I===10&&(I=13),32<=I||I===13?I:0}function Ls(){return!0}function uu(){return!1}function On(I){function $(Z,W,st,ct,Ht){this._reactName=Z,this._targetInst=st,this.type=W,this.nativeEvent=ct,this.target=Ht,this.currentTarget=null;for(var me in I)I.hasOwnProperty(me)&&(Z=I[me],this[me]=Z?Z(ct):ct[me]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?Ls:uu,this.isPropagationStopped=uu,this}return V($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Z=this.nativeEvent;Z&&(Z.preventDefault?Z.preventDefault():typeof Z.returnValue!="unknown"&&(Z.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var Z=this.nativeEvent;Z&&(Z.stopPropagation?Z.stopPropagation():typeof Z.cancelBubble!="unknown"&&(Z.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),$}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=On(Ka),vs=V({},Ka,{view:0,detail:0}),cu=On(vs),Ko,Jo,ws,Ja=V({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==ws&&(ws&&I.type==="mousemove"?(Ko=I.screenX-ws.screenX,Jo=I.screenY-ws.screenY):Jo=Ko=0,ws=I),Ko)},movementY:function(I){return"movementY"in I?I.movementY:Jo}}),fu=On(Ja),Pc=V({},Ja,{dataTransfer:0}),Gs=On(Pc),hu=V({},vs,{relatedTarget:0}),tl=On(hu),Nc=V({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=On(Nc),Fc=V({},Ka,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),du=On(Fc),pu=V({},Ka,{data:0}),mu=On(pu),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(I){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(I):(I=il[I])?!!$[I]:!1}function nl(){return Lc}var Qn=V({},vs,{key:function(I){if(I.key){var $=el[I.key]||I.key;if($!=="Unidentified")return $}return I.type==="keypress"?(I=Fs(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?Ca[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(I){return I.type==="keypress"?Fs(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?Fs(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),Uc=On(Qn),Gc=V({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=On(Gc),jc=V({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),al=On(jc),Zc=V({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=On(Zc),qc=V({},Ja,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),Qc=On(qc),Wc=V({},Ka,{newState:0,oldState:0}),Yc=On(Wc),Vc=[9,13,27,32],rl=ka&&"CompositionEvent"in window,xs=null;ka&&"documentMode"in document&&(xs=document.documentMode);var Xc=ka&&"TextEvent"in window&&!xs,gu=ka&&(!rl||xs&&8<xs&&11>=xs),yu=" ",bu=!1;function sl(I,$){switch(I){case"keyup":return Vc.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var zr=!1;function Kc(I,$){switch(I){case"compositionend":return vu($);case"keypress":return $.which!==32?null:(bu=!0,yu);case"textInput":return I=$.data,I===yu&&bu?null:I;default:return null}}function Jc(I,$){if(zr)return I==="compositionend"||!rl&&sl(I,$)?(I=lu(),Br=Xo=Ta=null,zr=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return gu&&$.locale!=="ko"?null:$.data;default:return null}}var tf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(I){var $=I&&I.nodeName&&I.nodeName.toLowerCase();return $==="input"?!!tf[I.type]:$==="textarea"}function xu(I,$,Z,W){Fa?La?La.push(W):La=[W]:Fa=W,$=bc($,"onChange"),0<$.length&&(Z=new Us("onChange","change",null,Z,W),I.push({event:Z,listeners:$}))}var Es=null,Ss=null;function ef(I){Up(I,0)}function Ms(I){var $=Na(I);if(Rr($))return I}function Eu(I,$){if(I==="change")return $}var Su=!1;if(ka){var ol;if(ka){var ll="oninput"in document;if(!ll){var ul=document.createElement("div");ul.setAttribute("oninput","return;"),ll=typeof ul.oninput=="function"}ol=ll}else ol=!1;Su=ol&&(!document.documentMode||9<document.documentMode)}function js(){Es&&(Es.detachEvent("onpropertychange",Mu),Ss=Es=null)}function Mu(I){if(I.propertyName==="value"&&Ms(Ss)){var $=[];xu($,Ss,I,Qo(I)),Vo(ef,$)}}function nf(I,$,Z){I==="focusin"?(js(),Es=$,Ss=Z,Es.attachEvent("onpropertychange",Mu)):I==="focusout"&&js()}function af(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return Ms(Ss)}function rf(I,$){if(I==="click")return Ms($)}function sf(I,$){if(I==="input"||I==="change")return Ms($)}function of(I,$){return I===$&&(I!==0||1/I===1/$)||I!==I&&$!==$}var Wn=typeof Object.is=="function"?Object.is:of;function ks(I,$){if(Wn(I,$))return!0;if(typeof I!="object"||I===null||typeof $!="object"||$===null)return!1;var Z=Object.keys(I),W=Object.keys($);if(Z.length!==W.length)return!1;for(W=0;W<Z.length;W++){var st=Z[W];if(!Rt.call($,st)||!Wn(I[st],$[st]))return!1}return!0}function ku(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function Tu(I,$){var Z=ku(I);I=0;for(var W;Z;){if(Z.nodeType===3){if(W=I+Z.textContent.length,I<=$&&W>=$)return{node:Z,offset:$-I};I=W}t:{for(;Z;){if(Z.nextSibling){Z=Z.nextSibling;break t}Z=Z.parentNode}Z=void 0}Z=ku(Z)}}function Au(I,$){return I&&$?I===$?!0:I&&I.nodeType===3?!1:$&&$.nodeType===3?Au(I,$.parentNode):"contains"in I?I.contains($):I.compareDocumentPosition?!!(I.compareDocumentPosition($)&16):!1:!1}function Cu(I){I=I!=null&&I.ownerDocument!=null&&I.ownerDocument.defaultView!=null?I.ownerDocument.defaultView:window;for(var $=Sa(I.document);$ instanceof I.HTMLIFrameElement;){try{var Z=typeof $.contentWindow.location.href=="string"}catch{Z=!1}if(Z)I=$.contentWindow;else break;$=Sa(I.document)}return $}function cl(I){var $=I&&I.nodeName&&I.nodeName.toLowerCase();return $&&($==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||$==="textarea"||I.contentEditable==="true")}var lf=ka&&"documentMode"in document&&11>=document.documentMode,Pr=null,fl=null,Ts=null,Zs=!1;function Iu(I,$,Z){var W=Z.window===Z?Z.document:Z.nodeType===9?Z:Z.ownerDocument;Zs||Pr==null||Pr!==Sa(W)||(W=Pr,"selectionStart"in W&&cl(W)?W={start:W.selectionStart,end:W.selectionEnd}:(W=(W.ownerDocument&&W.ownerDocument.defaultView||window).getSelection(),W={anchorNode:W.anchorNode,anchorOffset:W.anchorOffset,focusNode:W.focusNode,focusOffset:W.focusOffset}),Ts&&ks(Ts,W)||(Ts=W,W=bc(fl,"onSelect"),0<W.length&&($=new Us("onSelect","select",null,$,Z),I.push({event:$,listeners:W}),$.target=Pr)))}function ur(I,$){var Z={};return Z[I.toLowerCase()]=$.toLowerCase(),Z["Webkit"+I]="webkit"+$,Z["Moz"+I]="moz"+$,Z}var Nr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hl={},Ru={};ka&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ga(I){if(hl[I])return hl[I];if(!Nr[I])return I;var $=Nr[I],Z;for(Z in $)if($.hasOwnProperty(Z)&&Z in Ru)return hl[I]=$[Z];return I}var dl=Ga("animationend"),Du=Ga("animationiteration"),$u=Ga("animationstart"),Bu=Ga("transitionrun"),uf=Ga("transitionstart"),cf=Ga("transitioncancel"),zu=Ga("transitionend"),Hs=new Map,pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pl.push("scrollEnd");function Fn(I,$){Hs.set(I,$),Ya($,[I])}var qs=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ta=[],Fr=0,Qs=0;function Ws(){for(var I=Fr,$=Qs=Fr=0;$<I;){var Z=ta[$];ta[$++]=null;var W=ta[$];ta[$++]=null;var st=ta[$];ta[$++]=null;var ct=ta[$];if(ta[$++]=null,W!==null&&st!==null){var Ht=W.pending;Ht===null?st.next=st:(st.next=Ht.next,Ht.next=st),W.pending=st}ct!==0&&_l(Z,st,ct)}}function Ys(I,$,Z,W){ta[Fr++]=I,ta[Fr++]=$,ta[Fr++]=Z,ta[Fr++]=W,Qs|=W,I.lanes|=W,I=I.alternate,I!==null&&(I.lanes|=W)}function ml(I,$,Z,W){return Ys(I,$,Z,W),Vs(I)}function fr(I,$){return Ys(I,null,null,$),Vs(I)}function _l(I,$,Z){I.lanes|=Z;var W=I.alternate;W!==null&&(W.lanes|=Z);for(var st=!1,ct=I.return;ct!==null;)ct.childLanes|=Z,W=ct.alternate,W!==null&&(W.childLanes|=Z),ct.tag===22&&(I=ct.stateNode,I===null||I._visibility&1||(st=!0)),I=ct,ct=ct.return;return I.tag===3?(ct=I.stateNode,st&&$!==null&&(st=31-Ce(Z),I=ct.hiddenUpdates,W=I[st],W===null?I[st]=[$]:W.push($),$.lane=Z|536870912),ct):null}function Vs(I){if(50<Zl)throw Zl=0,uh=null,Error(w(185));for(var $=I.return;$!==null;)I=$,$=I.return;return I.tag===3?I.stateNode:null}var hr={};function ff(I,$,Z,W){this.tag=I,this.key=Z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=W,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(I,$,Z,W){return new ff(I,$,Z,W)}function gl(I){return I=I.prototype,!(!I||!I.isReactComponent)}function Ia(I,$){var Z=I.alternate;return Z===null?(Z=Yn(I.tag,$,I.key,I.mode),Z.elementType=I.elementType,Z.type=I.type,Z.stateNode=I.stateNode,Z.alternate=I,I.alternate=Z):(Z.pendingProps=$,Z.type=I.type,Z.flags=0,Z.subtreeFlags=0,Z.deletions=null),Z.flags=I.flags&65011712,Z.childLanes=I.childLanes,Z.lanes=I.lanes,Z.child=I.child,Z.memoizedProps=I.memoizedProps,Z.memoizedState=I.memoizedState,Z.updateQueue=I.updateQueue,$=I.dependencies,Z.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},Z.sibling=I.sibling,Z.index=I.index,Z.ref=I.ref,Z.refCleanup=I.refCleanup,Z}function Ou(I,$){I.flags&=65011714;var Z=I.alternate;return Z===null?(I.childLanes=0,I.lanes=$,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=Z.childLanes,I.lanes=Z.lanes,I.child=Z.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=Z.memoizedProps,I.memoizedState=Z.memoizedState,I.updateQueue=Z.updateQueue,I.type=Z.type,$=Z.dependencies,I.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),I}function Xs(I,$,Z,W,st,ct){var Ht=0;if(W=I,typeof I=="function")gl(I)&&(Ht=1);else if(typeof I=="string")Ht=S0(I,Z,oe.current)?26:I==="html"||I==="head"||I==="body"?27:5;else t:switch(I){case wt:return I=Yn(31,Z,$,st),I.elementType=wt,I.lanes=ct,I;case ot:return ja(Z.children,st,ct,$);case ut:Ht=8,st|=24;break;case yt:return I=Yn(12,Z,$,st|2),I.elementType=yt,I.lanes=ct,I;case gt:return I=Yn(13,Z,$,st),I.elementType=gt,I.lanes=ct,I;case At:return I=Yn(19,Z,$,st),I.elementType=At,I.lanes=ct,I;default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case mt:Ht=10;break t;case vt:Ht=9;break t;case dt:Ht=11;break t;case _t:Ht=14;break t;case Mt:Ht=16,W=null;break t}Ht=29,Z=Error(w(130,I===null?"null":typeof I,"")),W=null}return $=Yn(Ht,Z,$,st),$.elementType=I,$.type=W,$.lanes=ct,$}function ja(I,$,Z,W){return I=Yn(7,I,W,$),I.lanes=Z,I}function yl(I,$,Z){return I=Yn(6,I,null,$),I.lanes=Z,I}function Pu(I){var $=Yn(18,null,null,0);return $.stateNode=I,$}function bl(I,$,Z){return $=Yn(4,I.children!==null?I.children:[],I.key,$),$.lanes=Z,$.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},$}var Nu=new WeakMap;function Dn(I,$){if(typeof I=="object"&&I!==null){var Z=Nu.get(I);return Z!==void 0?Z:($={value:I,source:$,stack:pt($)},Nu.set(I,$),$)}return{value:I,source:$,stack:pt($)}}var Lr=[],dr=0,Ks=null,Ur=0,ea=[],ia=0,St=null,ya=1,ca="";function Ln(I,$){Lr[dr++]=Ur,Lr[dr++]=Ks,Ks=I,Ur=$}function Fu(I,$,Z){ea[ia++]=ya,ea[ia++]=ca,ea[ia++]=St,St=I;var W=ya;I=ca;var st=32-Ce(W)-1;W&=~(1<<st),Z+=1;var ct=32-Ce($)+st;if(30<ct){var Ht=st-st%5;ct=(W&(1<<Ht)-1).toString(32),W>>=Ht,st-=Ht,ya=1<<32-Ce($)+st|Z<<st|W,ca=ct+I}else ya=1<<ct|Z<<st|W,ca=I}function Gi(I){I.return!==null&&(Ln(I,1),Fu(I,1,0))}function vl(I){for(;I===Ks;)Ks=Lr[--dr],Lr[dr]=null,Ur=Lr[--dr],Lr[dr]=null;for(;I===St;)St=ea[--ia],ea[ia]=null,ca=ea[--ia],ea[ia]=null,ya=ea[--ia],ea[ia]=null}function Lu(I,$){ea[ia++]=ya,ea[ia++]=ca,ea[ia++]=St,ya=$.id,ca=$.overflow,St=I}var $n=null,fn=null,ji=!1,Za=null,na=!1,wl=Error(w(519));function Ha(I){var $=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw As(Dn($,I)),wl}function Uu(I){var $=I.stateNode,Z=I.type,W=I.memoizedProps;switch($[Ui]=I,$[Yt]=W,Z){case"dialog":Hi("cancel",$),Hi("close",$);break;case"iframe":case"object":case"embed":Hi("load",$);break;case"video":case"audio":for(Z=0;Z<ql.length;Z++)Hi(ql[Z],$);break;case"source":Hi("error",$);break;case"img":case"image":case"link":Hi("error",$),Hi("load",$);break;case"details":Hi("toggle",$);break;case"input":Hi("invalid",$),_s($,W.value,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name,!0);break;case"select":Hi("invalid",$);break;case"textarea":Hi("invalid",$),su($,W.value,W.defaultValue,W.children)}Z=W.children,typeof Z!="string"&&typeof Z!="number"&&typeof Z!="bigint"||$.textContent===""+Z||W.suppressHydrationWarning===!0||Hp($.textContent,Z)?(W.popover!=null&&(Hi("beforetoggle",$),Hi("toggle",$)),W.onScroll!=null&&Hi("scroll",$),W.onScrollEnd!=null&&Hi("scrollend",$),W.onClick!=null&&($.onclick=Sn),$=!0):$=!1,$||Ha(I,!0)}function Gu(I){for($n=I.return;$n;)switch($n.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:$n=$n.return}}function Gr(I){if(I!==$n)return!1;if(!ji)return Gu(I),ji=!0,!1;var $=I.tag,Z;if((Z=$!==3&&$!==27)&&((Z=$===5)&&(Z=I.type,Z=!(Z!=="form"&&Z!=="button")||Sh(I.type,I.memoizedProps)),Z=!Z),Z&&fn&&Ha(I),Gu(I),$===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(w(317));fn=tm(I)}else if($===31){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(w(317));fn=tm(I)}else $===27?($=fn,ls(I.type)?(I=Ch,Ch=null,fn=I):fn=$):fn=$n?va(I.stateNode.nextSibling):null;return!0}function pr(){fn=$n=null,ji=!1}function xl(){var I=Za;return I!==null&&(oa===null?oa=I:oa.push.apply(oa,I),Za=null),I}function As(I){Za===null?Za=[I]:Za.push(I)}var El=$t(null),mr=null,Ra=null;function qa(I,$,Z){fe(El,$._currentValue),$._currentValue=Z}function Da(I){I._currentValue=El.current,Wt(El)}function Sl(I,$,Z){for(;I!==null;){var W=I.alternate;if((I.childLanes&$)!==$?(I.childLanes|=$,W!==null&&(W.childLanes|=$)):W!==null&&(W.childLanes&$)!==$&&(W.childLanes|=$),I===Z)break;I=I.return}}function Ml(I,$,Z,W){var st=I.child;for(st!==null&&(st.return=I);st!==null;){var ct=st.dependencies;if(ct!==null){var Ht=st.child;ct=ct.firstContext;t:for(;ct!==null;){var me=ct;ct=st;for(var ze=0;ze<$.length;ze++)if(me.context===$[ze]){ct.lanes|=Z,me=ct.alternate,me!==null&&(me.lanes|=Z),Sl(ct.return,Z,I),W||(Ht=null);break t}ct=me.next}}else if(st.tag===18){if(Ht=st.return,Ht===null)throw Error(w(341));Ht.lanes|=Z,ct=Ht.alternate,ct!==null&&(ct.lanes|=Z),Sl(Ht,Z,I),Ht=null}else Ht=st.child;if(Ht!==null)Ht.return=st;else for(Ht=st;Ht!==null;){if(Ht===I){Ht=null;break}if(st=Ht.sibling,st!==null){st.return=Ht.return,Ht=st;break}Ht=Ht.return}st=Ht}}function jr(I,$,Z,W){I=null;for(var st=$,ct=!1;st!==null;){if(!ct){if((st.flags&524288)!==0)ct=!0;else if((st.flags&262144)!==0)break}if(st.tag===10){var Ht=st.alternate;if(Ht===null)throw Error(w(387));if(Ht=Ht.memoizedProps,Ht!==null){var me=st.type;Wn(st.pendingProps.value,Ht.value)||(I!==null?I.push(me):I=[me])}}else if(st===ye.current){if(Ht=st.alternate,Ht===null)throw Error(w(387));Ht.memoizedState.memoizedState!==st.memoizedState.memoizedState&&(I!==null?I.push(Xl):I=[Xl])}st=st.return}I!==null&&Ml($,I,Z,W),$.flags|=262144}function Js(I){for(I=I.firstContext;I!==null;){if(!Wn(I.context._currentValue,I.memoizedValue))return!0;I=I.next}return!1}function gr(I){mr=I,Ra=null,I=I.dependencies,I!==null&&(I.firstContext=null)}function Bn(I){return ju(mr,I)}function bo(I,$){return mr===null&&gr(I),ju(I,$)}function ju(I,$){var Z=$._currentValue;if($={context:$,memoizedValue:Z,next:null},Ra===null){if(I===null)throw Error(w(308));Ra=$,I.dependencies={lanes:0,firstContext:$},I.flags|=524288}else Ra=Ra.next=$;return Z}var hf=typeof AbortController<"u"?AbortController:function(){var I=[],$=this.signal={aborted:!1,addEventListener:function(Z,W){I.push(W)}};this.abort=function(){$.aborted=!0,I.forEach(function(Z){return Z()})}},df=d.unstable_scheduleCallback,pf=d.unstable_NormalPriority,wn={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kl(){return{controller:new hf,data:new Map,refCount:0}}function Cs(I){I.refCount--,I.refCount===0&&df(pf,function(){I.controller.abort()})}var Is=null,Tl=0,Hr=0,Wr=null;function Al(I,$){if(Is===null){var Z=Is=[];Tl=0,Hr=mh(),Wr={status:"pending",value:void 0,then:function(W){Z.push(W)}}}return Tl++,$.then(Zu,Zu),$}function Zu(){if(--Tl===0&&Is!==null){Wr!==null&&(Wr.status="fulfilled");var I=Is;Is=null,Hr=0,Wr=null;for(var $=0;$<I.length;$++)(0,I[$])()}}function K(I,$){var Z=[],W={status:"pending",value:null,reason:null,then:function(st){Z.push(st)}};return I.then(function(){W.status="fulfilled",W.value=$;for(var st=0;st<Z.length;st++)(0,Z[st])($)},function(st){for(W.status="rejected",W.reason=st,st=0;st<Z.length;st++)(0,Z[st])(void 0)}),W}var nt=Ct.S;Ct.S=function(I,$){mp=oi(),typeof $=="object"&&$!==null&&typeof $.then=="function"&&Al(I,$),nt!==null&&nt(I,$)};var ft=$t(null);function kt(){var I=ft.current;return I!==null?I:hn.pooledCache}function Zt(I,$){$===null?fe(ft,ft.current):fe(ft,$.pool)}function ee(){var I=kt();return I===null?null:{parent:wn._currentValue,pool:I}}var ve=Error(w(460)),we=Error(w(474)),Ze=Error(w(542)),fi={then:function(){}};function di(I){return I=I.status,I==="fulfilled"||I==="rejected"}function vi(I,$,Z){switch(Z=I[Z],Z===void 0?I.push($):Z!==$&&($.then(Sn,Sn),$=Z),$.status){case"fulfilled":return $.value;case"rejected":throw I=$.reason,Vi(I),I;default:if(typeof $.status=="string")$.then(Sn,Sn);else{if(I=hn,I!==null&&100<I.shellSuspendCounter)throw Error(w(482));I=$,I.status="pending",I.then(function(W){if($.status==="pending"){var st=$;st.status="fulfilled",st.value=W}},function(W){if($.status==="pending"){var st=$;st.status="rejected",st.reason=W}})}switch($.status){case"fulfilled":return $.value;case"rejected":throw I=$.reason,Vi(I),I}throw wi=$,ve}}function xi(I){try{var $=I._init;return $(I._payload)}catch(Z){throw Z!==null&&typeof Z=="object"&&typeof Z.then=="function"?(wi=Z,ve):Z}}var wi=null;function zi(){if(wi===null)throw Error(w(459));var I=wi;return wi=null,I}function Vi(I){if(I===ve||I===Ze)throw Error(w(483))}var mn=null,sn=0;function yn(I){var $=sn;return sn+=1,mn===null&&(mn=[]),vi(mn,I,$)}function tn(I,$){$=$.props.ref,I.ref=$!==void 0?$:null}function Vn(I,$){throw $.$$typeof===J?Error(w(525)):(I=Object.prototype.toString.call($),Error(w(31,I==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":I)))}function Hn(I){function $(He,Ue){if(I){var Xe=He.deletions;Xe===null?(He.deletions=[Ue],He.flags|=16):Xe.push(Ue)}}function Z(He,Ue){if(!I)return null;for(;Ue!==null;)$(He,Ue),Ue=Ue.sibling;return null}function W(He){for(var Ue=new Map;He!==null;)He.key!==null?Ue.set(He.key,He):Ue.set(He.index,He),He=He.sibling;return Ue}function st(He,Ue){return He=Ia(He,Ue),He.index=0,He.sibling=null,He}function ct(He,Ue,Xe){return He.index=Xe,I?(Xe=He.alternate,Xe!==null?(Xe=Xe.index,Xe<Ue?(He.flags|=67108866,Ue):Xe):(He.flags|=67108866,Ue)):(He.flags|=1048576,Ue)}function Ht(He){return I&&He.alternate===null&&(He.flags|=67108866),He}function me(He,Ue,Xe,_i){return Ue===null||Ue.tag!==6?(Ue=yl(Xe,He.mode,_i),Ue.return=He,Ue):(Ue=st(Ue,Xe),Ue.return=He,Ue)}function ze(He,Ue,Xe,_i){var Oi=Xe.type;return Oi===ot?pi(He,Ue,Xe.props.children,_i,Xe.key):Ue!==null&&(Ue.elementType===Oi||typeof Oi=="object"&&Oi!==null&&Oi.$$typeof===Mt&&xi(Oi)===Ue.type)?(Ue=st(Ue,Xe.props),tn(Ue,Xe),Ue.return=He,Ue):(Ue=Xs(Xe.type,Xe.key,Xe.props,null,He.mode,_i),tn(Ue,Xe),Ue.return=He,Ue)}function Ke(He,Ue,Xe,_i){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Xe.containerInfo||Ue.stateNode.implementation!==Xe.implementation?(Ue=bl(Xe,He.mode,_i),Ue.return=He,Ue):(Ue=st(Ue,Xe.children||[]),Ue.return=He,Ue)}function pi(He,Ue,Xe,_i,Oi){return Ue===null||Ue.tag!==7?(Ue=ja(Xe,He.mode,_i,Oi),Ue.return=He,Ue):(Ue=st(Ue,Xe),Ue.return=He,Ue)}function yi(He,Ue,Xe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=yl(""+Ue,He.mode,Xe),Ue.return=He,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case et:return Xe=Xs(Ue.type,Ue.key,Ue.props,null,He.mode,Xe),tn(Xe,Ue),Xe.return=He,Xe;case at:return Ue=bl(Ue,He.mode,Xe),Ue.return=He,Ue;case Mt:return Ue=xi(Ue),yi(He,Ue,Xe)}if(Ot(Ue)||It(Ue))return Ue=ja(Ue,He.mode,Xe,null),Ue.return=He,Ue;if(typeof Ue.then=="function")return yi(He,yn(Ue),Xe);if(Ue.$$typeof===mt)return yi(He,bo(He,Ue),Xe);Vn(He,Ue)}return null}function Je(He,Ue,Xe,_i){var Oi=Ue!==null?Ue.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Oi!==null?null:me(He,Ue,""+Xe,_i);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case et:return Xe.key===Oi?ze(He,Ue,Xe,_i):null;case at:return Xe.key===Oi?Ke(He,Ue,Xe,_i):null;case Mt:return Xe=xi(Xe),Je(He,Ue,Xe,_i)}if(Ot(Xe)||It(Xe))return Oi!==null?null:pi(He,Ue,Xe,_i,null);if(typeof Xe.then=="function")return Je(He,Ue,yn(Xe),_i);if(Xe.$$typeof===mt)return Je(He,Ue,bo(He,Xe),_i);Vn(He,Xe)}return null}function ci(He,Ue,Xe,_i,Oi){if(typeof _i=="string"&&_i!==""||typeof _i=="number"||typeof _i=="bigint")return He=He.get(Xe)||null,me(Ue,He,""+_i,Oi);if(typeof _i=="object"&&_i!==null){switch(_i.$$typeof){case et:return He=He.get(_i.key===null?Xe:_i.key)||null,ze(Ue,He,_i,Oi);case at:return He=He.get(_i.key===null?Xe:_i.key)||null,Ke(Ue,He,_i,Oi);case Mt:return _i=xi(_i),ci(He,Ue,Xe,_i,Oi)}if(Ot(_i)||It(_i))return He=He.get(Xe)||null,pi(Ue,He,_i,Oi,null);if(typeof _i.then=="function")return ci(He,Ue,Xe,yn(_i),Oi);if(_i.$$typeof===mt)return ci(He,Ue,Xe,bo(Ue,_i),Oi);Vn(Ue,_i)}return null}function Di(He,Ue,Xe,_i){for(var Oi=null,Xi=null,$i=Ue,Li=Ue=0,Qi=null;$i!==null&&Li<Xe.length;Li++){$i.index>Li?(Qi=$i,$i=null):Qi=$i.sibling;var Ki=Je(He,$i,Xe[Li],_i);if(Ki===null){$i===null&&($i=Qi);break}I&&$i&&Ki.alternate===null&&$(He,$i),Ue=ct(Ki,Ue,Li),Xi===null?Oi=Ki:Xi.sibling=Ki,Xi=Ki,$i=Qi}if(Li===Xe.length)return Z(He,$i),ji&&Ln(He,Li),Oi;if($i===null){for(;Li<Xe.length;Li++)$i=yi(He,Xe[Li],_i),$i!==null&&(Ue=ct($i,Ue,Li),Xi===null?Oi=$i:Xi.sibling=$i,Xi=$i);return ji&&Ln(He,Li),Oi}for($i=W($i);Li<Xe.length;Li++)Qi=ci($i,He,Li,Xe[Li],_i),Qi!==null&&(I&&Qi.alternate!==null&&$i.delete(Qi.key===null?Li:Qi.key),Ue=ct(Qi,Ue,Li),Xi===null?Oi=Qi:Xi.sibling=Qi,Xi=Qi);return I&&$i.forEach(function(ds){return $(He,ds)}),ji&&Ln(He,Li),Oi}function Pi(He,Ue,Xe,_i){if(Xe==null)throw Error(w(151));for(var Oi=null,Xi=null,$i=Ue,Li=Ue=0,Qi=null,Ki=Xe.next();$i!==null&&!Ki.done;Li++,Ki=Xe.next()){$i.index>Li?(Qi=$i,$i=null):Qi=$i.sibling;var ds=Je(He,$i,Ki.value,_i);if(ds===null){$i===null&&($i=Qi);break}I&&$i&&ds.alternate===null&&$(He,$i),Ue=ct(ds,Ue,Li),Xi===null?Oi=ds:Xi.sibling=ds,Xi=ds,$i=Qi}if(Ki.done)return Z(He,$i),ji&&Ln(He,Li),Oi;if($i===null){for(;!Ki.done;Li++,Ki=Xe.next())Ki=yi(He,Ki.value,_i),Ki!==null&&(Ue=ct(Ki,Ue,Li),Xi===null?Oi=Ki:Xi.sibling=Ki,Xi=Ki);return ji&&Ln(He,Li),Oi}for($i=W($i);!Ki.done;Li++,Ki=Xe.next())Ki=ci($i,He,Li,Ki.value,_i),Ki!==null&&(I&&Ki.alternate!==null&&$i.delete(Ki.key===null?Li:Ki.key),Ue=ct(Ki,Ue,Li),Xi===null?Oi=Ki:Xi.sibling=Ki,Xi=Ki);return I&&$i.forEach(function(z0){return $(He,z0)}),ji&&Ln(He,Li),Oi}function un(He,Ue,Xe,_i){if(typeof Xe=="object"&&Xe!==null&&Xe.type===ot&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case et:t:{for(var Oi=Xe.key;Ue!==null;){if(Ue.key===Oi){if(Oi=Xe.type,Oi===ot){if(Ue.tag===7){Z(He,Ue.sibling),_i=st(Ue,Xe.props.children),_i.return=He,He=_i;break t}}else if(Ue.elementType===Oi||typeof Oi=="object"&&Oi!==null&&Oi.$$typeof===Mt&&xi(Oi)===Ue.type){Z(He,Ue.sibling),_i=st(Ue,Xe.props),tn(_i,Xe),_i.return=He,He=_i;break t}Z(He,Ue);break}else $(He,Ue);Ue=Ue.sibling}Xe.type===ot?(_i=ja(Xe.props.children,He.mode,_i,Xe.key),_i.return=He,He=_i):(_i=Xs(Xe.type,Xe.key,Xe.props,null,He.mode,_i),tn(_i,Xe),_i.return=He,He=_i)}return Ht(He);case at:t:{for(Oi=Xe.key;Ue!==null;){if(Ue.key===Oi)if(Ue.tag===4&&Ue.stateNode.containerInfo===Xe.containerInfo&&Ue.stateNode.implementation===Xe.implementation){Z(He,Ue.sibling),_i=st(Ue,Xe.children||[]),_i.return=He,He=_i;break t}else{Z(He,Ue);break}else $(He,Ue);Ue=Ue.sibling}_i=bl(Xe,He.mode,_i),_i.return=He,He=_i}return Ht(He);case Mt:return Xe=xi(Xe),un(He,Ue,Xe,_i)}if(Ot(Xe))return Di(He,Ue,Xe,_i);if(It(Xe)){if(Oi=It(Xe),typeof Oi!="function")throw Error(w(150));return Xe=Oi.call(Xe),Pi(He,Ue,Xe,_i)}if(typeof Xe.then=="function")return un(He,Ue,yn(Xe),_i);if(Xe.$$typeof===mt)return un(He,Ue,bo(He,Xe),_i);Vn(He,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Ue!==null&&Ue.tag===6?(Z(He,Ue.sibling),_i=st(Ue,Xe),_i.return=He,He=_i):(Z(He,Ue),_i=yl(Xe,He.mode,_i),_i.return=He,He=_i),Ht(He)):Z(He,Ue)}return function(He,Ue,Xe,_i){try{sn=0;var Oi=un(He,Ue,Xe,_i);return mn=null,Oi}catch($i){if($i===ve||$i===Ze)throw $i;var Xi=Yn(29,$i,null,He.mode);return Xi.lanes=_i,Xi.return=He,Xi}finally{}}}var Un=Hn(!0),bn=Hn(!1),$a=!1;function mf(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(I,$){I=I.updateQueue,$.updateQueue===I&&($.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,callbacks:null})}function Yr(I){return{lane:I,tag:0,payload:null,callback:null,next:null}}function Vr(I,$,Z){var W=I.updateQueue;if(W===null)return null;if(W=W.shared,(Ji&2)!==0){var st=W.pending;return st===null?$.next=$:($.next=st.next,st.next=$),W.pending=$,$=Vs(I),_l(I,null,Z),$}return Ys(I,W,$,Z),Vs(I)}function Cl(I,$,Z){if($=$.updateQueue,$!==null&&($=$.shared,(Z&4194048)!==0)){var W=$.lanes;W&=I.pendingLanes,Z|=W,$.lanes=Z,ki(I,Z)}}function gf(I,$){var Z=I.updateQueue,W=I.alternate;if(W!==null&&(W=W.updateQueue,Z===W)){var st=null,ct=null;if(Z=Z.firstBaseUpdate,Z!==null){do{var Ht={lane:Z.lane,tag:Z.tag,payload:Z.payload,callback:null,next:null};ct===null?st=ct=Ht:ct=ct.next=Ht,Z=Z.next}while(Z!==null);ct===null?st=ct=$:ct=ct.next=$}else st=ct=$;Z={baseState:W.baseState,firstBaseUpdate:st,lastBaseUpdate:ct,shared:W.shared,callbacks:W.callbacks},I.updateQueue=Z;return}I=Z.lastBaseUpdate,I===null?Z.firstBaseUpdate=$:I.next=$,Z.lastBaseUpdate=$}var yf=!1;function Il(){if(yf){var I=Wr;if(I!==null)throw I}}function Rl(I,$,Z,W){yf=!1;var st=I.updateQueue;$a=!1;var ct=st.firstBaseUpdate,Ht=st.lastBaseUpdate,me=st.shared.pending;if(me!==null){st.shared.pending=null;var ze=me,Ke=ze.next;ze.next=null,Ht===null?ct=Ke:Ht.next=Ke,Ht=ze;var pi=I.alternate;pi!==null&&(pi=pi.updateQueue,me=pi.lastBaseUpdate,me!==Ht&&(me===null?pi.firstBaseUpdate=Ke:me.next=Ke,pi.lastBaseUpdate=ze))}if(ct!==null){var yi=st.baseState;Ht=0,pi=Ke=ze=null,me=ct;do{var Je=me.lane&-536870913,ci=Je!==me.lane;if(ci?(qi&Je)===Je:(W&Je)===Je){Je!==0&&Je===Hr&&(yf=!0),pi!==null&&(pi=pi.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});t:{var Di=I,Pi=me;Je=$;var un=Z;switch(Pi.tag){case 1:if(Di=Pi.payload,typeof Di=="function"){yi=Di.call(un,yi,Je);break t}yi=Di;break t;case 3:Di.flags=Di.flags&-65537|128;case 0:if(Di=Pi.payload,Je=typeof Di=="function"?Di.call(un,yi,Je):Di,Je==null)break t;yi=V({},yi,Je);break t;case 2:$a=!0}}Je=me.callback,Je!==null&&(I.flags|=64,ci&&(I.flags|=8192),ci=st.callbacks,ci===null?st.callbacks=[Je]:ci.push(Je))}else ci={lane:Je,tag:me.tag,payload:me.payload,callback:me.callback,next:null},pi===null?(Ke=pi=ci,ze=yi):pi=pi.next=ci,Ht|=Je;if(me=me.next,me===null){if(me=st.shared.pending,me===null)break;ci=me,me=ci.next,ci.next=null,st.lastBaseUpdate=ci,st.shared.pending=null}}while(!0);pi===null&&(ze=yi),st.baseState=ze,st.firstBaseUpdate=Ke,st.lastBaseUpdate=pi,ct===null&&(st.shared.lanes=0),ns|=Ht,I.lanes=Ht,I.memoizedState=yi}}function Lh(I,$){if(typeof I!="function")throw Error(w(191,I));I.call($)}function Uh(I,$){var Z=I.callbacks;if(Z!==null)for(I.callbacks=null,I=0;I<Z.length;I++)Lh(Z[I],$)}var xo=$t(null),Hu=$t(0);function Gh(I,$){I=kr,fe(Hu,I),fe(xo,$),kr=I|$.baseLanes}function bf(){fe(Hu,kr),fe(xo,xo.current)}function vf(){kr=Hu.current,Wt(xo),Wt(Hu)}var fa=$t(null),ba=null;function Xr(I){var $=I.alternate;fe(Mn,Mn.current&1),fe(fa,I),ba===null&&($===null||xo.current!==null||$.memoizedState!==null)&&(ba=I)}function wf(I){fe(Mn,Mn.current),fe(fa,I),ba===null&&(ba=I)}function jh(I){I.tag===22?(fe(Mn,Mn.current),fe(fa,I),ba===null&&(ba=I)):ts()}function ts(){fe(Mn,Mn.current),fe(fa,fa.current)}function ha(I){Wt(fa),ba===I&&(ba=null),Wt(Mn)}var Mn=$t(0);function qu(I){for(var $=I;$!==null;){if($.tag===13){var Z=$.memoizedState;if(Z!==null&&(Z=Z.dehydrated,Z===null||Th(Z)||Ah(Z)))return $}else if($.tag===19&&($.memoizedProps.revealOrder==="forwards"||$.memoizedProps.revealOrder==="backwards"||$.memoizedProps.revealOrder==="unstable_legacy-backwards"||$.memoizedProps.revealOrder==="together")){if(($.flags&128)!==0)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===I)break;for(;$.sibling===null;){if($.return===null||$.return===I)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var yr=0,Fi=null,on=null,An=null,Qu=!1,Eo=!1,Rs=!1,Wu=0,Dl=0,To=null,Mm=0;function xn(){throw Error(w(321))}function xf(I,$){if($===null)return!1;for(var Z=0;Z<$.length&&Z<I.length;Z++)if(!Wn(I[Z],$[Z]))return!1;return!0}function Ef(I,$,Z,W,st,ct){return yr=ct,Fi=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Ct.H=I===null||I.memoizedState===null?kd:Nf,Rs=!1,ct=Z(W,st),Rs=!1,Eo&&(ct=Hh($,Z,W,st)),Zh(I),ct}function Zh(I){Ct.H=zl;var $=on!==null&&on.next!==null;if(yr=0,An=on=Fi=null,Qu=!1,Dl=0,To=null,$)throw Error(w(300));I===null||Cn||(I=I.dependencies,I!==null&&Js(I)&&(Cn=!0))}function Hh(I,$,Z,W){Fi=I;var st=0;do{if(Eo&&(To=null),Dl=0,Eo=!1,25<=st)throw Error(w(301));if(st+=1,An=on=null,I.updateQueue!=null){var ct=I.updateQueue;ct.lastEffect=null,ct.events=null,ct.stores=null,ct.memoCache!=null&&(ct.memoCache.index=0)}Ct.H=Td,ct=$(Z,W)}while(Eo);return ct}function km(){var I=Ct.H,$=I.useState()[0];return $=typeof $.then=="function"?$l($):$,I=I.useState()[0],(on!==null?on.memoizedState:null)!==I&&(Fi.flags|=1024),$}function Sf(){var I=Wu!==0;return Wu=0,I}function Mf(I,$,Z){$.updateQueue=I.updateQueue,$.flags&=-2053,I.lanes&=~Z}function kf(I){if(Qu){for(I=I.memoizedState;I!==null;){var $=I.queue;$!==null&&($.pending=null),I=I.next}Qu=!1}yr=0,An=on=Fi=null,Eo=!1,Dl=Wu=0,To=null}function Xn(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Fi.memoizedState=An=I:An=An.next=I,An}function kn(){if(on===null){var I=Fi.alternate;I=I!==null?I.memoizedState:null}else I=on.next;var $=An===null?Fi.memoizedState:An.next;if($!==null)An=$,on=I;else{if(I===null)throw Fi.alternate===null?Error(w(467)):Error(w(310));on=I,I={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},An===null?Fi.memoizedState=An=I:An=An.next=I}return An}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(I){var $=Dl;return Dl+=1,To===null&&(To=[]),I=vi(To,I,$),$=Fi,(An===null?$.memoizedState:An.next)===null&&($=$.alternate,Ct.H=$===null||$.memoizedState===null?kd:Nf),I}function Vu(I){if(I!==null&&typeof I=="object"){if(typeof I.then=="function")return $l(I);if(I.$$typeof===mt)return Bn(I)}throw Error(w(438,String(I)))}function Tf(I){var $=null,Z=Fi.updateQueue;if(Z!==null&&($=Z.memoCache),$==null){var W=Fi.alternate;W!==null&&(W=W.updateQueue,W!==null&&(W=W.memoCache,W!=null&&($={data:W.data.map(function(st){return st.slice()}),index:0})))}if($==null&&($={data:[],index:0}),Z===null&&(Z=Yu(),Fi.updateQueue=Z),Z.memoCache=$,Z=$.data[$.index],Z===void 0)for(Z=$.data[$.index]=Array(I),W=0;W<I;W++)Z[W]=zt;return $.index++,Z}function br(I,$){return typeof $=="function"?$(I):$}function Xu(I){var $=kn();return Af($,on,I)}function Af(I,$,Z){var W=I.queue;if(W===null)throw Error(w(311));W.lastRenderedReducer=Z;var st=I.baseQueue,ct=W.pending;if(ct!==null){if(st!==null){var Ht=st.next;st.next=ct.next,ct.next=Ht}$.baseQueue=st=ct,W.pending=null}if(ct=I.baseState,st===null)I.memoizedState=ct;else{$=st.next;var me=Ht=null,ze=null,Ke=$,pi=!1;do{var yi=Ke.lane&-536870913;if(yi!==Ke.lane?(qi&yi)===yi:(yr&yi)===yi){var Je=Ke.revertLane;if(Je===0)ze!==null&&(ze=ze.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),yi===Hr&&(pi=!0);else if((yr&Je)===Je){Ke=Ke.next,Je===Hr&&(pi=!0);continue}else yi={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},ze===null?(me=ze=yi,Ht=ct):ze=ze.next=yi,Fi.lanes|=Je,ns|=Je;yi=Ke.action,Rs&&Z(ct,yi),ct=Ke.hasEagerState?Ke.eagerState:Z(ct,yi)}else Je={lane:yi,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},ze===null?(me=ze=Je,Ht=ct):ze=ze.next=Je,Fi.lanes|=yi,ns|=yi;Ke=Ke.next}while(Ke!==null&&Ke!==$);if(ze===null?Ht=ct:ze.next=me,!Wn(ct,I.memoizedState)&&(Cn=!0,pi&&(Z=Wr,Z!==null)))throw Z;I.memoizedState=ct,I.baseState=Ht,I.baseQueue=ze,W.lastRenderedState=ct}return st===null&&(W.lanes=0),[I.memoizedState,W.dispatch]}function Cf(I){var $=kn(),Z=$.queue;if(Z===null)throw Error(w(311));Z.lastRenderedReducer=I;var W=Z.dispatch,st=Z.pending,ct=$.memoizedState;if(st!==null){Z.pending=null;var Ht=st=st.next;do ct=I(ct,Ht.action),Ht=Ht.next;while(Ht!==st);Wn(ct,$.memoizedState)||(Cn=!0),$.memoizedState=ct,$.baseQueue===null&&($.baseState=ct),Z.lastRenderedState=ct}return[ct,W]}function qh(I,$,Z){var W=Fi,st=kn(),ct=ji;if(ct){if(Z===void 0)throw Error(w(407));Z=Z()}else Z=$();var Ht=!Wn((on||st).memoizedState,Z);if(Ht&&(st.memoizedState=Z,Cn=!0),st=st.queue,Df(Yh.bind(null,W,st,I),[I]),st.getSnapshot!==$||Ht||An!==null&&An.memoizedState.tag&1){if(W.flags|=2048,Ao(9,{destroy:void 0},Wh.bind(null,W,st,Z,$),null),hn===null)throw Error(w(349));ct||(yr&127)!==0||Qh(W,$,Z)}return Z}function Qh(I,$,Z){I.flags|=16384,I={getSnapshot:$,value:Z},$=Fi.updateQueue,$===null?($=Yu(),Fi.updateQueue=$,$.stores=[I]):(Z=$.stores,Z===null?$.stores=[I]:Z.push(I))}function Wh(I,$,Z,W){$.value=Z,$.getSnapshot=W,Vh($)&&Xh(I)}function Yh(I,$,Z){return Z(function(){Vh($)&&Xh(I)})}function Vh(I){var $=I.getSnapshot;I=I.value;try{var Z=$();return!Wn(I,Z)}catch{return!0}}function Xh(I){var $=fr(I,2);$!==null&&la($,I,2)}function If(I){var $=Xn();if(typeof I=="function"){var Z=I;if(I=Z(),Rs){hi(!0);try{Z()}finally{hi(!1)}}}return $.memoizedState=$.baseState=I,$.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:I},$}function Kh(I,$,Z,W){return I.baseState=Z,Af(I,on,typeof W=="function"?W:br)}function Tm(I,$,Z,W,st){if(tc(I))throw Error(w(485));if(I=$.action,I!==null){var ct={payload:st,action:I,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ht){ct.listeners.push(Ht)}};Ct.T!==null?Z(!0):ct.isTransition=!1,W(ct),Z=$.pending,Z===null?(ct.next=$.pending=ct,Jh($,ct)):(ct.next=Z.next,$.pending=Z.next=ct)}}function Jh(I,$){var Z=$.action,W=$.payload,st=I.state;if($.isTransition){var ct=Ct.T,Ht={};Ct.T=Ht;try{var me=Z(st,W),ze=Ct.S;ze!==null&&ze(Ht,me),td(I,$,me)}catch(Ke){Rf(I,$,Ke)}finally{ct!==null&&Ht.types!==null&&(ct.types=Ht.types),Ct.T=ct}}else try{ct=Z(st,W),td(I,$,ct)}catch(Ke){Rf(I,$,Ke)}}function td(I,$,Z){Z!==null&&typeof Z=="object"&&typeof Z.then=="function"?Z.then(function(W){ed(I,$,W)},function(W){return Rf(I,$,W)}):ed(I,$,Z)}function ed(I,$,Z){$.status="fulfilled",$.value=Z,id($),I.state=Z,$=I.pending,$!==null&&(Z=$.next,Z===$?I.pending=null:(Z=Z.next,$.next=Z,Jh(I,Z)))}function Rf(I,$,Z){var W=I.pending;if(I.pending=null,W!==null){W=W.next;do $.status="rejected",$.reason=Z,id($),$=$.next;while($!==W)}I.action=null}function id(I){I=I.listeners;for(var $=0;$<I.length;$++)(0,I[$])()}function nd(I,$){return $}function ad(I,$){if(ji){var Z=hn.formState;if(Z!==null){t:{var W=Fi;if(ji){if(fn){e:{for(var st=fn,ct=na;st.nodeType!==8;){if(!ct){st=null;break e}if(st=va(st.nextSibling),st===null){st=null;break e}}ct=st.data,st=ct==="F!"||ct==="F"?st:null}if(st){fn=va(st.nextSibling),W=st.data==="F!";break t}}Ha(W)}W=!1}W&&($=Z[0])}}return Z=Xn(),Z.memoizedState=Z.baseState=$,W={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:$},Z.queue=W,Z=Ed.bind(null,Fi,W),W.dispatch=Z,W=If(!1),ct=Pf.bind(null,Fi,!1,W.queue),W=Xn(),st={state:$,dispatch:null,action:I,pending:null},W.queue=st,Z=Tm.bind(null,Fi,st,ct,Z),st.dispatch=Z,W.memoizedState=I,[$,Z,!1]}function rd(I){var $=kn();return sd($,on,I)}function sd(I,$,Z){if($=Af(I,$,nd)[0],I=Xu(br)[0],typeof $=="object"&&$!==null&&typeof $.then=="function")try{var W=$l($)}catch(Ht){throw Ht===ve?Ze:Ht}else W=$;$=kn();var st=$.queue,ct=st.dispatch;return Z!==$.memoizedState&&(Fi.flags|=2048,Ao(9,{destroy:void 0},Am.bind(null,st,Z),null)),[W,ct,I]}function Am(I,$){I.action=$}function od(I){var $=kn(),Z=on;if(Z!==null)return sd($,Z,I);kn(),$=$.memoizedState,Z=kn();var W=Z.queue.dispatch;return Z.memoizedState=I,[$,W,!1]}function Ao(I,$,Z,W){return I={tag:I,create:Z,deps:W,inst:$,next:null},$=Fi.updateQueue,$===null&&($=Yu(),Fi.updateQueue=$),Z=$.lastEffect,Z===null?$.lastEffect=I.next=I:(W=Z.next,Z.next=I,I.next=W,$.lastEffect=I),I}function ld(){return kn().memoizedState}function Ku(I,$,Z,W){var st=Xn();Fi.flags|=I,st.memoizedState=Ao(1|$,{destroy:void 0},Z,W===void 0?null:W)}function Ju(I,$,Z,W){var st=kn();W=W===void 0?null:W;var ct=st.memoizedState.inst;on!==null&&W!==null&&xf(W,on.memoizedState.deps)?st.memoizedState=Ao($,ct,Z,W):(Fi.flags|=I,st.memoizedState=Ao(1|$,ct,Z,W))}function ud(I,$){Ku(8390656,8,I,$)}function Df(I,$){Ju(2048,8,I,$)}function Cm(I){Fi.flags|=4;var $=Fi.updateQueue;if($===null)$=Yu(),Fi.updateQueue=$,$.events=[I];else{var Z=$.events;Z===null?$.events=[I]:Z.push(I)}}function cd(I){var $=kn().memoizedState;return Cm({ref:$,nextImpl:I}),function(){if((Ji&2)!==0)throw Error(w(440));return $.impl.apply(void 0,arguments)}}function fd(I,$){return Ju(4,2,I,$)}function hd(I,$){return Ju(4,4,I,$)}function dd(I,$){if(typeof $=="function"){I=I();var Z=$(I);return function(){typeof Z=="function"?Z():$(null)}}if($!=null)return I=I(),$.current=I,function(){$.current=null}}function pd(I,$,Z){Z=Z!=null?Z.concat([I]):null,Ju(4,4,dd.bind(null,$,I),Z)}function $f(){}function md(I,$){var Z=kn();$=$===void 0?null:$;var W=Z.memoizedState;return $!==null&&xf($,W[1])?W[0]:(Z.memoizedState=[I,$],I)}function _d(I,$){var Z=kn();$=$===void 0?null:$;var W=Z.memoizedState;if($!==null&&xf($,W[1]))return W[0];if(W=I(),Rs){hi(!0);try{I()}finally{hi(!1)}}return Z.memoizedState=[W,$],W}function Bf(I,$,Z){return Z===void 0||(yr&1073741824)!==0&&(qi&261930)===0?I.memoizedState=$:(I.memoizedState=Z,I=gp(),Fi.lanes|=I,ns|=I,Z)}function gd(I,$,Z,W){return Wn(Z,$)?Z:xo.current!==null?(I=Bf(I,Z,W),Wn(I,$)||(Cn=!0),I):(yr&42)===0||(yr&1073741824)!==0&&(qi&261930)===0?(Cn=!0,I.memoizedState=Z):(I=gp(),Fi.lanes|=I,ns|=I,$)}function yd(I,$,Z,W,st){var ct=Jt.p;Jt.p=ct!==0&&8>ct?ct:8;var Ht=Ct.T,me={};Ct.T=me,Pf(I,!1,$,Z);try{var ze=st(),Ke=Ct.S;if(Ke!==null&&Ke(me,ze),ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var pi=K(ze,W);Bl(I,$,pi,ma(I))}else Bl(I,$,W,ma(I))}catch(yi){Bl(I,$,{then:function(){},status:"rejected",reason:yi},ma())}finally{Jt.p=ct,Ht!==null&&me.types!==null&&(Ht.types=me.types),Ct.T=Ht}}function Im(){}function zf(I,$,Z,W){if(I.tag!==5)throw Error(w(476));var st=bd(I).queue;yd(I,st,$,Kt,Z===null?Im:function(){return vd(I),Z(W)})}function bd(I){var $=I.memoizedState;if($!==null)return $;$={memoizedState:Kt,baseState:Kt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:Kt},next:null};var Z={};return $.next={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:Z},next:null},I.memoizedState=$,I=I.alternate,I!==null&&(I.memoizedState=$),$}function vd(I){var $=bd(I);$.next===null&&($=I.alternate.memoizedState),Bl(I,$.next.queue,{},ma())}function Of(){return Bn(Xl)}function wd(){return kn().memoizedState}function xd(){return kn().memoizedState}function Rm(I){for(var $=I.return;$!==null;){switch($.tag){case 24:case 3:var Z=ma();I=Yr(Z);var W=Vr($,I,Z);W!==null&&(la(W,$,Z),Cl(W,$,Z)),$={cache:kl()},I.payload=$;return}$=$.return}}function Dm(I,$,Z){var W=ma();Z={lane:W,revertLane:0,gesture:null,action:Z,hasEagerState:!1,eagerState:null,next:null},tc(I)?Sd($,Z):(Z=ml(I,$,Z,W),Z!==null&&(la(Z,I,W),Md(Z,$,W)))}function Ed(I,$,Z){var W=ma();Bl(I,$,Z,W)}function Bl(I,$,Z,W){var st={lane:W,revertLane:0,gesture:null,action:Z,hasEagerState:!1,eagerState:null,next:null};if(tc(I))Sd($,st);else{var ct=I.alternate;if(I.lanes===0&&(ct===null||ct.lanes===0)&&(ct=$.lastRenderedReducer,ct!==null))try{var Ht=$.lastRenderedState,me=ct(Ht,Z);if(st.hasEagerState=!0,st.eagerState=me,Wn(me,Ht))return Ys(I,$,st,0),hn===null&&Ws(),!1}catch{}finally{}if(Z=ml(I,$,st,W),Z!==null)return la(Z,I,W),Md(Z,$,W),!0}return!1}function Pf(I,$,Z,W){if(W={lane:2,revertLane:mh(),gesture:null,action:W,hasEagerState:!1,eagerState:null,next:null},tc(I)){if($)throw Error(w(479))}else $=ml(I,Z,W,2),$!==null&&la($,I,2)}function tc(I){var $=I.alternate;return I===Fi||$!==null&&$===Fi}function Sd(I,$){Eo=Qu=!0;var Z=I.pending;Z===null?$.next=$:($.next=Z.next,Z.next=$),I.pending=$}function Md(I,$,Z){if((Z&4194048)!==0){var W=$.lanes;W&=I.pendingLanes,Z|=W,$.lanes=Z,ki(I,Z)}}var zl={readContext:Bn,use:Vu,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};zl.useEffectEvent=xn;var kd={readContext:Bn,use:Vu,useCallback:function(I,$){return Xn().memoizedState=[I,$===void 0?null:$],I},useContext:Bn,useEffect:ud,useImperativeHandle:function(I,$,Z){Z=Z!=null?Z.concat([I]):null,Ku(4194308,4,dd.bind(null,$,I),Z)},useLayoutEffect:function(I,$){return Ku(4194308,4,I,$)},useInsertionEffect:function(I,$){Ku(4,2,I,$)},useMemo:function(I,$){var Z=Xn();$=$===void 0?null:$;var W=I();if(Rs){hi(!0);try{I()}finally{hi(!1)}}return Z.memoizedState=[W,$],W},useReducer:function(I,$,Z){var W=Xn();if(Z!==void 0){var st=Z($);if(Rs){hi(!0);try{Z($)}finally{hi(!1)}}}else st=$;return W.memoizedState=W.baseState=st,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:st},W.queue=I,I=I.dispatch=Dm.bind(null,Fi,I),[W.memoizedState,I]},useRef:function(I){var $=Xn();return I={current:I},$.memoizedState=I},useState:function(I){I=If(I);var $=I.queue,Z=Ed.bind(null,Fi,$);return $.dispatch=Z,[I.memoizedState,Z]},useDebugValue:$f,useDeferredValue:function(I,$){var Z=Xn();return Bf(Z,I,$)},useTransition:function(){var I=If(!1);return I=yd.bind(null,Fi,I.queue,!0,!1),Xn().memoizedState=I,[!1,I]},useSyncExternalStore:function(I,$,Z){var W=Fi,st=Xn();if(ji){if(Z===void 0)throw Error(w(407));Z=Z()}else{if(Z=$(),hn===null)throw Error(w(349));(qi&127)!==0||Qh(W,$,Z)}st.memoizedState=Z;var ct={value:Z,getSnapshot:$};return st.queue=ct,ud(Yh.bind(null,W,ct,I),[I]),W.flags|=2048,Ao(9,{destroy:void 0},Wh.bind(null,W,ct,Z,$),null),Z},useId:function(){var I=Xn(),$=hn.identifierPrefix;if(ji){var Z=ca,W=ya;Z=(W&~(1<<32-Ce(W)-1)).toString(32)+Z,$="_"+$+"R_"+Z,Z=Wu++,0<Z&&($+="H"+Z.toString(32)),$+="_"}else Z=Mm++,$="_"+$+"r_"+Z.toString(32)+"_";return I.memoizedState=$},useHostTransitionStatus:Of,useFormState:ad,useActionState:ad,useOptimistic:function(I){var $=Xn();$.memoizedState=$.baseState=I;var Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return $.queue=Z,$=Pf.bind(null,Fi,!0,Z),Z.dispatch=$,[I,$]},useMemoCache:Tf,useCacheRefresh:function(){return Xn().memoizedState=Rm.bind(null,Fi)},useEffectEvent:function(I){var $=Xn(),Z={impl:I};return $.memoizedState=Z,function(){if((Ji&2)!==0)throw Error(w(440));return Z.impl.apply(void 0,arguments)}}},Nf={readContext:Bn,use:Vu,useCallback:md,useContext:Bn,useEffect:Df,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:_d,useReducer:Xu,useRef:ld,useState:function(){return Xu(br)},useDebugValue:$f,useDeferredValue:function(I,$){var Z=kn();return gd(Z,on.memoizedState,I,$)},useTransition:function(){var I=Xu(br)[0],$=kn().memoizedState;return[typeof I=="boolean"?I:$l(I),$]},useSyncExternalStore:qh,useId:wd,useHostTransitionStatus:Of,useFormState:rd,useActionState:rd,useOptimistic:function(I,$){var Z=kn();return Kh(Z,on,I,$)},useMemoCache:Tf,useCacheRefresh:xd};Nf.useEffectEvent=cd;var Td={readContext:Bn,use:Vu,useCallback:md,useContext:Bn,useEffect:Df,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:_d,useReducer:Cf,useRef:ld,useState:function(){return Cf(br)},useDebugValue:$f,useDeferredValue:function(I,$){var Z=kn();return on===null?Bf(Z,I,$):gd(Z,on.memoizedState,I,$)},useTransition:function(){var I=Cf(br)[0],$=kn().memoizedState;return[typeof I=="boolean"?I:$l(I),$]},useSyncExternalStore:qh,useId:wd,useHostTransitionStatus:Of,useFormState:od,useActionState:od,useOptimistic:function(I,$){var Z=kn();return on!==null?Kh(Z,on,I,$):(Z.baseState=I,[I,Z.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:xd};Td.useEffectEvent=cd;function Ff(I,$,Z,W){$=I.memoizedState,Z=Z(W,$),Z=Z==null?$:V({},$,Z),I.memoizedState=Z,I.lanes===0&&(I.updateQueue.baseState=Z)}var Lf={enqueueSetState:function(I,$,Z){I=I._reactInternals;var W=ma(),st=Yr(W);st.payload=$,Z!=null&&(st.callback=Z),$=Vr(I,st,W),$!==null&&(la($,I,W),Cl($,I,W))},enqueueReplaceState:function(I,$,Z){I=I._reactInternals;var W=ma(),st=Yr(W);st.tag=1,st.payload=$,Z!=null&&(st.callback=Z),$=Vr(I,st,W),$!==null&&(la($,I,W),Cl($,I,W))},enqueueForceUpdate:function(I,$){I=I._reactInternals;var Z=ma(),W=Yr(Z);W.tag=2,$!=null&&(W.callback=$),$=Vr(I,W,Z),$!==null&&(la($,I,Z),Cl($,I,Z))}};function Ad(I,$,Z,W,st,ct,Ht){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(W,ct,Ht):$.prototype&&$.prototype.isPureReactComponent?!ks(Z,W)||!ks(st,ct):!0}function Cd(I,$,Z,W){I=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(Z,W),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(Z,W),$.state!==I&&Lf.enqueueReplaceState($,$.state,null)}function Ds(I,$){var Z=$;if("ref"in $){Z={};for(var W in $)W!=="ref"&&(Z[W]=$[W])}if(I=I.defaultProps){Z===$&&(Z=V({},Z));for(var st in I)Z[st]===void 0&&(Z[st]=I[st])}return Z}function Id(I){qs(I)}function Rd(I){console.error(I)}function Dd(I){qs(I)}function ec(I,$){try{var Z=I.onUncaughtError;Z($.value,{componentStack:$.stack})}catch(W){setTimeout(function(){throw W})}}function $d(I,$,Z){try{var W=I.onCaughtError;W(Z.value,{componentStack:Z.stack,errorBoundary:$.tag===1?$.stateNode:null})}catch(st){setTimeout(function(){throw st})}}function Uf(I,$,Z){return Z=Yr(Z),Z.tag=3,Z.payload={element:null},Z.callback=function(){ec(I,$)},Z}function Bd(I){return I=Yr(I),I.tag=3,I}function zd(I,$,Z,W){var st=Z.type.getDerivedStateFromError;if(typeof st=="function"){var ct=W.value;I.payload=function(){return st(ct)},I.callback=function(){$d($,Z,W)}}var Ht=Z.stateNode;Ht!==null&&typeof Ht.componentDidCatch=="function"&&(I.callback=function(){$d($,Z,W),typeof st!="function"&&(as===null?as=new Set([this]):as.add(this));var me=W.stack;this.componentDidCatch(W.value,{componentStack:me!==null?me:""})})}function $m(I,$,Z,W,st){if(Z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){if($=Z.alternate,$!==null&&jr($,Z,st,!0),Z=fa.current,Z!==null){switch(Z.tag){case 31:case 13:return ba===null?dc():Z.alternate===null&&En===0&&(En=3),Z.flags&=-257,Z.flags|=65536,Z.lanes=st,W===fi?Z.flags|=16384:($=Z.updateQueue,$===null?Z.updateQueue=new Set([W]):$.add(W),hh(I,W,st)),!1;case 22:return Z.flags|=65536,W===fi?Z.flags|=16384:($=Z.updateQueue,$===null?($={transitions:null,markerInstances:null,retryQueue:new Set([W])},Z.updateQueue=$):(Z=$.retryQueue,Z===null?$.retryQueue=new Set([W]):Z.add(W)),hh(I,W,st)),!1}throw Error(w(435,Z.tag))}return hh(I,W,st),dc(),!1}if(ji)return $=fa.current,$!==null?(($.flags&65536)===0&&($.flags|=256),$.flags|=65536,$.lanes=st,W!==wl&&(I=Error(w(422),{cause:W}),As(Dn(I,Z)))):(W!==wl&&($=Error(w(423),{cause:W}),As(Dn($,Z))),I=I.current.alternate,I.flags|=65536,st&=-st,I.lanes|=st,W=Dn(W,Z),st=Uf(I.stateNode,W,st),gf(I,st),En!==4&&(En=2)),!1;var ct=Error(w(520),{cause:W});if(ct=Dn(ct,Z),jl===null?jl=[ct]:jl.push(ct),En!==4&&(En=2),$===null)return!0;W=Dn(W,Z),Z=$;do{switch(Z.tag){case 3:return Z.flags|=65536,I=st&-st,Z.lanes|=I,I=Uf(Z.stateNode,W,I),gf(Z,I),!1;case 1:if($=Z.type,ct=Z.stateNode,(Z.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(as===null||!as.has(ct))))return Z.flags|=65536,st&=-st,Z.lanes|=st,st=Bd(st),zd(st,I,Z,W),gf(Z,st),!1}Z=Z.return}while(Z!==null);return!1}var Gf=Error(w(461)),Cn=!1;function Gn(I,$,Z,W){$.child=I===null?bn($,null,Z,W):Un($,I.child,Z,W)}function Od(I,$,Z,W,st){Z=Z.render;var ct=$.ref;if("ref"in W){var Ht={};for(var me in W)me!=="ref"&&(Ht[me]=W[me])}else Ht=W;return gr($),W=Ef(I,$,Z,Ht,ct,st),me=Sf(),I!==null&&!Cn?(Mf(I,$,st),vr(I,$,st)):(ji&&me&&Gi($),$.flags|=1,Gn(I,$,W,st),$.child)}function Pd(I,$,Z,W,st){if(I===null){var ct=Z.type;return typeof ct=="function"&&!gl(ct)&&ct.defaultProps===void 0&&Z.compare===null?($.tag=15,$.type=ct,Nd(I,$,ct,W,st)):(I=Xs(Z.type,null,W,$,$.mode,st),I.ref=$.ref,I.return=$,$.child=I)}if(ct=I.child,!Vf(I,st)){var Ht=ct.memoizedProps;if(Z=Z.compare,Z=Z!==null?Z:ks,Z(Ht,W)&&I.ref===$.ref)return vr(I,$,st)}return $.flags|=1,I=Ia(ct,W),I.ref=$.ref,I.return=$,$.child=I}function Nd(I,$,Z,W,st){if(I!==null){var ct=I.memoizedProps;if(ks(ct,W)&&I.ref===$.ref)if(Cn=!1,$.pendingProps=W=ct,Vf(I,st))(I.flags&131072)!==0&&(Cn=!0);else return $.lanes=I.lanes,vr(I,$,st)}return jf(I,$,Z,W,st)}function Fd(I,$,Z,W){var st=W.children,ct=I!==null?I.memoizedState:null;if(I===null&&$.stateNode===null&&($.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),W.mode==="hidden"){if(($.flags&128)!==0){if(ct=ct!==null?ct.baseLanes|Z:Z,I!==null){for(W=$.child=I.child,st=0;W!==null;)st=st|W.lanes|W.childLanes,W=W.sibling;W=st&~ct}else W=0,$.child=null;return Ld(I,$,ct,Z,W)}if((Z&536870912)!==0)$.memoizedState={baseLanes:0,cachePool:null},I!==null&&Zt($,ct!==null?ct.cachePool:null),ct!==null?Gh($,ct):bf(),jh($);else return W=$.lanes=536870912,Ld(I,$,ct!==null?ct.baseLanes|Z:Z,Z,W)}else ct!==null?(Zt($,ct.cachePool),Gh($,ct),ts(),$.memoizedState=null):(I!==null&&Zt($,null),bf(),ts());return Gn(I,$,st,Z),$.child}function Ol(I,$){return I!==null&&I.tag===22||$.stateNode!==null||($.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),$.sibling}function Ld(I,$,Z,W,st){var ct=kt();return ct=ct===null?null:{parent:wn._currentValue,pool:ct},$.memoizedState={baseLanes:Z,cachePool:ct},I!==null&&Zt($,null),bf(),jh($),I!==null&&jr(I,$,W,!0),$.childLanes=st,null}function ic(I,$){return $=ac({mode:$.mode,children:$.children},I.mode),$.ref=I.ref,I.child=$,$.return=I,$}function Ud(I,$,Z){return Un($,I.child,null,Z),I=ic($,$.pendingProps),I.flags|=2,ha($),$.memoizedState=null,I}function Bm(I,$,Z){var W=$.pendingProps,st=($.flags&128)!==0;if($.flags&=-129,I===null){if(ji){if(W.mode==="hidden")return I=ic($,W),$.lanes=536870912,Ol(null,I);if(wf($),(I=fn)?(I=Jp(I,na),I=I!==null&&I.data==="&"?I:null,I!==null&&($.memoizedState={dehydrated:I,treeContext:St!==null?{id:ya,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},Z=Pu(I),Z.return=$,$.child=Z,$n=$,fn=null)):I=null,I===null)throw Ha($);return $.lanes=536870912,null}return ic($,W)}var ct=I.memoizedState;if(ct!==null){var Ht=ct.dehydrated;if(wf($),st)if($.flags&256)$.flags&=-257,$=Ud(I,$,Z);else if($.memoizedState!==null)$.child=I.child,$.flags|=128,$=null;else throw Error(w(558));else if(Cn||jr(I,$,Z,!1),st=(Z&I.childLanes)!==0,Cn||st){if(W=hn,W!==null&&(Ht=rn(W,Z),Ht!==0&&Ht!==ct.retryLane))throw ct.retryLane=Ht,fr(I,Ht),la(W,I,Ht),Gf;dc(),$=Ud(I,$,Z)}else I=ct.treeContext,fn=va(Ht.nextSibling),$n=$,ji=!0,Za=null,na=!1,I!==null&&Lu($,I),$=ic($,W),$.flags|=4096;return $}return I=Ia(I.child,{mode:W.mode,children:W.children}),I.ref=$.ref,$.child=I,I.return=$,I}function nc(I,$){var Z=$.ref;if(Z===null)I!==null&&I.ref!==null&&($.flags|=4194816);else{if(typeof Z!="function"&&typeof Z!="object")throw Error(w(284));(I===null||I.ref!==Z)&&($.flags|=4194816)}}function jf(I,$,Z,W,st){return gr($),Z=Ef(I,$,Z,W,void 0,st),W=Sf(),I!==null&&!Cn?(Mf(I,$,st),vr(I,$,st)):(ji&&W&&Gi($),$.flags|=1,Gn(I,$,Z,st),$.child)}function Gd(I,$,Z,W,st,ct){return gr($),$.updateQueue=null,Z=Hh($,W,Z,st),Zh(I),W=Sf(),I!==null&&!Cn?(Mf(I,$,ct),vr(I,$,ct)):(ji&&W&&Gi($),$.flags|=1,Gn(I,$,Z,ct),$.child)}function jd(I,$,Z,W,st){if(gr($),$.stateNode===null){var ct=hr,Ht=Z.contextType;typeof Ht=="object"&&Ht!==null&&(ct=Bn(Ht)),ct=new Z(W,ct),$.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,ct.updater=Lf,$.stateNode=ct,ct._reactInternals=$,ct=$.stateNode,ct.props=W,ct.state=$.memoizedState,ct.refs={},mf($),Ht=Z.contextType,ct.context=typeof Ht=="object"&&Ht!==null?Bn(Ht):hr,ct.state=$.memoizedState,Ht=Z.getDerivedStateFromProps,typeof Ht=="function"&&(Ff($,Z,Ht,W),ct.state=$.memoizedState),typeof Z.getDerivedStateFromProps=="function"||typeof ct.getSnapshotBeforeUpdate=="function"||typeof ct.UNSAFE_componentWillMount!="function"&&typeof ct.componentWillMount!="function"||(Ht=ct.state,typeof ct.componentWillMount=="function"&&ct.componentWillMount(),typeof ct.UNSAFE_componentWillMount=="function"&&ct.UNSAFE_componentWillMount(),Ht!==ct.state&&Lf.enqueueReplaceState(ct,ct.state,null),Rl($,W,ct,st),Il(),ct.state=$.memoizedState),typeof ct.componentDidMount=="function"&&($.flags|=4194308),W=!0}else if(I===null){ct=$.stateNode;var me=$.memoizedProps,ze=Ds(Z,me);ct.props=ze;var Ke=ct.context,pi=Z.contextType;Ht=hr,typeof pi=="object"&&pi!==null&&(Ht=Bn(pi));var yi=Z.getDerivedStateFromProps;pi=typeof yi=="function"||typeof ct.getSnapshotBeforeUpdate=="function",me=$.pendingProps!==me,pi||typeof ct.UNSAFE_componentWillReceiveProps!="function"&&typeof ct.componentWillReceiveProps!="function"||(me||Ke!==Ht)&&Cd($,ct,W,Ht),$a=!1;var Je=$.memoizedState;ct.state=Je,Rl($,W,ct,st),Il(),Ke=$.memoizedState,me||Je!==Ke||$a?(typeof yi=="function"&&(Ff($,Z,yi,W),Ke=$.memoizedState),(ze=$a||Ad($,Z,ze,W,Je,Ke,Ht))?(pi||typeof ct.UNSAFE_componentWillMount!="function"&&typeof ct.componentWillMount!="function"||(typeof ct.componentWillMount=="function"&&ct.componentWillMount(),typeof ct.UNSAFE_componentWillMount=="function"&&ct.UNSAFE_componentWillMount()),typeof ct.componentDidMount=="function"&&($.flags|=4194308)):(typeof ct.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=W,$.memoizedState=Ke),ct.props=W,ct.state=Ke,ct.context=Ht,W=ze):(typeof ct.componentDidMount=="function"&&($.flags|=4194308),W=!1)}else{ct=$.stateNode,_f(I,$),Ht=$.memoizedProps,pi=Ds(Z,Ht),ct.props=pi,yi=$.pendingProps,Je=ct.context,Ke=Z.contextType,ze=hr,typeof Ke=="object"&&Ke!==null&&(ze=Bn(Ke)),me=Z.getDerivedStateFromProps,(Ke=typeof me=="function"||typeof ct.getSnapshotBeforeUpdate=="function")||typeof ct.UNSAFE_componentWillReceiveProps!="function"&&typeof ct.componentWillReceiveProps!="function"||(Ht!==yi||Je!==ze)&&Cd($,ct,W,ze),$a=!1,Je=$.memoizedState,ct.state=Je,Rl($,W,ct,st),Il();var ci=$.memoizedState;Ht!==yi||Je!==ci||$a||I!==null&&I.dependencies!==null&&Js(I.dependencies)?(typeof me=="function"&&(Ff($,Z,me,W),ci=$.memoizedState),(pi=$a||Ad($,Z,pi,W,Je,ci,ze)||I!==null&&I.dependencies!==null&&Js(I.dependencies))?(Ke||typeof ct.UNSAFE_componentWillUpdate!="function"&&typeof ct.componentWillUpdate!="function"||(typeof ct.componentWillUpdate=="function"&&ct.componentWillUpdate(W,ci,ze),typeof ct.UNSAFE_componentWillUpdate=="function"&&ct.UNSAFE_componentWillUpdate(W,ci,ze)),typeof ct.componentDidUpdate=="function"&&($.flags|=4),typeof ct.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof ct.componentDidUpdate!="function"||Ht===I.memoizedProps&&Je===I.memoizedState||($.flags|=4),typeof ct.getSnapshotBeforeUpdate!="function"||Ht===I.memoizedProps&&Je===I.memoizedState||($.flags|=1024),$.memoizedProps=W,$.memoizedState=ci),ct.props=W,ct.state=ci,ct.context=ze,W=pi):(typeof ct.componentDidUpdate!="function"||Ht===I.memoizedProps&&Je===I.memoizedState||($.flags|=4),typeof ct.getSnapshotBeforeUpdate!="function"||Ht===I.memoizedProps&&Je===I.memoizedState||($.flags|=1024),W=!1)}return ct=W,nc(I,$),W=($.flags&128)!==0,ct||W?(ct=$.stateNode,Z=W&&typeof Z.getDerivedStateFromError!="function"?null:ct.render(),$.flags|=1,I!==null&&W?($.child=Un($,I.child,null,st),$.child=Un($,null,Z,st)):Gn(I,$,Z,st),$.memoizedState=ct.state,I=$.child):I=vr(I,$,st),I}function Zd(I,$,Z,W){return pr(),$.flags|=256,Gn(I,$,Z,W),$.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(I){return{baseLanes:I,cachePool:ee()}}function qf(I,$,Z){return I=I!==null?I.childLanes&~Z:0,$&&(I|=pa),I}function Hd(I,$,Z){var W=$.pendingProps,st=!1,ct=($.flags&128)!==0,Ht;if((Ht=ct)||(Ht=I!==null&&I.memoizedState===null?!1:(Mn.current&2)!==0),Ht&&(st=!0,$.flags&=-129),Ht=($.flags&32)!==0,$.flags&=-33,I===null){if(ji){if(st?Xr($):ts(),(I=fn)?(I=Jp(I,na),I=I!==null&&I.data!=="&"?I:null,I!==null&&($.memoizedState={dehydrated:I,treeContext:St!==null?{id:ya,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},Z=Pu(I),Z.return=$,$.child=Z,$n=$,fn=null)):I=null,I===null)throw Ha($);return Ah(I)?$.lanes=32:$.lanes=536870912,null}var me=W.children;return W=W.fallback,st?(ts(),st=$.mode,me=ac({mode:"hidden",children:me},st),W=ja(W,st,Z,null),me.return=$,W.return=$,me.sibling=W,$.child=me,W=$.child,W.memoizedState=Hf(Z),W.childLanes=qf(I,Ht,Z),$.memoizedState=Zf,Ol(null,W)):(Xr($),Qf($,me))}var ze=I.memoizedState;if(ze!==null&&(me=ze.dehydrated,me!==null)){if(ct)$.flags&256?(Xr($),$.flags&=-257,$=Wf(I,$,Z)):$.memoizedState!==null?(ts(),$.child=I.child,$.flags|=128,$=null):(ts(),me=W.fallback,st=$.mode,W=ac({mode:"visible",children:W.children},st),me=ja(me,st,Z,null),me.flags|=2,W.return=$,me.return=$,W.sibling=me,$.child=W,Un($,I.child,null,Z),W=$.child,W.memoizedState=Hf(Z),W.childLanes=qf(I,Ht,Z),$.memoizedState=Zf,$=Ol(null,W));else if(Xr($),Ah(me)){if(Ht=me.nextSibling&&me.nextSibling.dataset,Ht)var Ke=Ht.dgst;Ht=Ke,W=Error(w(419)),W.stack="",W.digest=Ht,As({value:W,source:null,stack:null}),$=Wf(I,$,Z)}else if(Cn||jr(I,$,Z,!1),Ht=(Z&I.childLanes)!==0,Cn||Ht){if(Ht=hn,Ht!==null&&(W=rn(Ht,Z),W!==0&&W!==ze.retryLane))throw ze.retryLane=W,fr(I,W),la(Ht,I,W),Gf;Th(me)||dc(),$=Wf(I,$,Z)}else Th(me)?($.flags|=192,$.child=I.child,$=null):(I=ze.treeContext,fn=va(me.nextSibling),$n=$,ji=!0,Za=null,na=!1,I!==null&&Lu($,I),$=Qf($,W.children),$.flags|=4096);return $}return st?(ts(),me=W.fallback,st=$.mode,ze=I.child,Ke=ze.sibling,W=Ia(ze,{mode:"hidden",children:W.children}),W.subtreeFlags=ze.subtreeFlags&65011712,Ke!==null?me=Ia(Ke,me):(me=ja(me,st,Z,null),me.flags|=2),me.return=$,W.return=$,W.sibling=me,$.child=W,Ol(null,W),W=$.child,me=I.child.memoizedState,me===null?me=Hf(Z):(st=me.cachePool,st!==null?(ze=wn._currentValue,st=st.parent!==ze?{parent:ze,pool:ze}:st):st=ee(),me={baseLanes:me.baseLanes|Z,cachePool:st}),W.memoizedState=me,W.childLanes=qf(I,Ht,Z),$.memoizedState=Zf,Ol(I.child,W)):(Xr($),Z=I.child,I=Z.sibling,Z=Ia(Z,{mode:"visible",children:W.children}),Z.return=$,Z.sibling=null,I!==null&&(Ht=$.deletions,Ht===null?($.deletions=[I],$.flags|=16):Ht.push(I)),$.child=Z,$.memoizedState=null,Z)}function Qf(I,$){return $=ac({mode:"visible",children:$},I.mode),$.return=I,I.child=$}function ac(I,$){return I=Yn(22,I,null,$),I.lanes=0,I}function Wf(I,$,Z){return Un($,I.child,null,Z),I=Qf($,$.pendingProps.children),I.flags|=2,$.memoizedState=null,I}function qd(I,$,Z){I.lanes|=$;var W=I.alternate;W!==null&&(W.lanes|=$),Sl(I.return,$,Z)}function Yf(I,$,Z,W,st,ct){var Ht=I.memoizedState;Ht===null?I.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:W,tail:Z,tailMode:st,treeForkCount:ct}:(Ht.isBackwards=$,Ht.rendering=null,Ht.renderingStartTime=0,Ht.last=W,Ht.tail=Z,Ht.tailMode=st,Ht.treeForkCount=ct)}function Qd(I,$,Z){var W=$.pendingProps,st=W.revealOrder,ct=W.tail;W=W.children;var Ht=Mn.current,me=(Ht&2)!==0;if(me?(Ht=Ht&1|2,$.flags|=128):Ht&=1,fe(Mn,Ht),Gn(I,$,W,Z),W=ji?Ur:0,!me&&I!==null&&(I.flags&128)!==0)t:for(I=$.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&qd(I,Z,$);else if(I.tag===19)qd(I,Z,$);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===$)break t;for(;I.sibling===null;){if(I.return===null||I.return===$)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}switch(st){case"forwards":for(Z=$.child,st=null;Z!==null;)I=Z.alternate,I!==null&&qu(I)===null&&(st=Z),Z=Z.sibling;Z=st,Z===null?(st=$.child,$.child=null):(st=Z.sibling,Z.sibling=null),Yf($,!1,st,Z,ct,W);break;case"backwards":case"unstable_legacy-backwards":for(Z=null,st=$.child,$.child=null;st!==null;){if(I=st.alternate,I!==null&&qu(I)===null){$.child=st;break}I=st.sibling,st.sibling=Z,Z=st,st=I}Yf($,!0,Z,null,ct,W);break;case"together":Yf($,!1,null,null,void 0,W);break;default:$.memoizedState=null}return $.child}function vr(I,$,Z){if(I!==null&&($.dependencies=I.dependencies),ns|=$.lanes,(Z&$.childLanes)===0)if(I!==null){if(jr(I,$,Z,!1),(Z&$.childLanes)===0)return null}else return null;if(I!==null&&$.child!==I.child)throw Error(w(153));if($.child!==null){for(I=$.child,Z=Ia(I,I.pendingProps),$.child=Z,Z.return=$;I.sibling!==null;)I=I.sibling,Z=Z.sibling=Ia(I,I.pendingProps),Z.return=$;Z.sibling=null}return $.child}function Vf(I,$){return(I.lanes&$)!==0?!0:(I=I.dependencies,!!(I!==null&&Js(I)))}function zm(I,$,Z){switch($.tag){case 3:Ie($,$.stateNode.containerInfo),qa($,wn,I.memoizedState.cache),pr();break;case 27:case 5:he($);break;case 4:Ie($,$.stateNode.containerInfo);break;case 10:qa($,$.type,$.memoizedProps.value);break;case 31:if($.memoizedState!==null)return $.flags|=128,wf($),null;break;case 13:var W=$.memoizedState;if(W!==null)return W.dehydrated!==null?(Xr($),$.flags|=128,null):(Z&$.child.childLanes)!==0?Hd(I,$,Z):(Xr($),I=vr(I,$,Z),I!==null?I.sibling:null);Xr($);break;case 19:var st=(I.flags&128)!==0;if(W=(Z&$.childLanes)!==0,W||(jr(I,$,Z,!1),W=(Z&$.childLanes)!==0),st){if(W)return Qd(I,$,Z);$.flags|=128}if(st=$.memoizedState,st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),fe(Mn,Mn.current),W)break;return null;case 22:return $.lanes=0,Fd(I,$,Z,$.pendingProps);case 24:qa($,wn,I.memoizedState.cache)}return vr(I,$,Z)}function Wd(I,$,Z){if(I!==null)if(I.memoizedProps!==$.pendingProps)Cn=!0;else{if(!Vf(I,Z)&&($.flags&128)===0)return Cn=!1,zm(I,$,Z);Cn=(I.flags&131072)!==0}else Cn=!1,ji&&($.flags&1048576)!==0&&Fu($,Ur,$.index);switch($.lanes=0,$.tag){case 16:t:{var W=$.pendingProps;if(I=xi($.elementType),$.type=I,typeof I=="function")gl(I)?(W=Ds(I,W),$.tag=1,$=jd(null,$,I,W,Z)):($.tag=0,$=jf(null,$,I,W,Z));else{if(I!=null){var st=I.$$typeof;if(st===dt){$.tag=11,$=Od(null,$,I,W,Z);break t}else if(st===_t){$.tag=14,$=Pd(null,$,I,W,Z);break t}}throw $=Nt(I)||I,Error(w(306,$,""))}}return $;case 0:return jf(I,$,$.type,$.pendingProps,Z);case 1:return W=$.type,st=Ds(W,$.pendingProps),jd(I,$,W,st,Z);case 3:t:{if(Ie($,$.stateNode.containerInfo),I===null)throw Error(w(387));W=$.pendingProps;var ct=$.memoizedState;st=ct.element,_f(I,$),Rl($,W,null,Z);var Ht=$.memoizedState;if(W=Ht.cache,qa($,wn,W),W!==ct.cache&&Ml($,[wn],Z,!0),Il(),W=Ht.element,ct.isDehydrated)if(ct={element:W,isDehydrated:!1,cache:Ht.cache},$.updateQueue.baseState=ct,$.memoizedState=ct,$.flags&256){$=Zd(I,$,W,Z);break t}else if(W!==st){st=Dn(Error(w(424)),$),As(st),$=Zd(I,$,W,Z);break t}else{switch(I=$.stateNode.containerInfo,I.nodeType){case 9:I=I.body;break;default:I=I.nodeName==="HTML"?I.ownerDocument.body:I}for(fn=va(I.firstChild),$n=$,ji=!0,Za=null,na=!0,Z=bn($,null,W,Z),$.child=Z;Z;)Z.flags=Z.flags&-3|4096,Z=Z.sibling}else{if(pr(),W===st){$=vr(I,$,Z);break t}Gn(I,$,W,Z)}$=$.child}return $;case 26:return nc(I,$),I===null?(Z=rm($.type,null,$.pendingProps,null))?$.memoizedState=Z:ji||(Z=$.type,I=$.pendingProps,W=vc(ne.current).createElement(Z),W[Ui]=$,W[Yt]=I,jn(W,Z,I),en(W),$.stateNode=W):$.memoizedState=rm($.type,I.memoizedProps,$.pendingProps,I.memoizedState),null;case 27:return he($),I===null&&ji&&(W=$.stateNode=im($.type,$.pendingProps,ne.current),$n=$,na=!0,st=fn,ls($.type)?(Ch=st,fn=va(W.firstChild)):fn=st),Gn(I,$,$.pendingProps.children,Z),nc(I,$),I===null&&($.flags|=4194304),$.child;case 5:return I===null&&ji&&((st=W=fn)&&(W=f0(W,$.type,$.pendingProps,na),W!==null?($.stateNode=W,$n=$,fn=va(W.firstChild),na=!1,st=!0):st=!1),st||Ha($)),he($),st=$.type,ct=$.pendingProps,Ht=I!==null?I.memoizedProps:null,W=ct.children,Sh(st,ct)?W=null:Ht!==null&&Sh(st,Ht)&&($.flags|=32),$.memoizedState!==null&&(st=Ef(I,$,km,null,null,Z),Xl._currentValue=st),nc(I,$),Gn(I,$,W,Z),$.child;case 6:return I===null&&ji&&((I=Z=fn)&&(Z=h0(Z,$.pendingProps,na),Z!==null?($.stateNode=Z,$n=$,fn=null,I=!0):I=!1),I||Ha($)),null;case 13:return Hd(I,$,Z);case 4:return Ie($,$.stateNode.containerInfo),W=$.pendingProps,I===null?$.child=Un($,null,W,Z):Gn(I,$,W,Z),$.child;case 11:return Od(I,$,$.type,$.pendingProps,Z);case 7:return Gn(I,$,$.pendingProps,Z),$.child;case 8:return Gn(I,$,$.pendingProps.children,Z),$.child;case 12:return Gn(I,$,$.pendingProps.children,Z),$.child;case 10:return W=$.pendingProps,qa($,$.type,W.value),Gn(I,$,W.children,Z),$.child;case 9:return st=$.type._context,W=$.pendingProps.children,gr($),st=Bn(st),W=W(st),$.flags|=1,Gn(I,$,W,Z),$.child;case 14:return Pd(I,$,$.type,$.pendingProps,Z);case 15:return Nd(I,$,$.type,$.pendingProps,Z);case 19:return Qd(I,$,Z);case 31:return Bm(I,$,Z);case 22:return Fd(I,$,Z,$.pendingProps);case 24:return gr($),W=Bn(wn),I===null?(st=kt(),st===null&&(st=hn,ct=kl(),st.pooledCache=ct,ct.refCount++,ct!==null&&(st.pooledCacheLanes|=Z),st=ct),$.memoizedState={parent:W,cache:st},mf($),qa($,wn,st)):((I.lanes&Z)!==0&&(_f(I,$),Rl($,null,null,Z),Il()),st=I.memoizedState,ct=$.memoizedState,st.parent!==W?(st={parent:W,cache:W},$.memoizedState=st,$.lanes===0&&($.memoizedState=$.updateQueue.baseState=st),qa($,wn,W)):(W=ct.cache,qa($,wn,W),W!==st.cache&&Ml($,[wn],Z,!0))),Gn(I,$,$.pendingProps.children,Z),$.child;case 29:throw $.pendingProps}throw Error(w(156,$.tag))}function wr(I){I.flags|=4}function Xf(I,$,Z,W,st){if(($=(I.mode&32)!==0)&&($=!1),$){if(I.flags|=16777216,(st&335544128)===st)if(I.stateNode.complete)I.flags|=8192;else if(wp())I.flags|=8192;else throw wi=fi,we}else I.flags&=-16777217}function Yd(I,$){if($.type!=="stylesheet"||($.state.loading&4)!==0)I.flags&=-16777217;else if(I.flags|=16777216,!cm($))if(wp())I.flags|=8192;else throw wi=fi,we}function rc(I,$){$!==null&&(I.flags|=4),I.flags&16384&&($=I.tag!==22?Ri():536870912,I.lanes|=$,Bo|=$)}function Pl(I,$){if(!ji)switch(I.tailMode){case"hidden":$=I.tail;for(var Z=null;$!==null;)$.alternate!==null&&(Z=$),$=$.sibling;Z===null?I.tail=null:Z.sibling=null;break;case"collapsed":Z=I.tail;for(var W=null;Z!==null;)Z.alternate!==null&&(W=Z),Z=Z.sibling;W===null?$||I.tail===null?I.tail=null:I.tail.sibling=null:W.sibling=null}}function gn(I){var $=I.alternate!==null&&I.alternate.child===I.child,Z=0,W=0;if($)for(var st=I.child;st!==null;)Z|=st.lanes|st.childLanes,W|=st.subtreeFlags&65011712,W|=st.flags&65011712,st.return=I,st=st.sibling;else for(st=I.child;st!==null;)Z|=st.lanes|st.childLanes,W|=st.subtreeFlags,W|=st.flags,st.return=I,st=st.sibling;return I.subtreeFlags|=W,I.childLanes=Z,$}function Om(I,$,Z){var W=$.pendingProps;switch(vl($),$.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn($),null;case 1:return gn($),null;case 3:return Z=$.stateNode,W=null,I!==null&&(W=I.memoizedState.cache),$.memoizedState.cache!==W&&($.flags|=2048),Da(wn),$e(),Z.pendingContext&&(Z.context=Z.pendingContext,Z.pendingContext=null),(I===null||I.child===null)&&(Gr($)?wr($):I===null||I.memoizedState.isDehydrated&&($.flags&256)===0||($.flags|=1024,xl())),gn($),null;case 26:var st=$.type,ct=$.memoizedState;return I===null?(wr($),ct!==null?(gn($),Yd($,ct)):(gn($),Xf($,st,null,W,Z))):ct?ct!==I.memoizedState?(wr($),gn($),Yd($,ct)):(gn($),$.flags&=-16777217):(I=I.memoizedProps,I!==W&&wr($),gn($),Xf($,st,I,W,Z)),null;case 27:if(xt($),Z=ne.current,st=$.type,I!==null&&$.stateNode!=null)I.memoizedProps!==W&&wr($);else{if(!W){if($.stateNode===null)throw Error(w(166));return gn($),null}I=oe.current,Gr($)?Uu($):(I=im(st,W,Z),$.stateNode=I,wr($))}return gn($),null;case 5:if(xt($),st=$.type,I!==null&&$.stateNode!=null)I.memoizedProps!==W&&wr($);else{if(!W){if($.stateNode===null)throw Error(w(166));return gn($),null}if(ct=oe.current,Gr($))Uu($);else{var Ht=vc(ne.current);switch(ct){case 1:ct=Ht.createElementNS("http://www.w3.org/2000/svg",st);break;case 2:ct=Ht.createElementNS("http://www.w3.org/1998/Math/MathML",st);break;default:switch(st){case"svg":ct=Ht.createElementNS("http://www.w3.org/2000/svg",st);break;case"math":ct=Ht.createElementNS("http://www.w3.org/1998/Math/MathML",st);break;case"script":ct=Ht.createElement("div"),ct.innerHTML="<script><\/script>",ct=ct.removeChild(ct.firstChild);break;case"select":ct=typeof W.is=="string"?Ht.createElement("select",{is:W.is}):Ht.createElement("select"),W.multiple?ct.multiple=!0:W.size&&(ct.size=W.size);break;default:ct=typeof W.is=="string"?Ht.createElement(st,{is:W.is}):Ht.createElement(st)}}ct[Ui]=$,ct[Yt]=W;t:for(Ht=$.child;Ht!==null;){if(Ht.tag===5||Ht.tag===6)ct.appendChild(Ht.stateNode);else if(Ht.tag!==4&&Ht.tag!==27&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===$)break t;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===$)break t;Ht=Ht.return}Ht.sibling.return=Ht.return,Ht=Ht.sibling}$.stateNode=ct;t:switch(jn(ct,st,W),st){case"button":case"input":case"select":case"textarea":W=!!W.autoFocus;break t;case"img":W=!0;break t;default:W=!1}W&&wr($)}}return gn($),Xf($,$.type,I===null?null:I.memoizedProps,$.pendingProps,Z),null;case 6:if(I&&$.stateNode!=null)I.memoizedProps!==W&&wr($);else{if(typeof W!="string"&&$.stateNode===null)throw Error(w(166));if(I=ne.current,Gr($)){if(I=$.stateNode,Z=$.memoizedProps,W=null,st=$n,st!==null)switch(st.tag){case 27:case 5:W=st.memoizedProps}I[Ui]=$,I=!!(I.nodeValue===Z||W!==null&&W.suppressHydrationWarning===!0||Hp(I.nodeValue,Z)),I||Ha($,!0)}else I=vc(I).createTextNode(W),I[Ui]=$,$.stateNode=I}return gn($),null;case 31:if(Z=$.memoizedState,I===null||I.memoizedState!==null){if(W=Gr($),Z!==null){if(I===null){if(!W)throw Error(w(318));if(I=$.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(w(557));I[Ui]=$}else pr(),($.flags&128)===0&&($.memoizedState=null),$.flags|=4;gn($),I=!1}else Z=xl(),I!==null&&I.memoizedState!==null&&(I.memoizedState.hydrationErrors=Z),I=!0;if(!I)return $.flags&256?(ha($),$):(ha($),null);if(($.flags&128)!==0)throw Error(w(558))}return gn($),null;case 13:if(W=$.memoizedState,I===null||I.memoizedState!==null&&I.memoizedState.dehydrated!==null){if(st=Gr($),W!==null&&W.dehydrated!==null){if(I===null){if(!st)throw Error(w(318));if(st=$.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(w(317));st[Ui]=$}else pr(),($.flags&128)===0&&($.memoizedState=null),$.flags|=4;gn($),st=!1}else st=xl(),I!==null&&I.memoizedState!==null&&(I.memoizedState.hydrationErrors=st),st=!0;if(!st)return $.flags&256?(ha($),$):(ha($),null)}return ha($),($.flags&128)!==0?($.lanes=Z,$):(Z=W!==null,I=I!==null&&I.memoizedState!==null,Z&&(W=$.child,st=null,W.alternate!==null&&W.alternate.memoizedState!==null&&W.alternate.memoizedState.cachePool!==null&&(st=W.alternate.memoizedState.cachePool.pool),ct=null,W.memoizedState!==null&&W.memoizedState.cachePool!==null&&(ct=W.memoizedState.cachePool.pool),ct!==st&&(W.flags|=2048)),Z!==I&&Z&&($.child.flags|=8192),rc($,$.updateQueue),gn($),null);case 4:return $e(),I===null&&bh($.stateNode.containerInfo),gn($),null;case 10:return Da($.type),gn($),null;case 19:if(Wt(Mn),W=$.memoizedState,W===null)return gn($),null;if(st=($.flags&128)!==0,ct=W.rendering,ct===null)if(st)Pl(W,!1);else{if(En!==0||I!==null&&(I.flags&128)!==0)for(I=$.child;I!==null;){if(ct=qu(I),ct!==null){for($.flags|=128,Pl(W,!1),I=ct.updateQueue,$.updateQueue=I,rc($,I),$.subtreeFlags=0,I=Z,Z=$.child;Z!==null;)Ou(Z,I),Z=Z.sibling;return fe(Mn,Mn.current&1|2),ji&&Ln($,W.treeForkCount),$.child}I=I.sibling}W.tail!==null&&oi()>cc&&($.flags|=128,st=!0,Pl(W,!1),$.lanes=4194304)}else{if(!st)if(I=qu(ct),I!==null){if($.flags|=128,st=!0,I=I.updateQueue,$.updateQueue=I,rc($,I),Pl(W,!0),W.tail===null&&W.tailMode==="hidden"&&!ct.alternate&&!ji)return gn($),null}else 2*oi()-W.renderingStartTime>cc&&Z!==536870912&&($.flags|=128,st=!0,Pl(W,!1),$.lanes=4194304);W.isBackwards?(ct.sibling=$.child,$.child=ct):(I=W.last,I!==null?I.sibling=ct:$.child=ct,W.last=ct)}return W.tail!==null?(I=W.tail,W.rendering=I,W.tail=I.sibling,W.renderingStartTime=oi(),I.sibling=null,Z=Mn.current,fe(Mn,st?Z&1|2:Z&1),ji&&Ln($,W.treeForkCount),I):(gn($),null);case 22:case 23:return ha($),vf(),W=$.memoizedState!==null,I!==null?I.memoizedState!==null!==W&&($.flags|=8192):W&&($.flags|=8192),W?(Z&536870912)!==0&&($.flags&128)===0&&(gn($),$.subtreeFlags&6&&($.flags|=8192)):gn($),Z=$.updateQueue,Z!==null&&rc($,Z.retryQueue),Z=null,I!==null&&I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(Z=I.memoizedState.cachePool.pool),W=null,$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(W=$.memoizedState.cachePool.pool),W!==Z&&($.flags|=2048),I!==null&&Wt(ft),null;case 24:return Z=null,I!==null&&(Z=I.memoizedState.cache),$.memoizedState.cache!==Z&&($.flags|=2048),Da(wn),gn($),null;case 25:return null;case 30:return null}throw Error(w(156,$.tag))}function Pm(I,$){switch(vl($),$.tag){case 1:return I=$.flags,I&65536?($.flags=I&-65537|128,$):null;case 3:return Da(wn),$e(),I=$.flags,(I&65536)!==0&&(I&128)===0?($.flags=I&-65537|128,$):null;case 26:case 27:case 5:return xt($),null;case 31:if($.memoizedState!==null){if(ha($),$.alternate===null)throw Error(w(340));pr()}return I=$.flags,I&65536?($.flags=I&-65537|128,$):null;case 13:if(ha($),I=$.memoizedState,I!==null&&I.dehydrated!==null){if($.alternate===null)throw Error(w(340));pr()}return I=$.flags,I&65536?($.flags=I&-65537|128,$):null;case 19:return Wt(Mn),null;case 4:return $e(),null;case 10:return Da($.type),null;case 22:case 23:return ha($),vf(),I!==null&&Wt(ft),I=$.flags,I&65536?($.flags=I&-65537|128,$):null;case 24:return Da(wn),null;case 25:return null;default:return null}}function Vd(I,$){switch(vl($),$.tag){case 3:Da(wn),$e();break;case 26:case 27:case 5:xt($);break;case 4:$e();break;case 31:$.memoizedState!==null&&ha($);break;case 13:ha($);break;case 19:Wt(Mn);break;case 10:Da($.type);break;case 22:case 23:ha($),vf(),I!==null&&Wt(ft);break;case 24:Da(wn)}}function Nl(I,$){try{var Z=$.updateQueue,W=Z!==null?Z.lastEffect:null;if(W!==null){var st=W.next;Z=st;do{if((Z.tag&I)===I){W=void 0;var ct=Z.create,Ht=Z.inst;W=ct(),Ht.destroy=W}Z=Z.next}while(Z!==st)}}catch(me){an($,$.return,me)}}function es(I,$,Z){try{var W=$.updateQueue,st=W!==null?W.lastEffect:null;if(st!==null){var ct=st.next;W=ct;do{if((W.tag&I)===I){var Ht=W.inst,me=Ht.destroy;if(me!==void 0){Ht.destroy=void 0,st=$;var ze=Z,Ke=me;try{Ke()}catch(pi){an(st,ze,pi)}}}W=W.next}while(W!==ct)}}catch(pi){an($,$.return,pi)}}function Xd(I){var $=I.updateQueue;if($!==null){var Z=I.stateNode;try{Uh($,Z)}catch(W){an(I,I.return,W)}}}function Kd(I,$,Z){Z.props=Ds(I.type,I.memoizedProps),Z.state=I.memoizedState;try{Z.componentWillUnmount()}catch(W){an(I,$,W)}}function Fl(I,$){try{var Z=I.ref;if(Z!==null){switch(I.tag){case 26:case 27:case 5:var W=I.stateNode;break;case 30:W=I.stateNode;break;default:W=I.stateNode}typeof Z=="function"?I.refCleanup=Z(W):Z.current=W}}catch(st){an(I,$,st)}}function Qa(I,$){var Z=I.ref,W=I.refCleanup;if(Z!==null)if(typeof W=="function")try{W()}catch(st){an(I,$,st)}finally{I.refCleanup=null,I=I.alternate,I!=null&&(I.refCleanup=null)}else if(typeof Z=="function")try{Z(null)}catch(st){an(I,$,st)}else Z.current=null}function Jd(I){var $=I.type,Z=I.memoizedProps,W=I.stateNode;try{t:switch($){case"button":case"input":case"select":case"textarea":Z.autoFocus&&W.focus();break t;case"img":Z.src?W.src=Z.src:Z.srcSet&&(W.srcset=Z.srcSet)}}catch(st){an(I,I.return,st)}}function Kf(I,$,Z){try{var W=I.stateNode;r0(W,I.type,Z,$),W[Yt]=$}catch(st){an(I,I.return,st)}}function tp(I){return I.tag===5||I.tag===3||I.tag===26||I.tag===27&&ls(I.type)||I.tag===4}function Jf(I){t:for(;;){for(;I.sibling===null;){if(I.return===null||tp(I.return))return null;I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.tag===27&&ls(I.type)||I.flags&2||I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(I.flags&2))return I.stateNode}}function th(I,$,Z){var W=I.tag;if(W===5||W===6)I=I.stateNode,$?(Z.nodeType===9?Z.body:Z.nodeName==="HTML"?Z.ownerDocument.body:Z).insertBefore(I,$):($=Z.nodeType===9?Z.body:Z.nodeName==="HTML"?Z.ownerDocument.body:Z,$.appendChild(I),Z=Z._reactRootContainer,Z!=null||$.onclick!==null||($.onclick=Sn));else if(W!==4&&(W===27&&ls(I.type)&&(Z=I.stateNode,$=null),I=I.child,I!==null))for(th(I,$,Z),I=I.sibling;I!==null;)th(I,$,Z),I=I.sibling}function sc(I,$,Z){var W=I.tag;if(W===5||W===6)I=I.stateNode,$?Z.insertBefore(I,$):Z.appendChild(I);else if(W!==4&&(W===27&&ls(I.type)&&(Z=I.stateNode),I=I.child,I!==null))for(sc(I,$,Z),I=I.sibling;I!==null;)sc(I,$,Z),I=I.sibling}function ep(I){var $=I.stateNode,Z=I.memoizedProps;try{for(var W=I.type,st=$.attributes;st.length;)$.removeAttributeNode(st[0]);jn($,W,Z),$[Ui]=I,$[Yt]=Z}catch(ct){an(I,I.return,ct)}}var xr=!1,In=!1,eh=!1,ip=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Nm(I,$){if(I=I.containerInfo,xh=Tc,I=Cu(I),cl(I)){if("selectionStart"in I)var Z={start:I.selectionStart,end:I.selectionEnd};else t:{Z=(Z=I.ownerDocument)&&Z.defaultView||window;var W=Z.getSelection&&Z.getSelection();if(W&&W.rangeCount!==0){Z=W.anchorNode;var st=W.anchorOffset,ct=W.focusNode;W=W.focusOffset;try{Z.nodeType,ct.nodeType}catch{Z=null;break t}var Ht=0,me=-1,ze=-1,Ke=0,pi=0,yi=I,Je=null;e:for(;;){for(var ci;yi!==Z||st!==0&&yi.nodeType!==3||(me=Ht+st),yi!==ct||W!==0&&yi.nodeType!==3||(ze=Ht+W),yi.nodeType===3&&(Ht+=yi.nodeValue.length),(ci=yi.firstChild)!==null;)Je=yi,yi=ci;for(;;){if(yi===I)break e;if(Je===Z&&++Ke===st&&(me=Ht),Je===ct&&++pi===W&&(ze=Ht),(ci=yi.nextSibling)!==null)break;yi=Je,Je=yi.parentNode}yi=ci}Z=me===-1||ze===-1?null:{start:me,end:ze}}else Z=null}Z=Z||{start:0,end:0}}else Z=null;for(Eh={focusedElem:I,selectionRange:Z},Tc=!1,Pn=$;Pn!==null;)if($=Pn,I=$.child,($.subtreeFlags&1028)!==0&&I!==null)I.return=$,Pn=I;else for(;Pn!==null;){switch($=Pn,ct=$.alternate,I=$.flags,$.tag){case 0:if((I&4)!==0&&(I=$.updateQueue,I=I!==null?I.events:null,I!==null))for(Z=0;Z<I.length;Z++)st=I[Z],st.ref.impl=st.nextImpl;break;case 11:case 15:break;case 1:if((I&1024)!==0&&ct!==null){I=void 0,Z=$,st=ct.memoizedProps,ct=ct.memoizedState,W=Z.stateNode;try{var Di=Ds(Z.type,st);I=W.getSnapshotBeforeUpdate(Di,ct),W.__reactInternalSnapshotBeforeUpdate=I}catch(Pi){an(Z,Z.return,Pi)}}break;case 3:if((I&1024)!==0){if(I=$.stateNode.containerInfo,Z=I.nodeType,Z===9)kh(I);else if(Z===1)switch(I.nodeName){case"HEAD":case"HTML":case"BODY":kh(I);break;default:I.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((I&1024)!==0)throw Error(w(163))}if(I=$.sibling,I!==null){I.return=$.return,Pn=I;break}Pn=$.return}}function np(I,$,Z){var W=Z.flags;switch(Z.tag){case 0:case 11:case 15:Sr(I,Z),W&4&&Nl(5,Z);break;case 1:if(Sr(I,Z),W&4)if(I=Z.stateNode,$===null)try{I.componentDidMount()}catch(Ht){an(Z,Z.return,Ht)}else{var st=Ds(Z.type,$.memoizedProps);$=$.memoizedState;try{I.componentDidUpdate(st,$,I.__reactInternalSnapshotBeforeUpdate)}catch(Ht){an(Z,Z.return,Ht)}}W&64&&Xd(Z),W&512&&Fl(Z,Z.return);break;case 3:if(Sr(I,Z),W&64&&(I=Z.updateQueue,I!==null)){if($=null,Z.child!==null)switch(Z.child.tag){case 27:case 5:$=Z.child.stateNode;break;case 1:$=Z.child.stateNode}try{Uh(I,$)}catch(Ht){an(Z,Z.return,Ht)}}break;case 27:$===null&&W&4&&ep(Z);case 26:case 5:Sr(I,Z),$===null&&W&4&&Jd(Z),W&512&&Fl(Z,Z.return);break;case 12:Sr(I,Z);break;case 31:Sr(I,Z),W&4&&sp(I,Z);break;case 13:Sr(I,Z),W&4&&op(I,Z),W&64&&(I=Z.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&(Z=Qm.bind(null,Z),d0(I,Z))));break;case 22:if(W=Z.memoizedState!==null||xr,!W){$=$!==null&&$.memoizedState!==null||In,st=xr;var ct=In;xr=W,(In=$)&&!ct?Mr(I,Z,(Z.subtreeFlags&8772)!==0):Sr(I,Z),xr=st,In=ct}break;case 30:break;default:Sr(I,Z)}}function ap(I){var $=I.alternate;$!==null&&(I.alternate=null,ap($)),I.child=null,I.deletions=null,I.sibling=null,I.tag===5&&($=I.stateNode,$!==null&&Cr($)),I.stateNode=null,I.return=null,I.dependencies=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.stateNode=null,I.updateQueue=null}var vn=null,aa=!1;function Er(I,$,Z){for(Z=Z.child;Z!==null;)rp(I,$,Z),Z=Z.sibling}function rp(I,$,Z){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Ei,Z)}catch{}switch(Z.tag){case 26:In||Qa(Z,$),Er(I,$,Z),Z.memoizedState?Z.memoizedState.count--:Z.stateNode&&(Z=Z.stateNode,Z.parentNode.removeChild(Z));break;case 27:In||Qa(Z,$);var W=vn,st=aa;ls(Z.type)&&(vn=Z.stateNode,aa=!1),Er(I,$,Z),Wl(Z.stateNode),vn=W,aa=st;break;case 5:In||Qa(Z,$);case 6:if(W=vn,st=aa,vn=null,Er(I,$,Z),vn=W,aa=st,vn!==null)if(aa)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(Z.stateNode)}catch(ct){an(Z,$,ct)}else try{vn.removeChild(Z.stateNode)}catch(ct){an(Z,$,ct)}break;case 18:vn!==null&&(aa?(I=vn,Xp(I.nodeType===9?I.body:I.nodeName==="HTML"?I.ownerDocument.body:I,Z.stateNode),jo(I)):Xp(vn,Z.stateNode));break;case 4:W=vn,st=aa,vn=Z.stateNode.containerInfo,aa=!0,Er(I,$,Z),vn=W,aa=st;break;case 0:case 11:case 14:case 15:es(2,Z,$),In||es(4,Z,$),Er(I,$,Z);break;case 1:In||(Qa(Z,$),W=Z.stateNode,typeof W.componentWillUnmount=="function"&&Kd(Z,$,W)),Er(I,$,Z);break;case 21:Er(I,$,Z);break;case 22:In=(W=In)||Z.memoizedState!==null,Er(I,$,Z),In=W;break;default:Er(I,$,Z)}}function sp(I,$){if($.memoizedState===null&&(I=$.alternate,I!==null&&(I=I.memoizedState,I!==null))){I=I.dehydrated;try{jo(I)}catch(Z){an($,$.return,Z)}}}function op(I,$){if($.memoizedState===null&&(I=$.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null))))try{jo(I)}catch(Z){an($,$.return,Z)}}function Fm(I){switch(I.tag){case 31:case 13:case 19:var $=I.stateNode;return $===null&&($=I.stateNode=new ip),$;case 22:return I=I.stateNode,$=I._retryCache,$===null&&($=I._retryCache=new ip),$;default:throw Error(w(435,I.tag))}}function oc(I,$){var Z=Fm(I);$.forEach(function(W){if(!Z.has(W)){Z.add(W);var st=Wm.bind(null,I,W);W.then(st,st)}})}function ra(I,$){var Z=$.deletions;if(Z!==null)for(var W=0;W<Z.length;W++){var st=Z[W],ct=I,Ht=$,me=Ht;t:for(;me!==null;){switch(me.tag){case 27:if(ls(me.type)){vn=me.stateNode,aa=!1;break t}break;case 5:vn=me.stateNode,aa=!1;break t;case 3:case 4:vn=me.stateNode.containerInfo,aa=!0;break t}me=me.return}if(vn===null)throw Error(w(160));rp(ct,Ht,st),vn=null,aa=!1,ct=st.alternate,ct!==null&&(ct.return=null),st.return=null}if($.subtreeFlags&13886)for($=$.child;$!==null;)lp($,I),$=$.sibling}var Ba=null;function lp(I,$){var Z=I.alternate,W=I.flags;switch(I.tag){case 0:case 11:case 14:case 15:ra($,I),sa(I),W&4&&(es(3,I,I.return),Nl(3,I),es(5,I,I.return));break;case 1:ra($,I),sa(I),W&512&&(In||Z===null||Qa(Z,Z.return)),W&64&&xr&&(I=I.updateQueue,I!==null&&(W=I.callbacks,W!==null&&(Z=I.shared.hiddenCallbacks,I.shared.hiddenCallbacks=Z===null?W:Z.concat(W))));break;case 26:var st=Ba;if(ra($,I),sa(I),W&512&&(In||Z===null||Qa(Z,Z.return)),W&4){var ct=Z!==null?Z.memoizedState:null;if(W=I.memoizedState,Z===null)if(W===null)if(I.stateNode===null){t:{W=I.type,Z=I.memoizedProps,st=st.ownerDocument||st;e:switch(W){case"title":ct=st.getElementsByTagName("title")[0],(!ct||ct[Pa]||ct[Ui]||ct.namespaceURI==="http://www.w3.org/2000/svg"||ct.hasAttribute("itemprop"))&&(ct=st.createElement(W),st.head.insertBefore(ct,st.querySelector("head > title"))),jn(ct,W,Z),ct[Ui]=I,en(ct),W=ct;break t;case"link":var Ht=lm("link","href",st).get(W+(Z.href||""));if(Ht){for(var me=0;me<Ht.length;me++)if(ct=Ht[me],ct.getAttribute("href")===(Z.href==null||Z.href===""?null:Z.href)&&ct.getAttribute("rel")===(Z.rel==null?null:Z.rel)&&ct.getAttribute("title")===(Z.title==null?null:Z.title)&&ct.getAttribute("crossorigin")===(Z.crossOrigin==null?null:Z.crossOrigin)){Ht.splice(me,1);break e}}ct=st.createElement(W),jn(ct,W,Z),st.head.appendChild(ct);break;case"meta":if(Ht=lm("meta","content",st).get(W+(Z.content||""))){for(me=0;me<Ht.length;me++)if(ct=Ht[me],ct.getAttribute("content")===(Z.content==null?null:""+Z.content)&&ct.getAttribute("name")===(Z.name==null?null:Z.name)&&ct.getAttribute("property")===(Z.property==null?null:Z.property)&&ct.getAttribute("http-equiv")===(Z.httpEquiv==null?null:Z.httpEquiv)&&ct.getAttribute("charset")===(Z.charSet==null?null:Z.charSet)){Ht.splice(me,1);break e}}ct=st.createElement(W),jn(ct,W,Z),st.head.appendChild(ct);break;default:throw Error(w(468,W))}ct[Ui]=I,en(ct),W=ct}I.stateNode=W}else um(st,I.type,I.stateNode);else I.stateNode=om(st,W,I.memoizedProps);else ct!==W?(ct===null?Z.stateNode!==null&&(Z=Z.stateNode,Z.parentNode.removeChild(Z)):ct.count--,W===null?um(st,I.type,I.stateNode):om(st,W,I.memoizedProps)):W===null&&I.stateNode!==null&&Kf(I,I.memoizedProps,Z.memoizedProps)}break;case 27:ra($,I),sa(I),W&512&&(In||Z===null||Qa(Z,Z.return)),Z!==null&&W&4&&Kf(I,I.memoizedProps,Z.memoizedProps);break;case 5:if(ra($,I),sa(I),W&512&&(In||Z===null||Qa(Z,Z.return)),I.flags&32){st=I.stateNode;try{Xa(st,"")}catch(Di){an(I,I.return,Di)}}W&4&&I.stateNode!=null&&(st=I.memoizedProps,Kf(I,st,Z!==null?Z.memoizedProps:st)),W&1024&&(eh=!0);break;case 6:if(ra($,I),sa(I),W&4){if(I.stateNode===null)throw Error(w(162));W=I.memoizedProps,Z=I.stateNode;try{Z.nodeValue=W}catch(Di){an(I,I.return,Di)}}break;case 3:if(Ec=null,st=Ba,Ba=wc($.containerInfo),ra($,I),Ba=st,sa(I),W&4&&Z!==null&&Z.memoizedState.isDehydrated)try{jo($.containerInfo)}catch(Di){an(I,I.return,Di)}eh&&(eh=!1,up(I));break;case 4:W=Ba,Ba=wc(I.stateNode.containerInfo),ra($,I),sa(I),Ba=W;break;case 12:ra($,I),sa(I);break;case 31:ra($,I),sa(I),W&4&&(W=I.updateQueue,W!==null&&(I.updateQueue=null,oc(I,W)));break;case 13:ra($,I),sa(I),I.child.flags&8192&&I.memoizedState!==null!=(Z!==null&&Z.memoizedState!==null)&&(uc=oi()),W&4&&(W=I.updateQueue,W!==null&&(I.updateQueue=null,oc(I,W)));break;case 22:st=I.memoizedState!==null;var ze=Z!==null&&Z.memoizedState!==null,Ke=xr,pi=In;if(xr=Ke||st,In=pi||ze,ra($,I),In=pi,xr=Ke,sa(I),W&8192)t:for($=I.stateNode,$._visibility=st?$._visibility&-2:$._visibility|1,st&&(Z===null||ze||xr||In||$s(I)),Z=null,$=I;;){if($.tag===5||$.tag===26){if(Z===null){ze=Z=$;try{if(ct=ze.stateNode,st)Ht=ct.style,typeof Ht.setProperty=="function"?Ht.setProperty("display","none","important"):Ht.display="none";else{me=ze.stateNode;var yi=ze.memoizedProps.style,Je=yi!=null&&yi.hasOwnProperty("display")?yi.display:null;me.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Di){an(ze,ze.return,Di)}}}else if($.tag===6){if(Z===null){ze=$;try{ze.stateNode.nodeValue=st?"":ze.memoizedProps}catch(Di){an(ze,ze.return,Di)}}}else if($.tag===18){if(Z===null){ze=$;try{var ci=ze.stateNode;st?Kp(ci,!0):Kp(ze.stateNode,!1)}catch(Di){an(ze,ze.return,Di)}}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===I)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===I)break t;for(;$.sibling===null;){if($.return===null||$.return===I)break t;Z===$&&(Z=null),$=$.return}Z===$&&(Z=null),$.sibling.return=$.return,$=$.sibling}W&4&&(W=I.updateQueue,W!==null&&(Z=W.retryQueue,Z!==null&&(W.retryQueue=null,oc(I,Z))));break;case 19:ra($,I),sa(I),W&4&&(W=I.updateQueue,W!==null&&(I.updateQueue=null,oc(I,W)));break;case 30:break;case 21:break;default:ra($,I),sa(I)}}function sa(I){var $=I.flags;if($&2){try{for(var Z,W=I.return;W!==null;){if(tp(W)){Z=W;break}W=W.return}if(Z==null)throw Error(w(160));switch(Z.tag){case 27:var st=Z.stateNode,ct=Jf(I);sc(I,ct,st);break;case 5:var Ht=Z.stateNode;Z.flags&32&&(Xa(Ht,""),Z.flags&=-33);var me=Jf(I);sc(I,me,Ht);break;case 3:case 4:var ze=Z.stateNode.containerInfo,Ke=Jf(I);th(I,Ke,ze);break;default:throw Error(w(161))}}catch(pi){an(I,I.return,pi)}I.flags&=-3}$&4096&&(I.flags&=-4097)}function up(I){if(I.subtreeFlags&1024)for(I=I.child;I!==null;){var $=I;up($),$.tag===5&&$.flags&1024&&$.stateNode.reset(),I=I.sibling}}function Sr(I,$){if($.subtreeFlags&8772)for($=$.child;$!==null;)np(I,$.alternate,$),$=$.sibling}function $s(I){for(I=I.child;I!==null;){var $=I;switch($.tag){case 0:case 11:case 14:case 15:es(4,$,$.return),$s($);break;case 1:Qa($,$.return);var Z=$.stateNode;typeof Z.componentWillUnmount=="function"&&Kd($,$.return,Z),$s($);break;case 27:Wl($.stateNode);case 26:case 5:Qa($,$.return),$s($);break;case 22:$.memoizedState===null&&$s($);break;case 30:$s($);break;default:$s($)}I=I.sibling}}function Mr(I,$,Z){for(Z=Z&&($.subtreeFlags&8772)!==0,$=$.child;$!==null;){var W=$.alternate,st=I,ct=$,Ht=ct.flags;switch(ct.tag){case 0:case 11:case 15:Mr(st,ct,Z),Nl(4,ct);break;case 1:if(Mr(st,ct,Z),W=ct,st=W.stateNode,typeof st.componentDidMount=="function")try{st.componentDidMount()}catch(Ke){an(W,W.return,Ke)}if(W=ct,st=W.updateQueue,st!==null){var me=W.stateNode;try{var ze=st.shared.hiddenCallbacks;if(ze!==null)for(st.shared.hiddenCallbacks=null,st=0;st<ze.length;st++)Lh(ze[st],me)}catch(Ke){an(W,W.return,Ke)}}Z&&Ht&64&&Xd(ct),Fl(ct,ct.return);break;case 27:ep(ct);case 26:case 5:Mr(st,ct,Z),Z&&W===null&&Ht&4&&Jd(ct),Fl(ct,ct.return);break;case 12:Mr(st,ct,Z);break;case 31:Mr(st,ct,Z),Z&&Ht&4&&sp(st,ct);break;case 13:Mr(st,ct,Z),Z&&Ht&4&&op(st,ct);break;case 22:ct.memoizedState===null&&Mr(st,ct,Z),Fl(ct,ct.return);break;case 30:break;default:Mr(st,ct,Z)}$=$.sibling}}function ih(I,$){var Z=null;I!==null&&I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(Z=I.memoizedState.cachePool.pool),I=null,$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(I=$.memoizedState.cachePool.pool),I!==Z&&(I!=null&&I.refCount++,Z!=null&&Cs(Z))}function nh(I,$){I=null,$.alternate!==null&&(I=$.alternate.memoizedState.cache),$=$.memoizedState.cache,$!==I&&($.refCount++,I!=null&&Cs(I))}function za(I,$,Z,W){if($.subtreeFlags&10256)for($=$.child;$!==null;)cp(I,$,Z,W),$=$.sibling}function cp(I,$,Z,W){var st=$.flags;switch($.tag){case 0:case 11:case 15:za(I,$,Z,W),st&2048&&Nl(9,$);break;case 1:za(I,$,Z,W);break;case 3:za(I,$,Z,W),st&2048&&(I=null,$.alternate!==null&&(I=$.alternate.memoizedState.cache),$=$.memoizedState.cache,$!==I&&($.refCount++,I!=null&&Cs(I)));break;case 12:if(st&2048){za(I,$,Z,W),I=$.stateNode;try{var ct=$.memoizedProps,Ht=ct.id,me=ct.onPostCommit;typeof me=="function"&&me(Ht,$.alternate===null?"mount":"update",I.passiveEffectDuration,-0)}catch(ze){an($,$.return,ze)}}else za(I,$,Z,W);break;case 31:za(I,$,Z,W);break;case 13:za(I,$,Z,W);break;case 23:break;case 22:ct=$.stateNode,Ht=$.alternate,$.memoizedState!==null?ct._visibility&2?za(I,$,Z,W):Ll(I,$):ct._visibility&2?za(I,$,Z,W):(ct._visibility|=2,Ro(I,$,Z,W,($.subtreeFlags&10256)!==0||!1)),st&2048&&ih(Ht,$);break;case 24:za(I,$,Z,W),st&2048&&nh($.alternate,$);break;default:za(I,$,Z,W)}}function Ro(I,$,Z,W,st){for(st=st&&(($.subtreeFlags&10256)!==0||!1),$=$.child;$!==null;){var ct=I,Ht=$,me=Z,ze=W,Ke=Ht.flags;switch(Ht.tag){case 0:case 11:case 15:Ro(ct,Ht,me,ze,st),Nl(8,Ht);break;case 23:break;case 22:var pi=Ht.stateNode;Ht.memoizedState!==null?pi._visibility&2?Ro(ct,Ht,me,ze,st):Ll(ct,Ht):(pi._visibility|=2,Ro(ct,Ht,me,ze,st)),st&&Ke&2048&&ih(Ht.alternate,Ht);break;case 24:Ro(ct,Ht,me,ze,st),st&&Ke&2048&&nh(Ht.alternate,Ht);break;default:Ro(ct,Ht,me,ze,st)}$=$.sibling}}function Ll(I,$){if($.subtreeFlags&10256)for($=$.child;$!==null;){var Z=I,W=$,st=W.flags;switch(W.tag){case 22:Ll(Z,W),st&2048&&ih(W.alternate,W);break;case 24:Ll(Z,W),st&2048&&nh(W.alternate,W);break;default:Ll(Z,W)}$=$.sibling}}var Ul=8192;function Do(I,$,Z){if(I.subtreeFlags&Ul)for(I=I.child;I!==null;)fp(I,$,Z),I=I.sibling}function fp(I,$,Z){switch(I.tag){case 26:Do(I,$,Z),I.flags&Ul&&I.memoizedState!==null&&M0(Z,Ba,I.memoizedState,I.memoizedProps);break;case 5:Do(I,$,Z);break;case 3:case 4:var W=Ba;Ba=wc(I.stateNode.containerInfo),Do(I,$,Z),Ba=W;break;case 22:I.memoizedState===null&&(W=I.alternate,W!==null&&W.memoizedState!==null?(W=Ul,Ul=16777216,Do(I,$,Z),Ul=W):Do(I,$,Z));break;default:Do(I,$,Z)}}function hp(I){var $=I.alternate;if($!==null&&(I=$.child,I!==null)){$.child=null;do $=I.sibling,I.sibling=null,I=$;while(I!==null)}}function Gl(I){var $=I.deletions;if((I.flags&16)!==0){if($!==null)for(var Z=0;Z<$.length;Z++){var W=$[Z];Pn=W,pp(W,I)}hp(I)}if(I.subtreeFlags&10256)for(I=I.child;I!==null;)dp(I),I=I.sibling}function dp(I){switch(I.tag){case 0:case 11:case 15:Gl(I),I.flags&2048&&es(9,I,I.return);break;case 3:Gl(I);break;case 12:Gl(I);break;case 22:var $=I.stateNode;I.memoizedState!==null&&$._visibility&2&&(I.return===null||I.return.tag!==13)?($._visibility&=-3,lc(I)):Gl(I);break;default:Gl(I)}}function lc(I){var $=I.deletions;if((I.flags&16)!==0){if($!==null)for(var Z=0;Z<$.length;Z++){var W=$[Z];Pn=W,pp(W,I)}hp(I)}for(I=I.child;I!==null;){switch($=I,$.tag){case 0:case 11:case 15:es(8,$,$.return),lc($);break;case 22:Z=$.stateNode,Z._visibility&2&&(Z._visibility&=-3,lc($));break;default:lc($)}I=I.sibling}}function pp(I,$){for(;Pn!==null;){var Z=Pn;switch(Z.tag){case 0:case 11:case 15:es(8,Z,$);break;case 23:case 22:if(Z.memoizedState!==null&&Z.memoizedState.cachePool!==null){var W=Z.memoizedState.cachePool.pool;W!=null&&W.refCount++}break;case 24:Cs(Z.memoizedState.cache)}if(W=Z.child,W!==null)W.return=Z,Pn=W;else t:for(Z=I;Pn!==null;){W=Pn;var st=W.sibling,ct=W.return;if(ap(W),W===Z){Pn=null;break t}if(st!==null){st.return=ct,Pn=st;break t}Pn=ct}}}var Lm={getCacheForType:function(I){var $=Bn(wn),Z=$.data.get(I);return Z===void 0&&(Z=I(),$.data.set(I,Z)),Z},cacheSignal:function(){return Bn(wn).controller.signal}},Um=typeof WeakMap=="function"?WeakMap:Map,Ji=0,hn=null,Zi=null,qi=0,nn=0,da=null,is=!1,$o=!1,ah=!1,kr=0,En=0,ns=0,Bs=0,rh=0,pa=0,Bo=0,jl=null,oa=null,sh=!1,uc=0,mp=0,cc=1/0,fc=null,as=null,zn=0,rs=null,zo=null,Tr=0,oh=0,lh=null,_p=null,Zl=0,uh=null;function ma(){return(Ji&2)!==0&&qi!==0?qi&-qi:Ct.T!==null?mh():_a()}function gp(){if(pa===0)if((qi&536870912)===0||ji){var I=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),pa=I}else pa=536870912;return I=fa.current,I!==null&&(I.flags|=32),pa}function la(I,$,Z){(I===hn&&(nn===2||nn===9)||I.cancelPendingCommit!==null)&&(Oo(I,0),ss(I,qi,pa,!1)),Mi(I,Z),((Ji&2)===0||I!==hn)&&(I===hn&&((Ji&2)===0&&(Bs|=Z),En===4&&ss(I,qi,pa,!1)),Wa(I))}function yp(I,$,Z){if((Ji&6)!==0)throw Error(w(327));var W=!Z&&($&127)===0&&($&I.expiredLanes)===0||Ge(I,$),st=W?Zm(I,$):fh(I,$,!0),ct=W;do{if(st===0){$o&&!W&&ss(I,$,0,!1);break}else{if(Z=I.current.alternate,ct&&!Gm(Z)){st=fh(I,$,!1),ct=!1;continue}if(st===2){if(ct=$,I.errorRecoveryDisabledLanes&ct)var Ht=0;else Ht=I.pendingLanes&-536870913,Ht=Ht!==0?Ht:Ht&536870912?536870912:0;if(Ht!==0){$=Ht;t:{var me=I;st=jl;var ze=me.current.memoizedState.isDehydrated;if(ze&&(Oo(me,Ht).flags|=256),Ht=fh(me,Ht,!1),Ht!==2){if(ah&&!ze){me.errorRecoveryDisabledLanes|=ct,Bs|=ct,st=4;break t}ct=oa,oa=st,ct!==null&&(oa===null?oa=ct:oa.push.apply(oa,ct))}st=Ht}if(ct=!1,st!==2)continue}}if(st===1){Oo(I,0),ss(I,$,0,!0);break}t:{switch(W=I,ct=st,ct){case 0:case 1:throw Error(w(345));case 4:if(($&4194048)!==$)break;case 6:ss(W,$,pa,!is);break t;case 2:oa=null;break;case 3:case 5:break;default:throw Error(w(329))}if(($&62914560)===$&&(st=uc+300-oi(),10<st)){if(ss(W,$,pa,!is),Se(W,0,!0)!==0)break t;Tr=$,W.timeoutHandle=Yp(bp.bind(null,W,Z,oa,fc,sh,$,pa,Bs,Bo,is,ct,"Throttled",-0,0),st);break t}bp(W,Z,oa,fc,sh,$,pa,Bs,Bo,is,ct,null,-0,0)}}break}while(!0);Wa(I)}function bp(I,$,Z,W,st,ct,Ht,me,ze,Ke,pi,yi,Je,ci){if(I.timeoutHandle=-1,yi=$.subtreeFlags,yi&8192||(yi&16785408)===16785408){yi={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},fp($,ct,yi);var Di=(ct&62914560)===ct?uc-oi():(ct&4194048)===ct?mp-oi():0;if(Di=k0(yi,Di),Di!==null){Tr=ct,I.cancelPendingCommit=Di(Tp.bind(null,I,$,ct,Z,W,st,Ht,me,ze,pi,yi,null,Je,ci)),ss(I,ct,Ht,!Ke);return}}Tp(I,$,ct,Z,W,st,Ht,me,ze)}function Gm(I){for(var $=I;;){var Z=$.tag;if((Z===0||Z===11||Z===15)&&$.flags&16384&&(Z=$.updateQueue,Z!==null&&(Z=Z.stores,Z!==null)))for(var W=0;W<Z.length;W++){var st=Z[W],ct=st.getSnapshot;st=st.value;try{if(!Wn(ct(),st))return!1}catch{return!1}}if(Z=$.child,$.subtreeFlags&16384&&Z!==null)Z.return=$,$=Z;else{if($===I)break;for(;$.sibling===null;){if($.return===null||$.return===I)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function ss(I,$,Z,W){$&=~rh,$&=~Bs,I.suspendedLanes|=$,I.pingedLanes&=~$,W&&(I.warmLanes|=$),W=I.expirationTimes;for(var st=$;0<st;){var ct=31-Ce(st),Ht=1<<ct;W[ct]=-1,st&=~Ht}Z!==0&&Tn(I,Z,$)}function hc(){return(Ji&6)===0?(Hl(0),!1):!0}function ch(){if(Zi!==null){if(nn===0)var I=Zi.return;else I=Zi,Ra=mr=null,kf(I),mn=null,sn=0,I=Zi;for(;I!==null;)Vd(I.alternate,I),I=I.return;Zi=null}}function Oo(I,$){var Z=I.timeoutHandle;Z!==-1&&(I.timeoutHandle=-1,l0(Z)),Z=I.cancelPendingCommit,Z!==null&&(I.cancelPendingCommit=null,Z()),Tr=0,ch(),hn=I,Zi=Z=Ia(I.current,null),qi=$,nn=0,da=null,is=!1,$o=Ge(I,$),ah=!1,Bo=pa=rh=Bs=ns=En=0,oa=jl=null,sh=!1,($&8)!==0&&($|=$&32);var W=I.entangledLanes;if(W!==0)for(I=I.entanglements,W&=$;0<W;){var st=31-Ce(W),ct=1<<st;$|=I[st],W&=~ct}return kr=$,Ws(),Z}function vp(I,$){Fi=null,Ct.H=zl,$===ve||$===Ze?($=zi(),nn=3):$===we?($=zi(),nn=4):nn=$===Gf?8:$!==null&&typeof $=="object"&&typeof $.then=="function"?6:1,da=$,Zi===null&&(En=1,ec(I,Dn($,I.current)))}function wp(){var I=fa.current;return I===null?!0:(qi&4194048)===qi?ba===null:(qi&62914560)===qi||(qi&536870912)!==0?I===ba:!1}function xp(){var I=Ct.H;return Ct.H=zl,I===null?zl:I}function Ep(){var I=Ct.A;return Ct.A=Lm,I}function dc(){En=4,is||(qi&4194048)!==qi&&fa.current!==null||($o=!0),(ns&134217727)===0&&(Bs&134217727)===0||hn===null||ss(hn,qi,pa,!1)}function fh(I,$,Z){var W=Ji;Ji|=2;var st=xp(),ct=Ep();(hn!==I||qi!==$)&&(fc=null,Oo(I,$)),$=!1;var Ht=En;t:do try{if(nn!==0&&Zi!==null){var me=Zi,ze=da;switch(nn){case 8:ch(),Ht=6;break t;case 3:case 2:case 9:case 6:fa.current===null&&($=!0);var Ke=nn;if(nn=0,da=null,Po(I,me,ze,Ke),Z&&$o){Ht=0;break t}break;default:Ke=nn,nn=0,da=null,Po(I,me,ze,Ke)}}jm(),Ht=En;break}catch(pi){vp(I,pi)}while(!0);return $&&I.shellSuspendCounter++,Ra=mr=null,Ji=W,Ct.H=st,Ct.A=ct,Zi===null&&(hn=null,qi=0,Ws()),Ht}function jm(){for(;Zi!==null;)Sp(Zi)}function Zm(I,$){var Z=Ji;Ji|=2;var W=xp(),st=Ep();hn!==I||qi!==$?(fc=null,cc=oi()+500,Oo(I,$)):$o=Ge(I,$);t:do try{if(nn!==0&&Zi!==null){$=Zi;var ct=da;e:switch(nn){case 1:nn=0,da=null,Po(I,$,ct,1);break;case 2:case 9:if(di(ct)){nn=0,da=null,Mp($);break}$=function(){nn!==2&&nn!==9||hn!==I||(nn=7),Wa(I)},ct.then($,$);break t;case 3:nn=7;break t;case 4:nn=5;break t;case 7:di(ct)?(nn=0,da=null,Mp($)):(nn=0,da=null,Po(I,$,ct,7));break;case 5:var Ht=null;switch(Zi.tag){case 26:Ht=Zi.memoizedState;case 5:case 27:var me=Zi;if(Ht?cm(Ht):me.stateNode.complete){nn=0,da=null;var ze=me.sibling;if(ze!==null)Zi=ze;else{var Ke=me.return;Ke!==null?(Zi=Ke,pc(Ke)):Zi=null}break e}}nn=0,da=null,Po(I,$,ct,5);break;case 6:nn=0,da=null,Po(I,$,ct,6);break;case 8:ch(),En=6;break t;default:throw Error(w(462))}}Hm();break}catch(pi){vp(I,pi)}while(!0);return Ra=mr=null,Ct.H=W,Ct.A=st,Ji=Z,Zi!==null?0:(hn=null,qi=0,Ws(),En)}function Hm(){for(;Zi!==null&&!xe();)Sp(Zi)}function Sp(I){var $=Wd(I.alternate,I,kr);I.memoizedProps=I.pendingProps,$===null?pc(I):Zi=$}function Mp(I){var $=I,Z=$.alternate;switch($.tag){case 15:case 0:$=Gd(Z,$,$.pendingProps,$.type,void 0,qi);break;case 11:$=Gd(Z,$,$.pendingProps,$.type.render,$.ref,qi);break;case 5:kf($);default:Vd(Z,$),$=Zi=Ou($,kr),$=Wd(Z,$,kr)}I.memoizedProps=I.pendingProps,$===null?pc(I):Zi=$}function Po(I,$,Z,W){Ra=mr=null,kf($),mn=null,sn=0;var st=$.return;try{if($m(I,st,$,Z,qi)){En=1,ec(I,Dn(Z,I.current)),Zi=null;return}}catch(ct){if(st!==null)throw Zi=st,ct;En=1,ec(I,Dn(Z,I.current)),Zi=null;return}$.flags&32768?(ji||W===1?I=!0:$o||(qi&536870912)!==0?I=!1:(is=I=!0,(W===2||W===9||W===3||W===6)&&(W=fa.current,W!==null&&W.tag===13&&(W.flags|=16384))),kp($,I)):pc($)}function pc(I){var $=I;do{if(($.flags&32768)!==0){kp($,is);return}I=$.return;var Z=Om($.alternate,$,kr);if(Z!==null){Zi=Z;return}if($=$.sibling,$!==null){Zi=$;return}Zi=$=I}while($!==null);En===0&&(En=5)}function kp(I,$){do{var Z=Pm(I.alternate,I);if(Z!==null){Z.flags&=32767,Zi=Z;return}if(Z=I.return,Z!==null&&(Z.flags|=32768,Z.subtreeFlags=0,Z.deletions=null),!$&&(I=I.sibling,I!==null)){Zi=I;return}Zi=I=Z}while(I!==null);En=6,Zi=null}function Tp(I,$,Z,W,st,ct,Ht,me,ze){I.cancelPendingCommit=null;do mc();while(zn!==0);if((Ji&6)!==0)throw Error(w(327));if($!==null){if($===I.current)throw Error(w(177));if(ct=$.lanes|$.childLanes,ct|=Qs,Ni(I,Z,ct,Ht,me,ze),I===hn&&(Zi=hn=null,qi=0),zo=$,rs=I,Tr=Z,oh=ct,lh=st,_p=W,($.subtreeFlags&10256)!==0||($.flags&10256)!==0?(I.callbackNode=null,I.callbackPriority=0,Ym(We,function(){return Dp(),null})):(I.callbackNode=null,I.callbackPriority=0),W=($.flags&13878)!==0,($.subtreeFlags&13878)!==0||W){W=Ct.T,Ct.T=null,st=Jt.p,Jt.p=2,Ht=Ji,Ji|=4;try{Nm(I,$,Z)}finally{Ji=Ht,Jt.p=st,Ct.T=W}}zn=1,Ap(),Cp(),Ip()}}function Ap(){if(zn===1){zn=0;var I=rs,$=zo,Z=($.flags&13878)!==0;if(($.subtreeFlags&13878)!==0||Z){Z=Ct.T,Ct.T=null;var W=Jt.p;Jt.p=2;var st=Ji;Ji|=4;try{lp($,I);var ct=Eh,Ht=Cu(I.containerInfo),me=ct.focusedElem,ze=ct.selectionRange;if(Ht!==me&&me&&me.ownerDocument&&Au(me.ownerDocument.documentElement,me)){if(ze!==null&&cl(me)){var Ke=ze.start,pi=ze.end;if(pi===void 0&&(pi=Ke),"selectionStart"in me)me.selectionStart=Ke,me.selectionEnd=Math.min(pi,me.value.length);else{var yi=me.ownerDocument||document,Je=yi&&yi.defaultView||window;if(Je.getSelection){var ci=Je.getSelection(),Di=me.textContent.length,Pi=Math.min(ze.start,Di),un=ze.end===void 0?Pi:Math.min(ze.end,Di);!ci.extend&&Pi>un&&(Ht=un,un=Pi,Pi=Ht);var He=Tu(me,Pi),Ue=Tu(me,un);if(He&&Ue&&(ci.rangeCount!==1||ci.anchorNode!==He.node||ci.anchorOffset!==He.offset||ci.focusNode!==Ue.node||ci.focusOffset!==Ue.offset)){var Xe=yi.createRange();Xe.setStart(He.node,He.offset),ci.removeAllRanges(),Pi>un?(ci.addRange(Xe),ci.extend(Ue.node,Ue.offset)):(Xe.setEnd(Ue.node,Ue.offset),ci.addRange(Xe))}}}}for(yi=[],ci=me;ci=ci.parentNode;)ci.nodeType===1&&yi.push({element:ci,left:ci.scrollLeft,top:ci.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<yi.length;me++){var _i=yi[me];_i.element.scrollLeft=_i.left,_i.element.scrollTop=_i.top}}Tc=!!xh,Eh=xh=null}finally{Ji=st,Jt.p=W,Ct.T=Z}}I.current=$,zn=2}}function Cp(){if(zn===2){zn=0;var I=rs,$=zo,Z=($.flags&8772)!==0;if(($.subtreeFlags&8772)!==0||Z){Z=Ct.T,Ct.T=null;var W=Jt.p;Jt.p=2;var st=Ji;Ji|=4;try{np(I,$.alternate,$)}finally{Ji=st,Jt.p=W,Ct.T=Z}}zn=3}}function Ip(){if(zn===4||zn===3){zn=0,Be();var I=rs,$=zo,Z=Tr,W=_p;($.subtreeFlags&10256)!==0||($.flags&10256)!==0?zn=5:(zn=0,zo=rs=null,Rp(I,I.pendingLanes));var st=I.pendingLanes;if(st===0&&(as=null),cn(Z),$=$.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Ei,$,void 0,($.current.flags&128)===128)}catch{}if(W!==null){$=Ct.T,st=Jt.p,Jt.p=2,Ct.T=null;try{for(var ct=I.onRecoverableError,Ht=0;Ht<W.length;Ht++){var me=W[Ht];ct(me.value,{componentStack:me.stack})}}finally{Ct.T=$,Jt.p=st}}(Tr&3)!==0&&mc(),Wa(I),st=I.pendingLanes,(Z&261930)!==0&&(st&42)!==0?I===uh?Zl++:(Zl=0,uh=I):Zl=0,Hl(0)}}function Rp(I,$){(I.pooledCacheLanes&=$)===0&&($=I.pooledCache,$!=null&&(I.pooledCache=null,Cs($)))}function mc(){return Ap(),Cp(),Ip(),Dp()}function Dp(){if(zn!==5)return!1;var I=rs,$=oh;oh=0;var Z=cn(Tr),W=Ct.T,st=Jt.p;try{Jt.p=32>Z?32:Z,Ct.T=null,Z=lh,lh=null;var ct=rs,Ht=Tr;if(zn=0,zo=rs=null,Tr=0,(Ji&6)!==0)throw Error(w(331));var me=Ji;if(Ji|=4,dp(ct.current),cp(ct,ct.current,Ht,Z),Ji=me,Hl(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Ei,ct)}catch{}return!0}finally{Jt.p=st,Ct.T=W,Rp(I,$)}}function $p(I,$,Z){$=Dn(Z,$),$=Uf(I.stateNode,$,2),I=Vr(I,$,2),I!==null&&(Mi(I,2),Wa(I))}function an(I,$,Z){if(I.tag===3)$p(I,I,Z);else for(;$!==null;){if($.tag===3){$p($,I,Z);break}else if($.tag===1){var W=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&(as===null||!as.has(W))){I=Dn(Z,I),Z=Bd(2),W=Vr($,Z,2),W!==null&&(zd(Z,W,$,I),Mi(W,2),Wa(W));break}}$=$.return}}function hh(I,$,Z){var W=I.pingCache;if(W===null){W=I.pingCache=new Um;var st=new Set;W.set($,st)}else st=W.get($),st===void 0&&(st=new Set,W.set($,st));st.has(Z)||(ah=!0,st.add(Z),I=qm.bind(null,I,$,Z),$.then(I,I))}function qm(I,$,Z){var W=I.pingCache;W!==null&&W.delete($),I.pingedLanes|=I.suspendedLanes&Z,I.warmLanes&=~Z,hn===I&&(qi&Z)===Z&&(En===4||En===3&&(qi&62914560)===qi&&300>oi()-uc?(Ji&2)===0&&Oo(I,0):rh|=Z,Bo===qi&&(Bo=0)),Wa(I)}function Bp(I,$){$===0&&($=Ri()),I=fr(I,$),I!==null&&(Mi(I,$),Wa(I))}function Qm(I){var $=I.memoizedState,Z=0;$!==null&&(Z=$.retryLane),Bp(I,Z)}function Wm(I,$){var Z=0;switch(I.tag){case 31:case 13:var W=I.stateNode,st=I.memoizedState;st!==null&&(Z=st.retryLane);break;case 19:W=I.stateNode;break;case 22:W=I.stateNode._retryCache;break;default:throw Error(w(314))}W!==null&&W.delete($),Bp(I,Z)}function Ym(I,$){return Gt(I,$)}var _c=null,No=null,dh=!1,gc=!1,ph=!1,os=0;function Wa(I){I!==No&&I.next===null&&(No===null?_c=No=I:No=No.next=I),gc=!0,dh||(dh=!0,Xm())}function Hl(I,$){if(!ph&&gc){ph=!0;do for(var Z=!1,W=_c;W!==null;){if(I!==0){var st=W.pendingLanes;if(st===0)var ct=0;else{var Ht=W.suspendedLanes,me=W.pingedLanes;ct=(1<<31-Ce(42|I)+1)-1,ct&=st&~(Ht&~me),ct=ct&201326741?ct&201326741|1:ct?ct|2:0}ct!==0&&(Z=!0,Np(W,ct))}else ct=qi,ct=Se(W,W===hn?ct:0,W.cancelPendingCommit!==null||W.timeoutHandle!==-1),(ct&3)===0||Ge(W,ct)||(Z=!0,Np(W,ct));W=W.next}while(Z);ph=!1}}function Vm(){zp()}function zp(){gc=dh=!1;var I=0;os!==0&&o0()&&(I=os);for(var $=oi(),Z=null,W=_c;W!==null;){var st=W.next,ct=Op(W,$);ct===0?(W.next=null,Z===null?_c=st:Z.next=st,st===null&&(No=Z)):(Z=W,(I!==0||(ct&3)!==0)&&(gc=!0)),W=st}zn!==0&&zn!==5||Hl(I),os!==0&&(os=0)}function Op(I,$){for(var Z=I.suspendedLanes,W=I.pingedLanes,st=I.expirationTimes,ct=I.pendingLanes&-62914561;0<ct;){var Ht=31-Ce(ct),me=1<<Ht,ze=st[Ht];ze===-1?((me&Z)===0||(me&W)!==0)&&(st[Ht]=Qe(me,$)):ze<=$&&(I.expiredLanes|=me),ct&=~me}if($=hn,Z=qi,Z=Se(I,I===$?Z:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),W=I.callbackNode,Z===0||I===$&&(nn===2||nn===9)||I.cancelPendingCommit!==null)return W!==null&&W!==null&&jt(W),I.callbackNode=null,I.callbackPriority=0;if((Z&3)===0||Ge(I,Z)){if($=Z&-Z,$===I.callbackPriority)return $;switch(W!==null&&jt(W),cn(Z)){case 2:case 8:Z=gi;break;case 32:Z=We;break;case 268435456:Z=Si;break;default:Z=We}return W=Pp.bind(null,I),Z=Gt(Z,W),I.callbackPriority=$,I.callbackNode=Z,$}return W!==null&&W!==null&&jt(W),I.callbackPriority=2,I.callbackNode=null,2}function Pp(I,$){if(zn!==0&&zn!==5)return I.callbackNode=null,I.callbackPriority=0,null;var Z=I.callbackNode;if(mc()&&I.callbackNode!==Z)return null;var W=qi;return W=Se(I,I===hn?W:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),W===0?null:(yp(I,W,$),Op(I,oi()),I.callbackNode!=null&&I.callbackNode===Z?Pp.bind(null,I):null)}function Np(I,$){if(mc())return null;yp(I,$,!0)}function Xm(){u0(function(){(Ji&6)!==0?Gt(li,Vm):zp()})}function mh(){if(os===0){var I=Hr;I===0&&(I=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),os=I}return os}function Fp(I){return I==null||typeof I=="symbol"||typeof I=="boolean"?null:typeof I=="function"?I:Ns(""+I)}function Lp(I,$){var Z=$.ownerDocument.createElement("input");return Z.name=$.name,Z.value=$.value,I.id&&Z.setAttribute("form",I.id),$.parentNode.insertBefore(Z,$),I=new FormData(I),Z.parentNode.removeChild(Z),I}function Km(I,$,Z,W,st){if($==="submit"&&Z&&Z.stateNode===st){var ct=Fp((st[Yt]||null).action),Ht=W.submitter;Ht&&($=($=Ht[Yt]||null)?Fp($.formAction):Ht.getAttribute("formAction"),$!==null&&(ct=$,Ht=null));var me=new Us("action","action",null,W,st);I.push({event:me,listeners:[{instance:null,listener:function(){if(W.defaultPrevented){if(os!==0){var ze=Ht?Lp(st,Ht):new FormData(st);zf(Z,{pending:!0,data:ze,method:st.method,action:ct},null,ze)}}else typeof ct=="function"&&(me.preventDefault(),ze=Ht?Lp(st,Ht):new FormData(st),zf(Z,{pending:!0,data:ze,method:st.method,action:ct},ct,ze))},currentTarget:st}]})}}for(var _h=0;_h<pl.length;_h++){var gh=pl[_h],Jm=gh.toLowerCase(),t0=gh[0].toUpperCase()+gh.slice(1);Fn(Jm,"on"+t0)}Fn(dl,"onAnimationEnd"),Fn(Du,"onAnimationIteration"),Fn($u,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Bu,"onTransitionRun"),Fn(uf,"onTransitionStart"),Fn(cf,"onTransitionCancel"),Fn(zu,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Up(I,$){$=($&4)!==0;for(var Z=0;Z<I.length;Z++){var W=I[Z],st=W.event;W=W.listeners;t:{var ct=void 0;if($)for(var Ht=W.length-1;0<=Ht;Ht--){var me=W[Ht],ze=me.instance,Ke=me.currentTarget;if(me=me.listener,ze!==ct&&st.isPropagationStopped())break t;ct=me,st.currentTarget=Ke;try{ct(st)}catch(pi){qs(pi)}st.currentTarget=null,ct=ze}else for(Ht=0;Ht<W.length;Ht++){if(me=W[Ht],ze=me.instance,Ke=me.currentTarget,me=me.listener,ze!==ct&&st.isPropagationStopped())break t;ct=me,st.currentTarget=Ke;try{ct(st)}catch(pi){qs(pi)}st.currentTarget=null,ct=ze}}}}function Hi(I,$){var Z=$[Ci];Z===void 0&&(Z=$[Ci]=new Set);var W=I+"__bubble";Z.has(W)||(Gp($,I,2,!1),Z.add(W))}function yh(I,$,Z){var W=0;$&&(W|=4),Gp(Z,I,W,$)}var yc="_reactListening"+Math.random().toString(36).slice(2);function bh(I){if(!I[yc]){I[yc]=!0,eu.forEach(function(Z){Z!=="selectionchange"&&(e0.has(Z)||yh(Z,!1,I),yh(Z,!0,I))});var $=I.nodeType===9?I:I.ownerDocument;$===null||$[yc]||($[yc]=!0,yh("selectionchange",!1,$))}}function Gp(I,$,Z,W){switch(gm($)){case 2:var st=C0;break;case 8:st=I0;break;default:st=Bh}Z=st.bind(null,$,Z,I),st=void 0,!$r||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(st=!0),W?st!==void 0?I.addEventListener($,Z,{capture:!0,passive:st}):I.addEventListener($,Z,!0):st!==void 0?I.addEventListener($,Z,{passive:st}):I.addEventListener($,Z,!1)}function vh(I,$,Z,W,st){var ct=W;if(($&1)===0&&($&2)===0&&W!==null)t:for(;;){if(W===null)return;var Ht=W.tag;if(Ht===3||Ht===4){var me=W.stateNode.containerInfo;if(me===st)break;if(Ht===4)for(Ht=W.return;Ht!==null;){var ze=Ht.tag;if((ze===3||ze===4)&&Ht.stateNode.containerInfo===st)return;Ht=Ht.return}for(;me!==null;){if(Ht=Kn(me),Ht===null)return;if(ze=Ht.tag,ze===5||ze===6||ze===26||ze===27){W=ct=Ht;continue t}me=me.parentNode}}W=W.return}Vo(function(){var Ke=ct,pi=Qo(Z),yi=[];t:{var Je=Hs.get(I);if(Je!==void 0){var ci=Us,Di=I;switch(I){case"keypress":if(Fs(Z)===0)break t;case"keydown":case"keyup":ci=Uc;break;case"focusin":Di="focus",ci=tl;break;case"focusout":Di="blur",ci=tl;break;case"beforeblur":case"afterblur":ci=tl;break;case"click":if(Z.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ci=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ci=Gs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ci=al;break;case dl:case Du:case $u:ci=Aa;break;case zu:ci=Hc;break;case"scroll":case"scrollend":ci=cu;break;case"wheel":ci=Qc;break;case"copy":case"cut":case"paste":ci=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ci=_u;break;case"toggle":case"beforetoggle":ci=Yc}var Pi=($&4)!==0,un=!Pi&&(I==="scroll"||I==="scrollend"),He=Pi?Je!==null?Je+"Capture":null:Je;Pi=[];for(var Ue=Ke,Xe;Ue!==null;){var _i=Ue;if(Xe=_i.stateNode,_i=_i.tag,_i!==5&&_i!==26&&_i!==27||Xe===null||He===null||(_i=Ma(Ue,He),_i!=null&&Pi.push(Ql(Ue,_i,Xe))),un)break;Ue=Ue.return}0<Pi.length&&(Je=new ci(Je,Di,null,Z,pi),yi.push({event:Je,listeners:Pi}))}}if(($&7)===0){t:{if(Je=I==="mouseover"||I==="pointerover",ci=I==="mouseout"||I==="pointerout",Je&&Z!==qo&&(Di=Z.relatedTarget||Z.fromElement)&&(Kn(Di)||Di[pn]))break t;if((ci||Je)&&(Je=pi.window===pi?pi:(Je=pi.ownerDocument)?Je.defaultView||Je.parentWindow:window,ci?(Di=Z.relatedTarget||Z.toElement,ci=Ke,Di=Di?Kn(Di):null,Di!==null&&(un=P(Di),Pi=Di.tag,Di!==un||Pi!==5&&Pi!==27&&Pi!==6)&&(Di=null)):(ci=null,Di=Ke),ci!==Di)){if(Pi=fu,_i="onMouseLeave",He="onMouseEnter",Ue="mouse",(I==="pointerout"||I==="pointerover")&&(Pi=_u,_i="onPointerLeave",He="onPointerEnter",Ue="pointer"),un=ci==null?Je:Na(ci),Xe=Di==null?Je:Na(Di),Je=new Pi(_i,Ue+"leave",ci,Z,pi),Je.target=un,Je.relatedTarget=Xe,_i=null,Kn(pi)===Ke&&(Pi=new Pi(He,Ue+"enter",Di,Z,pi),Pi.target=Xe,Pi.relatedTarget=un,_i=Pi),un=_i,ci&&Di)e:{for(Pi=i0,He=ci,Ue=Di,Xe=0,_i=He;_i;_i=Pi(_i))Xe++;_i=0;for(var Oi=Ue;Oi;Oi=Pi(Oi))_i++;for(;0<Xe-_i;)He=Pi(He),Xe--;for(;0<_i-Xe;)Ue=Pi(Ue),_i--;for(;Xe--;){if(He===Ue||Ue!==null&&He===Ue.alternate){Pi=He;break e}He=Pi(He),Ue=Pi(Ue)}Pi=null}else Pi=null;ci!==null&&jp(yi,Je,ci,Pi,!1),Di!==null&&un!==null&&jp(yi,un,Di,Pi,!0)}}t:{if(Je=Ke?Na(Ke):window,ci=Je.nodeName&&Je.nodeName.toLowerCase(),ci==="select"||ci==="input"&&Je.type==="file")var Xi=Eu;else if(wu(Je))if(Su)Xi=sf;else{Xi=af;var $i=nf}else ci=Je.nodeName,!ci||ci.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ke&&Ho(Ke.elementType)&&(Xi=Eu):Xi=rf;if(Xi&&(Xi=Xi(I,Ke))){xu(yi,Xi,Z,pi);break t}$i&&$i(I,Je,Ke),I==="focusout"&&Ke&&Je.type==="number"&&Ke.memoizedProps.value!=null&&gs(Je,"number",Je.value)}switch($i=Ke?Na(Ke):window,I){case"focusin":(wu($i)||$i.contentEditable==="true")&&(Pr=$i,fl=Ke,Ts=null);break;case"focusout":Ts=fl=Pr=null;break;case"mousedown":Zs=!0;break;case"contextmenu":case"mouseup":case"dragend":Zs=!1,Iu(yi,Z,pi);break;case"selectionchange":if(lf)break;case"keydown":case"keyup":Iu(yi,Z,pi)}var Li;if(rl)t:{switch(I){case"compositionstart":var Qi="onCompositionStart";break t;case"compositionend":Qi="onCompositionEnd";break t;case"compositionupdate":Qi="onCompositionUpdate";break t}Qi=void 0}else zr?sl(I,Z)&&(Qi="onCompositionEnd"):I==="keydown"&&Z.keyCode===229&&(Qi="onCompositionStart");Qi&&(gu&&Z.locale!=="ko"&&(zr||Qi!=="onCompositionStart"?Qi==="onCompositionEnd"&&zr&&(Li=lu()):(Ta=pi,Xo="value"in Ta?Ta.value:Ta.textContent,zr=!0)),$i=bc(Ke,Qi),0<$i.length&&(Qi=new mu(Qi,I,null,Z,pi),yi.push({event:Qi,listeners:$i}),Li?Qi.data=Li:(Li=vu(Z),Li!==null&&(Qi.data=Li)))),(Li=Xc?Kc(I,Z):Jc(I,Z))&&(Qi=bc(Ke,"onBeforeInput"),0<Qi.length&&($i=new mu("onBeforeInput","beforeinput",null,Z,pi),yi.push({event:$i,listeners:Qi}),$i.data=Li)),Km(yi,I,Ke,Z,pi)}Up(yi,$)})}function Ql(I,$,Z){return{instance:I,listener:$,currentTarget:Z}}function bc(I,$){for(var Z=$+"Capture",W=[];I!==null;){var st=I,ct=st.stateNode;if(st=st.tag,st!==5&&st!==26&&st!==27||ct===null||(st=Ma(I,Z),st!=null&&W.unshift(Ql(I,st,ct)),st=Ma(I,$),st!=null&&W.push(Ql(I,st,ct))),I.tag===3)return W;I=I.return}return[]}function i0(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5&&I.tag!==27);return I||null}function jp(I,$,Z,W,st){for(var ct=$._reactName,Ht=[];Z!==null&&Z!==W;){var me=Z,ze=me.alternate,Ke=me.stateNode;if(me=me.tag,ze!==null&&ze===W)break;me!==5&&me!==26&&me!==27||Ke===null||(ze=Ke,st?(Ke=Ma(Z,ct),Ke!=null&&Ht.unshift(Ql(Z,Ke,ze))):st||(Ke=Ma(Z,ct),Ke!=null&&Ht.push(Ql(Z,Ke,ze)))),Z=Z.return}Ht.length!==0&&I.push({event:$,listeners:Ht})}var n0=/\r\n?/g,a0=/\u0000|\uFFFD/g;function Zp(I){return(typeof I=="string"?I:""+I).replace(n0,`
`).replace(a0,"")}function Hp(I,$){return $=Zp($),Zp(I)===$}function ln(I,$,Z,W,st,ct){switch(Z){case"children":typeof W=="string"?$==="body"||$==="textarea"&&W===""||Xa(I,W):(typeof W=="number"||typeof W=="bigint")&&$!=="body"&&Xa(I,""+W);break;case"className":Os(I,"class",W);break;case"tabIndex":Os(I,"tabindex",W);break;case"dir":case"role":case"viewBox":case"width":case"height":Os(I,Z,W);break;case"style":Yi(I,W,ct);break;case"data":if($!=="object"){Os(I,"data",W);break}case"src":case"href":if(W===""&&($!=="a"||Z!=="href")){I.removeAttribute(Z);break}if(W==null||typeof W=="function"||typeof W=="symbol"||typeof W=="boolean"){I.removeAttribute(Z);break}W=Ns(""+W),I.setAttribute(Z,W);break;case"action":case"formAction":if(typeof W=="function"){I.setAttribute(Z,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ct=="function"&&(Z==="formAction"?($!=="input"&&ln(I,$,"name",st.name,st,null),ln(I,$,"formEncType",st.formEncType,st,null),ln(I,$,"formMethod",st.formMethod,st,null),ln(I,$,"formTarget",st.formTarget,st,null)):(ln(I,$,"encType",st.encType,st,null),ln(I,$,"method",st.method,st,null),ln(I,$,"target",st.target,st,null)));if(W==null||typeof W=="symbol"||typeof W=="boolean"){I.removeAttribute(Z);break}W=Ns(""+W),I.setAttribute(Z,W);break;case"onClick":W!=null&&(I.onclick=Sn);break;case"onScroll":W!=null&&Hi("scroll",I);break;case"onScrollEnd":W!=null&&Hi("scrollend",I);break;case"dangerouslySetInnerHTML":if(W!=null){if(typeof W!="object"||!("__html"in W))throw Error(w(61));if(Z=W.__html,Z!=null){if(st.children!=null)throw Error(w(60));I.innerHTML=Z}}break;case"multiple":I.multiple=W&&typeof W!="function"&&typeof W!="symbol";break;case"muted":I.muted=W&&typeof W!="function"&&typeof W!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(W==null||typeof W=="function"||typeof W=="boolean"||typeof W=="symbol"){I.removeAttribute("xlink:href");break}Z=Ns(""+W),I.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Z);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":W!=null&&typeof W!="function"&&typeof W!="symbol"?I.setAttribute(Z,""+W):I.removeAttribute(Z);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":W&&typeof W!="function"&&typeof W!="symbol"?I.setAttribute(Z,""):I.removeAttribute(Z);break;case"capture":case"download":W===!0?I.setAttribute(Z,""):W!==!1&&W!=null&&typeof W!="function"&&typeof W!="symbol"?I.setAttribute(Z,W):I.removeAttribute(Z);break;case"cols":case"rows":case"size":case"span":W!=null&&typeof W!="function"&&typeof W!="symbol"&&!isNaN(W)&&1<=W?I.setAttribute(Z,W):I.removeAttribute(Z);break;case"rowSpan":case"start":W==null||typeof W=="function"||typeof W=="symbol"||isNaN(W)?I.removeAttribute(Z):I.setAttribute(Z,W);break;case"popover":Hi("beforetoggle",I),Hi("toggle",I),zs(I,"popover",W);break;case"xlinkActuate":Ea(I,"http://www.w3.org/1999/xlink","xlink:actuate",W);break;case"xlinkArcrole":Ea(I,"http://www.w3.org/1999/xlink","xlink:arcrole",W);break;case"xlinkRole":Ea(I,"http://www.w3.org/1999/xlink","xlink:role",W);break;case"xlinkShow":Ea(I,"http://www.w3.org/1999/xlink","xlink:show",W);break;case"xlinkTitle":Ea(I,"http://www.w3.org/1999/xlink","xlink:title",W);break;case"xlinkType":Ea(I,"http://www.w3.org/1999/xlink","xlink:type",W);break;case"xmlBase":Ea(I,"http://www.w3.org/XML/1998/namespace","xml:base",W);break;case"xmlLang":Ea(I,"http://www.w3.org/XML/1998/namespace","xml:lang",W);break;case"xmlSpace":Ea(I,"http://www.w3.org/XML/1998/namespace","xml:space",W);break;case"is":zs(I,"is",W);break;case"innerText":case"textContent":break;default:(!(2<Z.length)||Z[0]!=="o"&&Z[0]!=="O"||Z[1]!=="n"&&Z[1]!=="N")&&(Z=ua.get(Z)||Z,zs(I,Z,W))}}function wh(I,$,Z,W,st,ct){switch(Z){case"style":Yi(I,W,ct);break;case"dangerouslySetInnerHTML":if(W!=null){if(typeof W!="object"||!("__html"in W))throw Error(w(61));if(Z=W.__html,Z!=null){if(st.children!=null)throw Error(w(60));I.innerHTML=Z}}break;case"children":typeof W=="string"?Xa(I,W):(typeof W=="number"||typeof W=="bigint")&&Xa(I,""+W);break;case"onScroll":W!=null&&Hi("scroll",I);break;case"onScrollEnd":W!=null&&Hi("scrollend",I);break;case"onClick":W!=null&&(I.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iu.hasOwnProperty(Z))t:{if(Z[0]==="o"&&Z[1]==="n"&&(st=Z.endsWith("Capture"),$=Z.slice(2,st?Z.length-7:void 0),ct=I[Yt]||null,ct=ct!=null?ct[Z]:null,typeof ct=="function"&&I.removeEventListener($,ct,st),typeof W=="function")){typeof ct!="function"&&ct!==null&&(Z in I?I[Z]=null:I.hasAttribute(Z)&&I.removeAttribute(Z)),I.addEventListener($,W,st);break t}Z in I?I[Z]=W:W===!0?I.setAttribute(Z,""):zs(I,Z,W)}}}function jn(I,$,Z){switch($){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hi("error",I),Hi("load",I);var W=!1,st=!1,ct;for(ct in Z)if(Z.hasOwnProperty(ct)){var Ht=Z[ct];if(Ht!=null)switch(ct){case"src":W=!0;break;case"srcSet":st=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,$));default:ln(I,$,ct,Ht,Z,null)}}st&&ln(I,$,"srcSet",Z.srcSet,Z,null),W&&ln(I,$,"src",Z.src,Z,null);return;case"input":Hi("invalid",I);var me=ct=Ht=st=null,ze=null,Ke=null;for(W in Z)if(Z.hasOwnProperty(W)){var pi=Z[W];if(pi!=null)switch(W){case"name":st=pi;break;case"type":Ht=pi;break;case"checked":ze=pi;break;case"defaultChecked":Ke=pi;break;case"value":ct=pi;break;case"defaultValue":me=pi;break;case"children":case"dangerouslySetInnerHTML":if(pi!=null)throw Error(w(137,$));break;default:ln(I,$,W,pi,Z,null)}}_s(I,ct,me,ze,Ke,Ht,st,!1);return;case"select":Hi("invalid",I),W=Ht=ct=null;for(st in Z)if(Z.hasOwnProperty(st)&&(me=Z[st],me!=null))switch(st){case"value":ct=me;break;case"defaultValue":Ht=me;break;case"multiple":W=me;default:ln(I,$,st,me,Z,null)}$=ct,Z=Ht,I.multiple=!!W,$!=null?Dr(I,!!W,$,!1):Z!=null&&Dr(I,!!W,Z,!0);return;case"textarea":Hi("invalid",I),ct=st=W=null;for(Ht in Z)if(Z.hasOwnProperty(Ht)&&(me=Z[Ht],me!=null))switch(Ht){case"value":W=me;break;case"defaultValue":st=me;break;case"children":ct=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(w(91));break;default:ln(I,$,Ht,me,Z,null)}su(I,W,st,ct);return;case"option":for(ze in Z)if(Z.hasOwnProperty(ze)&&(W=Z[ze],W!=null))switch(ze){case"selected":I.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ln(I,$,ze,W,Z,null)}return;case"dialog":Hi("beforetoggle",I),Hi("toggle",I),Hi("cancel",I),Hi("close",I);break;case"iframe":case"object":Hi("load",I);break;case"video":case"audio":for(W=0;W<ql.length;W++)Hi(ql[W],I);break;case"image":Hi("error",I),Hi("load",I);break;case"details":Hi("toggle",I);break;case"embed":case"source":case"link":Hi("error",I),Hi("load",I);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in Z)if(Z.hasOwnProperty(Ke)&&(W=Z[Ke],W!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,$));default:ln(I,$,Ke,W,Z,null)}return;default:if(Ho($)){for(pi in Z)Z.hasOwnProperty(pi)&&(W=Z[pi],W!==void 0&&wh(I,$,pi,W,Z,void 0));return}}for(me in Z)Z.hasOwnProperty(me)&&(W=Z[me],W!=null&&ln(I,$,me,W,Z,null))}function r0(I,$,Z,W){switch($){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var st=null,ct=null,Ht=null,me=null,ze=null,Ke=null,pi=null;for(ci in Z){var yi=Z[ci];if(Z.hasOwnProperty(ci)&&yi!=null)switch(ci){case"checked":break;case"value":break;case"defaultValue":ze=yi;default:W.hasOwnProperty(ci)||ln(I,$,ci,null,W,yi)}}for(var Je in W){var ci=W[Je];if(yi=Z[Je],W.hasOwnProperty(Je)&&(ci!=null||yi!=null))switch(Je){case"type":ct=ci;break;case"name":st=ci;break;case"checked":Ke=ci;break;case"defaultChecked":pi=ci;break;case"value":Ht=ci;break;case"defaultValue":me=ci;break;case"children":case"dangerouslySetInnerHTML":if(ci!=null)throw Error(w(137,$));break;default:ci!==yi&&ln(I,$,Je,ci,W,yi)}}Zo(I,Ht,me,ze,Ke,pi,ct,st);return;case"select":ci=Ht=me=Je=null;for(ct in Z)if(ze=Z[ct],Z.hasOwnProperty(ct)&&ze!=null)switch(ct){case"value":break;case"multiple":ci=ze;default:W.hasOwnProperty(ct)||ln(I,$,ct,null,W,ze)}for(st in W)if(ct=W[st],ze=Z[st],W.hasOwnProperty(st)&&(ct!=null||ze!=null))switch(st){case"value":Je=ct;break;case"defaultValue":me=ct;break;case"multiple":Ht=ct;default:ct!==ze&&ln(I,$,st,ct,W,ze)}$=me,Z=Ht,W=ci,Je!=null?Dr(I,!!Z,Je,!1):!!W!=!!Z&&($!=null?Dr(I,!!Z,$,!0):Dr(I,!!Z,Z?[]:"",!1));return;case"textarea":ci=Je=null;for(me in Z)if(st=Z[me],Z.hasOwnProperty(me)&&st!=null&&!W.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:ln(I,$,me,null,W,st)}for(Ht in W)if(st=W[Ht],ct=Z[Ht],W.hasOwnProperty(Ht)&&(st!=null||ct!=null))switch(Ht){case"value":Je=st;break;case"defaultValue":ci=st;break;case"children":break;case"dangerouslySetInnerHTML":if(st!=null)throw Error(w(91));break;default:st!==ct&&ln(I,$,Ht,st,W,ct)}ys(I,Je,ci);return;case"option":for(var Di in Z)if(Je=Z[Di],Z.hasOwnProperty(Di)&&Je!=null&&!W.hasOwnProperty(Di))switch(Di){case"selected":I.selected=!1;break;default:ln(I,$,Di,null,W,Je)}for(ze in W)if(Je=W[ze],ci=Z[ze],W.hasOwnProperty(ze)&&Je!==ci&&(Je!=null||ci!=null))switch(ze){case"selected":I.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:ln(I,$,ze,Je,W,ci)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pi in Z)Je=Z[Pi],Z.hasOwnProperty(Pi)&&Je!=null&&!W.hasOwnProperty(Pi)&&ln(I,$,Pi,null,W,Je);for(Ke in W)if(Je=W[Ke],ci=Z[Ke],W.hasOwnProperty(Ke)&&Je!==ci&&(Je!=null||ci!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(w(137,$));break;default:ln(I,$,Ke,Je,W,ci)}return;default:if(Ho($)){for(var un in Z)Je=Z[un],Z.hasOwnProperty(un)&&Je!==void 0&&!W.hasOwnProperty(un)&&wh(I,$,un,void 0,W,Je);for(pi in W)Je=W[pi],ci=Z[pi],!W.hasOwnProperty(pi)||Je===ci||Je===void 0&&ci===void 0||wh(I,$,pi,Je,W,ci);return}}for(var He in Z)Je=Z[He],Z.hasOwnProperty(He)&&Je!=null&&!W.hasOwnProperty(He)&&ln(I,$,He,null,W,Je);for(yi in W)Je=W[yi],ci=Z[yi],!W.hasOwnProperty(yi)||Je===ci||Je==null&&ci==null||ln(I,$,yi,Je,W,ci)}function qp(I){switch(I){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s0(){if(typeof performance.getEntriesByType=="function"){for(var I=0,$=0,Z=performance.getEntriesByType("resource"),W=0;W<Z.length;W++){var st=Z[W],ct=st.transferSize,Ht=st.initiatorType,me=st.duration;if(ct&&me&&qp(Ht)){for(Ht=0,me=st.responseEnd,W+=1;W<Z.length;W++){var ze=Z[W],Ke=ze.startTime;if(Ke>me)break;var pi=ze.transferSize,yi=ze.initiatorType;pi&&qp(yi)&&(ze=ze.responseEnd,Ht+=pi*(ze<me?1:(me-Ke)/(ze-Ke)))}if(--W,$+=8*(ct+Ht)/(st.duration/1e3),I++,10<I)break}}if(0<I)return $/I/1e6}return navigator.connection&&(I=navigator.connection.downlink,typeof I=="number")?I:5}var xh=null,Eh=null;function vc(I){return I.nodeType===9?I:I.ownerDocument}function Qp(I){switch(I){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(I,$){if(I===0)switch($){case"svg":return 1;case"math":return 2;default:return 0}return I===1&&$==="foreignObject"?0:I}function Sh(I,$){return I==="textarea"||I==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.children=="bigint"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Mh=null;function o0(){var I=window.event;return I&&I.type==="popstate"?I===Mh?!1:(Mh=I,!0):(Mh=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,u0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(I){return Vp.resolve(null).then(I).catch(c0)}:Yp;function c0(I){setTimeout(function(){throw I})}function ls(I){return I==="head"}function Xp(I,$){var Z=$,W=0;do{var st=Z.nextSibling;if(I.removeChild(Z),st&&st.nodeType===8)if(Z=st.data,Z==="/$"||Z==="/&"){if(W===0){I.removeChild(st),jo($);return}W--}else if(Z==="$"||Z==="$?"||Z==="$~"||Z==="$!"||Z==="&")W++;else if(Z==="html")Wl(I.ownerDocument.documentElement);else if(Z==="head"){Z=I.ownerDocument.head,Wl(Z);for(var ct=Z.firstChild;ct;){var Ht=ct.nextSibling,me=ct.nodeName;ct[Pa]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&ct.rel.toLowerCase()==="stylesheet"||Z.removeChild(ct),ct=Ht}}else Z==="body"&&Wl(I.ownerDocument.body);Z=st}while(Z);jo($)}function Kp(I,$){var Z=I;I=0;do{var W=Z.nextSibling;if(Z.nodeType===1?$?(Z._stashedDisplay=Z.style.display,Z.style.display="none"):(Z.style.display=Z._stashedDisplay||"",Z.getAttribute("style")===""&&Z.removeAttribute("style")):Z.nodeType===3&&($?(Z._stashedText=Z.nodeValue,Z.nodeValue=""):Z.nodeValue=Z._stashedText||""),W&&W.nodeType===8)if(Z=W.data,Z==="/$"){if(I===0)break;I--}else Z!=="$"&&Z!=="$?"&&Z!=="$~"&&Z!=="$!"||I++;Z=W}while(Z)}function kh(I){var $=I.firstChild;for($&&$.nodeType===10&&($=$.nextSibling);$;){var Z=$;switch($=$.nextSibling,Z.nodeName){case"HTML":case"HEAD":case"BODY":kh(Z),Cr(Z);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Z.rel.toLowerCase()==="stylesheet")continue}I.removeChild(Z)}}function f0(I,$,Z,W){for(;I.nodeType===1;){var st=Z;if(I.nodeName.toLowerCase()!==$.toLowerCase()){if(!W&&(I.nodeName!=="INPUT"||I.type!=="hidden"))break}else if(W){if(!I[Pa])switch($){case"meta":if(!I.hasAttribute("itemprop"))break;return I;case"link":if(ct=I.getAttribute("rel"),ct==="stylesheet"&&I.hasAttribute("data-precedence"))break;if(ct!==st.rel||I.getAttribute("href")!==(st.href==null||st.href===""?null:st.href)||I.getAttribute("crossorigin")!==(st.crossOrigin==null?null:st.crossOrigin)||I.getAttribute("title")!==(st.title==null?null:st.title))break;return I;case"style":if(I.hasAttribute("data-precedence"))break;return I;case"script":if(ct=I.getAttribute("src"),(ct!==(st.src==null?null:st.src)||I.getAttribute("type")!==(st.type==null?null:st.type)||I.getAttribute("crossorigin")!==(st.crossOrigin==null?null:st.crossOrigin))&&ct&&I.hasAttribute("async")&&!I.hasAttribute("itemprop"))break;return I;default:return I}}else if($==="input"&&I.type==="hidden"){var ct=st.name==null?null:""+st.name;if(st.type==="hidden"&&I.getAttribute("name")===ct)return I}else return I;if(I=va(I.nextSibling),I===null)break}return null}function h0(I,$,Z){if($==="")return null;for(;I.nodeType!==3;)if((I.nodeType!==1||I.nodeName!=="INPUT"||I.type!=="hidden")&&!Z||(I=va(I.nextSibling),I===null))return null;return I}function Jp(I,$){for(;I.nodeType!==8;)if((I.nodeType!==1||I.nodeName!=="INPUT"||I.type!=="hidden")&&!$||(I=va(I.nextSibling),I===null))return null;return I}function Th(I){return I.data==="$?"||I.data==="$~"}function Ah(I){return I.data==="$!"||I.data==="$?"&&I.ownerDocument.readyState!=="loading"}function d0(I,$){var Z=I.ownerDocument;if(I.data==="$~")I._reactRetry=$;else if(I.data!=="$?"||Z.readyState!=="loading")$();else{var W=function(){$(),Z.removeEventListener("DOMContentLoaded",W)};Z.addEventListener("DOMContentLoaded",W),I._reactRetry=W}}function va(I){for(;I!=null;I=I.nextSibling){var $=I.nodeType;if($===1||$===3)break;if($===8){if($=I.data,$==="$"||$==="$!"||$==="$?"||$==="$~"||$==="&"||$==="F!"||$==="F")break;if($==="/$"||$==="/&")return null}}return I}var Ch=null;function tm(I){I=I.nextSibling;for(var $=0;I;){if(I.nodeType===8){var Z=I.data;if(Z==="/$"||Z==="/&"){if($===0)return va(I.nextSibling);$--}else Z!=="$"&&Z!=="$!"&&Z!=="$?"&&Z!=="$~"&&Z!=="&"||$++}I=I.nextSibling}return null}function em(I){I=I.previousSibling;for(var $=0;I;){if(I.nodeType===8){var Z=I.data;if(Z==="$"||Z==="$!"||Z==="$?"||Z==="$~"||Z==="&"){if($===0)return I;$--}else Z!=="/$"&&Z!=="/&"||$++}I=I.previousSibling}return null}function im(I,$,Z){switch($=vc(Z),I){case"html":if(I=$.documentElement,!I)throw Error(w(452));return I;case"head":if(I=$.head,!I)throw Error(w(453));return I;case"body":if(I=$.body,!I)throw Error(w(454));return I;default:throw Error(w(451))}}function Wl(I){for(var $=I.attributes;$.length;)I.removeAttributeNode($[0]);Cr(I)}var wa=new Map,nm=new Set;function wc(I){return typeof I.getRootNode=="function"?I.getRootNode():I.nodeType===9?I:I.ownerDocument}var Ar=Jt.d;Jt.d={f:p0,r:m0,D:_0,C:g0,L:y0,m:b0,X:w0,S:v0,M:x0};function p0(){var I=Ar.f(),$=hc();return I||$}function m0(I){var $=Zn(I);$!==null&&$.tag===5&&$.type==="form"?vd($):Ar.r(I)}var Fo=typeof document>"u"?null:document;function am(I,$,Z){var W=Fo;if(W&&typeof $=="string"&&$){var st=Nn($);st='link[rel="'+I+'"][href="'+st+'"]',typeof Z=="string"&&(st+='[crossorigin="'+Z+'"]'),nm.has(st)||(nm.add(st),I={rel:I,crossOrigin:Z,href:$},W.querySelector(st)===null&&($=W.createElement("link"),jn($,"link",I),en($),W.head.appendChild($)))}}function _0(I){Ar.D(I),am("dns-prefetch",I,null)}function g0(I,$){Ar.C(I,$),am("preconnect",I,$)}function y0(I,$,Z){Ar.L(I,$,Z);var W=Fo;if(W&&I&&$){var st='link[rel="preload"][as="'+Nn($)+'"]';$==="image"&&Z&&Z.imageSrcSet?(st+='[imagesrcset="'+Nn(Z.imageSrcSet)+'"]',typeof Z.imageSizes=="string"&&(st+='[imagesizes="'+Nn(Z.imageSizes)+'"]')):st+='[href="'+Nn(I)+'"]';var ct=st;switch($){case"style":ct=Lo(I);break;case"script":ct=Go(I)}wa.has(ct)||(I=V({rel:"preload",href:$==="image"&&Z&&Z.imageSrcSet?void 0:I,as:$},Z),wa.set(ct,I),W.querySelector(st)!==null||$==="style"&&W.querySelector(Yl(ct))||$==="script"&&W.querySelector(Vl(ct))||($=W.createElement("link"),jn($,"link",I),en($),W.head.appendChild($)))}}function b0(I,$){Ar.m(I,$);var Z=Fo;if(Z&&I){var W=$&&typeof $.as=="string"?$.as:"script",st='link[rel="modulepreload"][as="'+Nn(W)+'"][href="'+Nn(I)+'"]',ct=st;switch(W){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ct=Go(I)}if(!wa.has(ct)&&(I=V({rel:"modulepreload",href:I},$),wa.set(ct,I),Z.querySelector(st)===null)){switch(W){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Z.querySelector(Vl(ct)))return}W=Z.createElement("link"),jn(W,"link",I),en(W),Z.head.appendChild(W)}}}function v0(I,$,Z){Ar.S(I,$,Z);var W=Fo;if(W&&I){var st=xa(W).hoistableStyles,ct=Lo(I);$=$||"default";var Ht=st.get(ct);if(!Ht){var me={loading:0,preload:null};if(Ht=W.querySelector(Yl(ct)))me.loading=5;else{I=V({rel:"stylesheet",href:I,"data-precedence":$},Z),(Z=wa.get(ct))&&Ih(I,Z);var ze=Ht=W.createElement("link");en(ze),jn(ze,"link",I),ze._p=new Promise(function(Ke,pi){ze.onload=Ke,ze.onerror=pi}),ze.addEventListener("load",function(){me.loading|=1}),ze.addEventListener("error",function(){me.loading|=2}),me.loading|=4,xc(Ht,$,W)}Ht={type:"stylesheet",instance:Ht,count:1,state:me},st.set(ct,Ht)}}}function w0(I,$){Ar.X(I,$);var Z=Fo;if(Z&&I){var W=xa(Z).hoistableScripts,st=Go(I),ct=W.get(st);ct||(ct=Z.querySelector(Vl(st)),ct||(I=V({src:I,async:!0},$),($=wa.get(st))&&Rh(I,$),ct=Z.createElement("script"),en(ct),jn(ct,"link",I),Z.head.appendChild(ct)),ct={type:"script",instance:ct,count:1,state:null},W.set(st,ct))}}function x0(I,$){Ar.M(I,$);var Z=Fo;if(Z&&I){var W=xa(Z).hoistableScripts,st=Go(I),ct=W.get(st);ct||(ct=Z.querySelector(Vl(st)),ct||(I=V({src:I,async:!0,type:"module"},$),($=wa.get(st))&&Rh(I,$),ct=Z.createElement("script"),en(ct),jn(ct,"link",I),Z.head.appendChild(ct)),ct={type:"script",instance:ct,count:1,state:null},W.set(st,ct))}}function rm(I,$,Z,W){var st=(st=ne.current)?wc(st):null;if(!st)throw Error(w(446));switch(I){case"meta":case"title":return null;case"style":return typeof Z.precedence=="string"&&typeof Z.href=="string"?($=Lo(Z.href),Z=xa(st).hoistableStyles,W=Z.get($),W||(W={type:"style",instance:null,count:0,state:null},Z.set($,W)),W):{type:"void",instance:null,count:0,state:null};case"link":if(Z.rel==="stylesheet"&&typeof Z.href=="string"&&typeof Z.precedence=="string"){I=Lo(Z.href);var ct=xa(st).hoistableStyles,Ht=ct.get(I);if(Ht||(st=st.ownerDocument||st,Ht={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ct.set(I,Ht),(ct=st.querySelector(Yl(I)))&&!ct._p&&(Ht.instance=ct,Ht.state.loading=5),wa.has(I)||(Z={rel:"preload",as:"style",href:Z.href,crossOrigin:Z.crossOrigin,integrity:Z.integrity,media:Z.media,hrefLang:Z.hrefLang,referrerPolicy:Z.referrerPolicy},wa.set(I,Z),ct||E0(st,I,Z,Ht.state))),$&&W===null)throw Error(w(528,""));return Ht}if($&&W!==null)throw Error(w(529,""));return null;case"script":return $=Z.async,Z=Z.src,typeof Z=="string"&&$&&typeof $!="function"&&typeof $!="symbol"?($=Go(Z),Z=xa(st).hoistableScripts,W=Z.get($),W||(W={type:"script",instance:null,count:0,state:null},Z.set($,W)),W):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,I))}}function Lo(I){return'href="'+Nn(I)+'"'}function Yl(I){return'link[rel="stylesheet"]['+I+"]"}function sm(I){return V({},I,{"data-precedence":I.precedence,precedence:null})}function E0(I,$,Z,W){I.querySelector('link[rel="preload"][as="style"]['+$+"]")?W.loading=1:($=I.createElement("link"),W.preload=$,$.addEventListener("load",function(){return W.loading|=1}),$.addEventListener("error",function(){return W.loading|=2}),jn($,"link",Z),en($),I.head.appendChild($))}function Go(I){return'[src="'+Nn(I)+'"]'}function Vl(I){return"script[async]"+I}function om(I,$,Z){if($.count++,$.instance===null)switch($.type){case"style":var W=I.querySelector('style[data-href~="'+Nn(Z.href)+'"]');if(W)return $.instance=W,en(W),W;var st=V({},Z,{"data-href":Z.href,"data-precedence":Z.precedence,href:null,precedence:null});return W=(I.ownerDocument||I).createElement("style"),en(W),jn(W,"style",st),xc(W,Z.precedence,I),$.instance=W;case"stylesheet":st=Lo(Z.href);var ct=I.querySelector(Yl(st));if(ct)return $.state.loading|=4,$.instance=ct,en(ct),ct;W=sm(Z),(st=wa.get(st))&&Ih(W,st),ct=(I.ownerDocument||I).createElement("link"),en(ct);var Ht=ct;return Ht._p=new Promise(function(me,ze){Ht.onload=me,Ht.onerror=ze}),jn(ct,"link",W),$.state.loading|=4,xc(ct,Z.precedence,I),$.instance=ct;case"script":return ct=Go(Z.src),(st=I.querySelector(Vl(ct)))?($.instance=st,en(st),st):(W=Z,(st=wa.get(ct))&&(W=V({},Z),Rh(W,st)),I=I.ownerDocument||I,st=I.createElement("script"),en(st),jn(st,"link",W),I.head.appendChild(st),$.instance=st);case"void":return null;default:throw Error(w(443,$.type))}else $.type==="stylesheet"&&($.state.loading&4)===0&&(W=$.instance,$.state.loading|=4,xc(W,Z.precedence,I));return $.instance}function xc(I,$,Z){for(var W=Z.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),st=W.length?W[W.length-1]:null,ct=st,Ht=0;Ht<W.length;Ht++){var me=W[Ht];if(me.dataset.precedence===$)ct=me;else if(ct!==st)break}ct?ct.parentNode.insertBefore(I,ct.nextSibling):($=Z.nodeType===9?Z.head:Z,$.insertBefore(I,$.firstChild))}function Ih(I,$){I.crossOrigin==null&&(I.crossOrigin=$.crossOrigin),I.referrerPolicy==null&&(I.referrerPolicy=$.referrerPolicy),I.title==null&&(I.title=$.title)}function Rh(I,$){I.crossOrigin==null&&(I.crossOrigin=$.crossOrigin),I.referrerPolicy==null&&(I.referrerPolicy=$.referrerPolicy),I.integrity==null&&(I.integrity=$.integrity)}var Ec=null;function lm(I,$,Z){if(Ec===null){var W=new Map,st=Ec=new Map;st.set(Z,W)}else st=Ec,W=st.get(Z),W||(W=new Map,st.set(Z,W));if(W.has(I))return W;for(W.set(I,null),Z=Z.getElementsByTagName(I),st=0;st<Z.length;st++){var ct=Z[st];if(!(ct[Pa]||ct[Ui]||I==="link"&&ct.getAttribute("rel")==="stylesheet")&&ct.namespaceURI!=="http://www.w3.org/2000/svg"){var Ht=ct.getAttribute($)||"";Ht=I+Ht;var me=W.get(Ht);me?me.push(ct):W.set(Ht,[ct])}}return W}function um(I,$,Z){I=I.ownerDocument||I,I.head.insertBefore(Z,$==="title"?I.querySelector("head > title"):null)}function S0(I,$,Z){if(Z===1||$.itemProp!=null)return!1;switch(I){case"meta":case"title":return!0;case"style":if(typeof $.precedence!="string"||typeof $.href!="string"||$.href==="")break;return!0;case"link":if(typeof $.rel!="string"||typeof $.href!="string"||$.href===""||$.onLoad||$.onError)break;switch($.rel){case"stylesheet":return I=$.disabled,typeof $.precedence=="string"&&I==null;default:return!0}case"script":if($.async&&typeof $.async!="function"&&typeof $.async!="symbol"&&!$.onLoad&&!$.onError&&$.src&&typeof $.src=="string")return!0}return!1}function cm(I){return!(I.type==="stylesheet"&&(I.state.loading&3)===0)}function M0(I,$,Z,W){if(Z.type==="stylesheet"&&(typeof W.media!="string"||matchMedia(W.media).matches!==!1)&&(Z.state.loading&4)===0){if(Z.instance===null){var st=Lo(W.href),ct=$.querySelector(Yl(st));if(ct){$=ct._p,$!==null&&typeof $=="object"&&typeof $.then=="function"&&(I.count++,I=Sc.bind(I),$.then(I,I)),Z.state.loading|=4,Z.instance=ct,en(ct);return}ct=$.ownerDocument||$,W=sm(W),(st=wa.get(st))&&Ih(W,st),ct=ct.createElement("link"),en(ct);var Ht=ct;Ht._p=new Promise(function(me,ze){Ht.onload=me,Ht.onerror=ze}),jn(ct,"link",W),Z.instance=ct}I.stylesheets===null&&(I.stylesheets=new Map),I.stylesheets.set(Z,$),($=Z.state.preload)&&(Z.state.loading&3)===0&&(I.count++,Z=Sc.bind(I),$.addEventListener("load",Z),$.addEventListener("error",Z))}}var Dh=0;function k0(I,$){return I.stylesheets&&I.count===0&&kc(I,I.stylesheets),0<I.count||0<I.imgCount?function(Z){var W=setTimeout(function(){if(I.stylesheets&&kc(I,I.stylesheets),I.unsuspend){var ct=I.unsuspend;I.unsuspend=null,ct()}},6e4+$);0<I.imgBytes&&Dh===0&&(Dh=62500*s0());var st=setTimeout(function(){if(I.waitingForImages=!1,I.count===0&&(I.stylesheets&&kc(I,I.stylesheets),I.unsuspend)){var ct=I.unsuspend;I.unsuspend=null,ct()}},(I.imgBytes>Dh?50:800)+$);return I.unsuspend=Z,function(){I.unsuspend=null,clearTimeout(W),clearTimeout(st)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var I=this.unsuspend;this.unsuspend=null,I()}}}var Mc=null;function kc(I,$){I.stylesheets=null,I.unsuspend!==null&&(I.count++,Mc=new Map,$.forEach(T0,I),Mc=null,Sc.call(I))}function T0(I,$){if(!($.state.loading&4)){var Z=Mc.get(I);if(Z)var W=Z.get(null);else{Z=new Map,Mc.set(I,Z);for(var st=I.querySelectorAll("link[data-precedence],style[data-precedence]"),ct=0;ct<st.length;ct++){var Ht=st[ct];(Ht.nodeName==="LINK"||Ht.getAttribute("media")!=="not all")&&(Z.set(Ht.dataset.precedence,Ht),W=Ht)}W&&Z.set(null,W)}st=$.instance,Ht=st.getAttribute("data-precedence"),ct=Z.get(Ht)||W,ct===W&&Z.set(null,st),Z.set(Ht,st),this.count++,W=Sc.bind(this),st.addEventListener("load",W),st.addEventListener("error",W),ct?ct.parentNode.insertBefore(st,ct.nextSibling):(I=I.nodeType===9?I.head:I,I.insertBefore(st,I.firstChild)),$.state.loading|=4}}var Xl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:Kt,_currentValue2:Kt,_threadCount:0};function A0(I,$,Z,W,st,ct,Ht,me,ze){this.tag=1,this.containerInfo=I,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=W,this.onUncaughtError=st,this.onCaughtError=ct,this.onRecoverableError=Ht,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ze,this.incompleteTransitions=new Map}function fm(I,$,Z,W,st,ct,Ht,me,ze,Ke,pi,yi){return I=new A0(I,$,Z,Ht,ze,Ke,pi,yi,me),$=1,ct===!0&&($|=24),ct=Yn(3,null,null,$),I.current=ct,ct.stateNode=I,$=kl(),$.refCount++,I.pooledCache=$,$.refCount++,ct.memoizedState={element:W,isDehydrated:Z,cache:$},mf(ct),I}function hm(I){return I?(I=hr,I):hr}function dm(I,$,Z,W,st,ct){st=hm(st),W.context===null?W.context=st:W.pendingContext=st,W=Yr($),W.payload={element:Z},ct=ct===void 0?null:ct,ct!==null&&(W.callback=ct),Z=Vr(I,W,$),Z!==null&&(la(Z,I,$),Cl(Z,I,$))}function pm(I,$){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var Z=I.retryLane;I.retryLane=Z!==0&&Z<$?Z:$}}function $h(I,$){pm(I,$),(I=I.alternate)&&pm(I,$)}function mm(I){if(I.tag===13||I.tag===31){var $=fr(I,67108864);$!==null&&la($,I,67108864),$h(I,67108864)}}function _m(I){if(I.tag===13||I.tag===31){var $=ma();$=dn($);var Z=fr(I,$);Z!==null&&la(Z,I,$),$h(I,$)}}var Tc=!0;function C0(I,$,Z,W){var st=Ct.T;Ct.T=null;var ct=Jt.p;try{Jt.p=2,Bh(I,$,Z,W)}finally{Jt.p=ct,Ct.T=st}}function I0(I,$,Z,W){var st=Ct.T;Ct.T=null;var ct=Jt.p;try{Jt.p=8,Bh(I,$,Z,W)}finally{Jt.p=ct,Ct.T=st}}function Bh(I,$,Z,W){if(Tc){var st=zh(W);if(st===null)vh(I,$,W,Ac,Z),ym(I,W);else if(D0(st,I,$,Z,W))W.stopPropagation();else if(ym(I,W),$&4&&-1<R0.indexOf(I)){for(;st!==null;){var ct=Zn(st);if(ct!==null)switch(ct.tag){case 3:if(ct=ct.stateNode,ct.current.memoizedState.isDehydrated){var Ht=Oe(ct.pendingLanes);if(Ht!==0){var me=ct;for(me.pendingLanes|=2,me.entangledLanes|=2;Ht;){var ze=1<<31-Ce(Ht);me.entanglements[1]|=ze,Ht&=~ze}Wa(ct),(Ji&6)===0&&(cc=oi()+500,Hl(0))}}break;case 31:case 13:me=fr(ct,2),me!==null&&la(me,ct,2),hc(),$h(ct,2)}if(ct=zh(W),ct===null&&vh(I,$,W,Ac,Z),ct===st)break;st=ct}st!==null&&W.stopPropagation()}else vh(I,$,W,null,Z)}}function zh(I){return I=Qo(I),Oh(I)}var Ac=null;function Oh(I){if(Ac=null,I=Kn(I),I!==null){var $=P(I);if($===null)I=null;else{var Z=$.tag;if(Z===13){if(I=F($),I!==null)return I;I=null}else if(Z===31){if(I=U($),I!==null)return I;I=null}else if(Z===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;I=null}else $!==I&&(I=null)}}return Ac=I,null}function gm(I){switch(I){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case li:return 2;case gi:return 8;case We:case Ii:return 32;case Si:return 268435456;default:return 32}default:return 32}}var Ph=!1,us=null,cs=null,fs=null,Kl=new Map,Jl=new Map,hs=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(I,$){switch(I){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Kl.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete($.pointerId)}}function tu(I,$,Z,W,st,ct){return I===null||I.nativeEvent!==ct?(I={blockedOn:$,domEventName:Z,eventSystemFlags:W,nativeEvent:ct,targetContainers:[st]},$!==null&&($=Zn($),$!==null&&mm($)),I):(I.eventSystemFlags|=W,$=I.targetContainers,st!==null&&$.indexOf(st)===-1&&$.push(st),I)}function D0(I,$,Z,W,st){switch($){case"focusin":return us=tu(us,I,$,Z,W,st),!0;case"dragenter":return cs=tu(cs,I,$,Z,W,st),!0;case"mouseover":return fs=tu(fs,I,$,Z,W,st),!0;case"pointerover":var ct=st.pointerId;return Kl.set(ct,tu(Kl.get(ct)||null,I,$,Z,W,st)),!0;case"gotpointercapture":return ct=st.pointerId,Jl.set(ct,tu(Jl.get(ct)||null,I,$,Z,W,st)),!0}return!1}function bm(I){var $=Kn(I.target);if($!==null){var Z=P($);if(Z!==null){if($=Z.tag,$===13){if($=F(Z),$!==null){I.blockedOn=$,ga(I.priority,function(){_m(Z)});return}}else if($===31){if($=U(Z),$!==null){I.blockedOn=$,ga(I.priority,function(){_m(Z)});return}}else if($===3&&Z.stateNode.current.memoizedState.isDehydrated){I.blockedOn=Z.tag===3?Z.stateNode.containerInfo:null;return}}}I.blockedOn=null}function Cc(I){if(I.blockedOn!==null)return!1;for(var $=I.targetContainers;0<$.length;){var Z=zh(I.nativeEvent);if(Z===null){Z=I.nativeEvent;var W=new Z.constructor(Z.type,Z);qo=W,Z.target.dispatchEvent(W),qo=null}else return $=Zn(Z),$!==null&&mm($),I.blockedOn=Z,!1;$.shift()}return!0}function vm(I,$,Z){Cc(I)&&Z.delete($)}function $0(){Ph=!1,us!==null&&Cc(us)&&(us=null),cs!==null&&Cc(cs)&&(cs=null),fs!==null&&Cc(fs)&&(fs=null),Kl.forEach(vm),Jl.forEach(vm)}function Ic(I,$){I.blockedOn===$&&(I.blockedOn=null,Ph||(Ph=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,$0)))}var Rc=null;function wm(I){Rc!==I&&(Rc=I,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Rc===I&&(Rc=null);for(var $=0;$<I.length;$+=3){var Z=I[$],W=I[$+1],st=I[$+2];if(typeof W!="function"){if(Oh(W||Z)===null)continue;break}var ct=Zn(Z);ct!==null&&(I.splice($,3),$-=3,zf(ct,{pending:!0,data:st,method:Z.method,action:W},W,st))}}))}function jo(I){function $(ze){return Ic(ze,I)}us!==null&&Ic(us,I),cs!==null&&Ic(cs,I),fs!==null&&Ic(fs,I),Kl.forEach($),Jl.forEach($);for(var Z=0;Z<hs.length;Z++){var W=hs[Z];W.blockedOn===I&&(W.blockedOn=null)}for(;0<hs.length&&(Z=hs[0],Z.blockedOn===null);)bm(Z),Z.blockedOn===null&&hs.shift();if(Z=(I.ownerDocument||I).$$reactFormReplay,Z!=null)for(W=0;W<Z.length;W+=3){var st=Z[W],ct=Z[W+1],Ht=st[Yt]||null;if(typeof ct=="function")Ht||wm(Z);else if(Ht){var me=null;if(ct&&ct.hasAttribute("formAction")){if(st=ct,Ht=ct[Yt]||null)me=Ht.formAction;else if(Oh(st)!==null)continue}else me=Ht.action;typeof me=="function"?Z[W+1]=me:(Z.splice(W,3),W-=3),wm(Z)}}}function xm(){function I(ct){ct.canIntercept&&ct.info==="react-transition"&&ct.intercept({handler:function(){return new Promise(function(Ht){return st=Ht})},focusReset:"manual",scroll:"manual"})}function $(){st!==null&&(st(),st=null),W||setTimeout(Z,20)}function Z(){if(!W&&!navigation.transition){var ct=navigation.currentEntry;ct&&ct.url!=null&&navigation.navigate(ct.url,{state:ct.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var W=!1,st=null;return navigation.addEventListener("navigate",I),navigation.addEventListener("navigatesuccess",$),navigation.addEventListener("navigateerror",$),setTimeout(Z,100),function(){W=!0,navigation.removeEventListener("navigate",I),navigation.removeEventListener("navigatesuccess",$),navigation.removeEventListener("navigateerror",$),st!==null&&(st(),st=null)}}}function Nh(I){this._internalRoot=I}Dc.prototype.render=Nh.prototype.render=function(I){var $=this._internalRoot;if($===null)throw Error(w(409));var Z=$.current,W=ma();dm(Z,W,I,$,null,null)},Dc.prototype.unmount=Nh.prototype.unmount=function(){var I=this._internalRoot;if(I!==null){this._internalRoot=null;var $=I.containerInfo;dm(I.current,2,null,I,null,null),hc(),$[pn]=null}};function Dc(I){this._internalRoot=I}Dc.prototype.unstable_scheduleHydration=function(I){if(I){var $=_a();I={blockedOn:null,target:I,priority:$};for(var Z=0;Z<hs.length&&$!==0&&$<hs[Z].priority;Z++);hs.splice(Z,0,I),Z===0&&bm(I)}};var Em=m.version;if(Em!=="19.2.0")throw Error(w(527,Em,"19.2.0"));Jt.findDOMNode=function(I){var $=I._reactInternals;if($===void 0)throw typeof I.render=="function"?Error(w(188)):(I=Object.keys(I).join(","),Error(w(268,I)));return I=q($),I=I!==null?X(I):null,I=I===null?null:I.stateNode,I};var B0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ct,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ei=$c.inject(B0),_e=$c}catch{}}return reactDomClient_production.createRoot=function(I,$){if(!D(I))throw Error(w(299));var Z=!1,W="",st=Id,ct=Rd,Ht=Dd;return $!=null&&($.unstable_strictMode===!0&&(Z=!0),$.identifierPrefix!==void 0&&(W=$.identifierPrefix),$.onUncaughtError!==void 0&&(st=$.onUncaughtError),$.onCaughtError!==void 0&&(ct=$.onCaughtError),$.onRecoverableError!==void 0&&(Ht=$.onRecoverableError)),$=fm(I,1,!1,null,null,Z,W,null,st,ct,Ht,xm),I[pn]=$.current,bh(I),new Nh($)},reactDomClient_production.hydrateRoot=function(I,$,Z){if(!D(I))throw Error(w(299));var W=!1,st="",ct=Id,Ht=Rd,me=Dd,ze=null;return Z!=null&&(Z.unstable_strictMode===!0&&(W=!0),Z.identifierPrefix!==void 0&&(st=Z.identifierPrefix),Z.onUncaughtError!==void 0&&(ct=Z.onUncaughtError),Z.onCaughtError!==void 0&&(Ht=Z.onCaughtError),Z.onRecoverableError!==void 0&&(me=Z.onRecoverableError),Z.formState!==void 0&&(ze=Z.formState)),$=fm(I,1,!0,$,Z??null,W,st,ze,ct,Ht,me,xm),$.context=hm(null),Z=$.current,W=ma(),W=dn(W),st=Yr(W),st.callback=null,Vr(Z,st,W),Z=W,$.current.lanes=Z,Mi($,Z),Wa($),I[pn]=$.current,bh(I),new Dc($)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),classnames={exports:{}};var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(d){(function(){var m={}.hasOwnProperty;function g(){for(var P="",F=0;F<arguments.length;F++){var U=arguments[F];U&&(P=D(P,w(U)))}return P}function w(P){if(typeof P=="string"||typeof P=="number")return P;if(typeof P!="object")return"";if(Array.isArray(P))return g.apply(null,P);if(P.toString!==Object.prototype.toString&&!P.toString.toString().includes("[native code]"))return P.toString();var F="";for(var U in P)m.call(P,U)&&P[U]&&(F=D(F,U));return F}function D(P,F){return F?P?P+" "+F:P+F:P}d.exports?(g.default=g,d.exports=g):window.classNames=g})()})(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs$1(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(d,m){const{prefixes:g}=reactExports.useContext(ThemeContext);return d||g[m]||m}function useBootstrapBreakpoints(){const{breakpoints:d}=reactExports.useContext(ThemeContext);return d}function useBootstrapMinBreakpoint(){const{minBreakpoint:d}=reactExports.useContext(ThemeContext);return d}const Container=reactExports.forwardRef(({bsPrefix:d,fluid:m=!1,as:g="div",className:w,...D},P)=>{const F=useBootstrapPrefix(d,"container"),U=typeof m=="string"?`-${m}`:"-fluid";return jsxRuntimeExports.jsx(g,{ref:P,...D,className:classNames(w,m?`${F}${U}`:F)})});Container.displayName="Container";const Row=reactExports.forwardRef(({bsPrefix:d,className:m,as:g="div",...w},D)=>{const P=useBootstrapPrefix(d,"row"),F=useBootstrapBreakpoints(),U=useBootstrapMinBreakpoint(),H=`${P}-cols`,q=[];return F.forEach(X=>{const V=w[X];delete w[X];let J;V!=null&&typeof V=="object"?{cols:J}=V:J=V;const et=X!==U?`-${X}`:"";J!=null&&q.push(`${H}${et}-${J}`)}),jsxRuntimeExports.jsx(g,{ref:D,...w,className:classNames(m,P,...q)})});Row.displayName="Row";function useCol({as:d,bsPrefix:m,className:g,...w}){m=useBootstrapPrefix(m,"col");const D=useBootstrapBreakpoints(),P=useBootstrapMinBreakpoint(),F=[],U=[];return D.forEach(H=>{const q=w[H];delete w[H];let X,V,J;typeof q=="object"&&q!=null?{span:X,offset:V,order:J}=q:X=q;const et=H!==P?`-${H}`:"";X&&F.push(X===!0?`${m}${et}`:`${m}${et}-${X}`),J!=null&&U.push(`order${et}-${J}`),V!=null&&U.push(`offset${et}-${V}`)}),[{...w,className:classNames(g,...F,...U)},{as:d,bsPrefix:m,spans:F}]}const Col=reactExports.forwardRef((d,m)=>{const[{className:g,...w},{as:D="div",bsPrefix:P,spans:F}]=useCol(d);return jsxRuntimeExports.jsx(D,{...w,ref:m,className:classNames(g,!F.length&&P)})});Col.displayName="Col";var propTypes$2={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=d,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var d=requireReactPropTypesSecret();function m(){}function g(){}return g.resetWarningCache=m,factoryWithThrowingShims=function(){function w(F,U,H,q,X,V){if(V!==d){var J=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw J.name="Invariant Violation",J}}w.isRequired=w;function D(){return w}var P={array:w,bigint:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:D,element:w,elementType:w,instanceOf:D,node:w,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:g,resetWarningCache:m};return P.PropTypes=P,P},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes$2.exports=requireFactoryWithThrowingShims()()),propTypes$2.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs$1(propTypesExports),propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:d="div",className:m,type:g="valid",tooltip:w=!1,...D},P)=>jsxRuntimeExports.jsx(d,{...D,ref:P,className:classNames(m,`${g}-${w?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:d,bsPrefix:m,className:g,type:w="checkbox",isValid:D=!1,isInvalid:P=!1,as:F="input",...U},H)=>{const{controlId:q}=reactExports.useContext(FormContext);return m=useBootstrapPrefix(m,"form-check-input"),jsxRuntimeExports.jsx(F,{...U,ref:H,type:w,id:d||q,className:classNames(g,m,D&&"is-valid",P&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:d,className:m,htmlFor:g,...w},D)=>{const{controlId:P}=reactExports.useContext(FormContext);return d=useBootstrapPrefix(d,"form-check-label"),jsxRuntimeExports.jsx("label",{...w,ref:D,htmlFor:g||P,className:classNames(m,d)})});FormCheckLabel.displayName="FormCheckLabel";function hasChildOfType(d,m){return reactExports.Children.toArray(d).some(g=>reactExports.isValidElement(g)&&g.type===m)}const FormCheck=reactExports.forwardRef(({id:d,bsPrefix:m,bsSwitchPrefix:g,inline:w=!1,reverse:D=!1,disabled:P=!1,isValid:F=!1,isInvalid:U=!1,feedbackTooltip:H=!1,feedback:q,feedbackType:X,className:V,style:J,title:et="",type:at="checkbox",label:ot,children:ut,as:yt="input",...vt},mt)=>{m=useBootstrapPrefix(m,"form-check"),g=useBootstrapPrefix(g,"form-switch");const{controlId:dt}=reactExports.useContext(FormContext),gt=reactExports.useMemo(()=>({controlId:d||dt}),[dt,d]),At=!ut&&ot!=null&&ot!==!1||hasChildOfType(ut,FormCheckLabel),_t=jsxRuntimeExports.jsx(FormCheckInput,{...vt,type:at==="switch"?"checkbox":at,ref:mt,isValid:F,isInvalid:U,disabled:P,as:yt});return jsxRuntimeExports.jsx(FormContext.Provider,{value:gt,children:jsxRuntimeExports.jsx("div",{style:J,className:classNames(V,At&&m,w&&`${m}-inline`,D&&`${m}-reverse`,at==="switch"&&g),children:ut||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_t,At&&jsxRuntimeExports.jsx(FormCheckLabel,{title:et,children:ot}),q&&jsxRuntimeExports.jsx(Feedback,{type:X,tooltip:H,children:q})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:d,type:m,size:g,htmlSize:w,id:D,className:P,isValid:F=!1,isInvalid:U=!1,plaintext:H,readOnly:q,as:X="input",...V},J)=>{const{controlId:et}=reactExports.useContext(FormContext);return d=useBootstrapPrefix(d,"form-control"),jsxRuntimeExports.jsx(X,{...V,type:m,size:w,ref:J,readOnly:q,id:D||et,className:classNames(P,H?`${d}-plaintext`:d,g&&`${d}-${g}`,m==="color"&&`${d}-color`,F&&"is-valid",U&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:d,bsPrefix:m,as:g="div",...w},D)=>(m=useBootstrapPrefix(m,"form-floating"),jsxRuntimeExports.jsx(g,{ref:D,className:classNames(d,m),...w})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:d,as:m="div",...g},w)=>{const D=reactExports.useMemo(()=>({controlId:d}),[d]);return jsxRuntimeExports.jsx(FormContext.Provider,{value:D,children:jsxRuntimeExports.jsx(m,{...g,ref:w})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:d="label",bsPrefix:m,column:g=!1,visuallyHidden:w=!1,className:D,htmlFor:P,...F},U)=>{const{controlId:H}=reactExports.useContext(FormContext);m=useBootstrapPrefix(m,"form-label");let q="col-form-label";typeof g=="string"&&(q=`${q} ${q}-${g}`);const X=classNames(D,m,w&&"visually-hidden",g&&q);return P=P||H,g?jsxRuntimeExports.jsx(Col,{ref:U,as:"label",className:X,htmlFor:P,...F}):jsxRuntimeExports.jsx(d,{ref:U,className:X,htmlFor:P,...F})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:d,className:m,id:g,...w},D)=>{const{controlId:P}=reactExports.useContext(FormContext);return d=useBootstrapPrefix(d,"form-range"),jsxRuntimeExports.jsx("input",{...w,type:"range",ref:D,className:classNames(m,d),id:g||P})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:d,size:m,htmlSize:g,className:w,isValid:D=!1,isInvalid:P=!1,id:F,...U},H)=>{const{controlId:q}=reactExports.useContext(FormContext);return d=useBootstrapPrefix(d,"form-select"),jsxRuntimeExports.jsx("select",{...U,size:g,ref:H,className:classNames(w,d,m&&`${d}-${m}`,D&&"is-valid",P&&"is-invalid"),id:F||q})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:d,className:m,as:g="small",muted:w,...D},P)=>(d=useBootstrapPrefix(d,"form-text"),jsxRuntimeExports.jsx(g,{...D,ref:P,className:classNames(m,d,w&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((d,m)=>jsxRuntimeExports.jsx(FormCheck$1,{...d,ref:m,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:d,className:m,children:g,controlId:w,label:D,...P},F)=>(d=useBootstrapPrefix(d,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:F,className:classNames(m,d),controlId:w,...P,children:[g,jsxRuntimeExports.jsx("label",{htmlFor:w,children:D})]})));FloatingLabel.displayName="FloatingLabel";const propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:d,validated:m,as:g="form",...w},D)=>jsxRuntimeExports.jsx(g,{...w,ref:D,className:classNames(d,m&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel});function _extends(){return _extends=Object.assign?Object.assign.bind():function(d){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var w in g)({}).hasOwnProperty.call(g,w)&&(d[w]=g[w])}return d},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(d,m){if(d==null)return{};var g={};for(var w in d)if({}.hasOwnProperty.call(d,w)){if(m.indexOf(w)!==-1)continue;g[w]=d[w]}return g}function defaultKey(d){return"default"+d.charAt(0).toUpperCase()+d.substr(1)}function _toPropertyKey(d){var m=_toPrimitive(d,"string");return typeof m=="symbol"?m:String(m)}function _toPrimitive(d,m){if(typeof d!="object"||d===null)return d;var g=d[Symbol.toPrimitive];if(g!==void 0){var w=g.call(d,m);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}function useUncontrolledProp(d,m,g){var w=reactExports.useRef(d!==void 0),D=reactExports.useState(m),P=D[0],F=D[1],U=d!==void 0,H=w.current;return w.current=U,!U&&H&&P!==m&&F(m),[U?d:P,reactExports.useCallback(function(q){for(var X=arguments.length,V=new Array(X>1?X-1:0),J=1;J<X;J++)V[J-1]=arguments[J];g&&g.apply(void 0,[q].concat(V)),F(q)},[g])]}function useUncontrolled(d,m){return Object.keys(m).reduce(function(g,w){var D,P=g,F=P[defaultKey(w)],U=P[w],H=_objectWithoutPropertiesLoose(P,[defaultKey(w),w].map(_toPropertyKey)),q=m[w],X=useUncontrolledProp(U,F,d[q]),V=X[0],J=X[1];return _extends({},H,(D={},D[w]=V,D[q]=J,D))},d)}function _setPrototypeOf(d,m){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,w){return g.__proto__=w,g},_setPrototypeOf(d,m)}function _inheritsLoose(d,m){d.prototype=Object.create(m.prototype),d.prototype.constructor=d,_setPrototypeOf(d,m)}function ownerDocument(d){return d&&d.ownerDocument||document}function ownerWindow(d){var m=ownerDocument(d);return m&&m.defaultView||window}function getComputedStyle(d,m){return ownerWindow(d).getComputedStyle(d,m)}var rUpper=/([A-Z])/g;function hyphenate(d){return d.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(d){return hyphenate(d).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(d){return!!(d&&supportedTransforms.test(d))}function style(d,m){var g="",w="";if(typeof m=="string")return d.style.getPropertyValue(hyphenateStyleName(m))||getComputedStyle(d).getPropertyValue(hyphenateStyleName(m));Object.keys(m).forEach(function(D){var P=m[D];!P&&P!==0?d.style.removeProperty(hyphenateStyleName(D)):isTransform(D)?w+=D+"("+P+") ":g+=hyphenateStyleName(D)+": "+P+";"}),w&&(g+="transform: "+w+";"),d.style.cssText+=";"+g}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs$1(reactDomExports),config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(m){return m.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(d){_inheritsLoose(m,d);function m(w,D){var P;P=d.call(this,w,D)||this;var F=D,U=F&&!F.isMounting?w.enter:w.appear,H;return P.appearStatus=null,w.in?U?(H=EXITED,P.appearStatus=ENTERING):H=ENTERED:w.unmountOnExit||w.mountOnEnter?H=UNMOUNTED:H=EXITED,P.state={status:H},P.nextCallback=null,P}m.getDerivedStateFromProps=function(D,P){var F=D.in;return F&&P.status===UNMOUNTED?{status:EXITED}:null};var g=m.prototype;return g.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},g.componentDidUpdate=function(D){var P=null;if(D!==this.props){var F=this.state.status;this.props.in?F!==ENTERING&&F!==ENTERED&&(P=ENTERING):(F===ENTERING||F===ENTERED)&&(P=EXITING)}this.updateStatus(!1,P)},g.componentWillUnmount=function(){this.cancelNextCallback()},g.getTimeouts=function(){var D=this.props.timeout,P,F,U;return P=F=U=D,D!=null&&typeof D!="number"&&(P=D.exit,F=D.enter,U=D.appear!==void 0?D.appear:F),{exit:P,enter:F,appear:U}},g.updateStatus=function(D,P){if(D===void 0&&(D=!1),P!==null)if(this.cancelNextCallback(),P===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var F=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);F&&forceReflow(F)}this.performEnter(D)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},g.performEnter=function(D){var P=this,F=this.props.enter,U=this.context?this.context.isMounting:D,H=this.props.nodeRef?[U]:[ReactDOM.findDOMNode(this),U],q=H[0],X=H[1],V=this.getTimeouts(),J=U?V.appear:V.enter;if(!D&&!F||config.disabled){this.safeSetState({status:ENTERED},function(){P.props.onEntered(q)});return}this.props.onEnter(q,X),this.safeSetState({status:ENTERING},function(){P.props.onEntering(q,X),P.onTransitionEnd(J,function(){P.safeSetState({status:ENTERED},function(){P.props.onEntered(q,X)})})})},g.performExit=function(){var D=this,P=this.props.exit,F=this.getTimeouts(),U=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!P||config.disabled){this.safeSetState({status:EXITED},function(){D.props.onExited(U)});return}this.props.onExit(U),this.safeSetState({status:EXITING},function(){D.props.onExiting(U),D.onTransitionEnd(F.exit,function(){D.safeSetState({status:EXITED},function(){D.props.onExited(U)})})})},g.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},g.safeSetState=function(D,P){P=this.setNextCallback(P),this.setState(D,P)},g.setNextCallback=function(D){var P=this,F=!0;return this.nextCallback=function(U){F&&(F=!1,P.nextCallback=null,D(U))},this.nextCallback.cancel=function(){F=!1},this.nextCallback},g.onTransitionEnd=function(D,P){this.setNextCallback(P);var F=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),U=D==null&&!this.props.addEndListener;if(!F||U){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var H=this.props.nodeRef?[this.nextCallback]:[F,this.nextCallback],q=H[0],X=H[1];this.props.addEndListener(q,X)}D!=null&&setTimeout(this.nextCallback,D)},g.render=function(){var D=this.state.status;if(D===UNMOUNTED)return null;var P=this.props,F=P.children;P.in,P.mountOnEnter,P.unmountOnExit,P.appear,P.enter,P.exit,P.timeout,P.addEndListener,P.onEnter,P.onEntering,P.onEntered,P.onExit,P.onExiting,P.onExited,P.nodeRef;var U=_objectWithoutPropertiesLoose(P,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof F=="function"?F(D,U):React.cloneElement(React.Children.only(F),U))},m})(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getReactVersion(){const d=reactExports.version.split(".");return{major:+d[0],minor:+d[1],patch:+d[2]}}function getChildRef(d){if(!d||typeof d=="function")return null;const{major:m}=getReactVersion();return m>=19?d.props.ref:d.ref}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(d,m,g,w){if(w&&typeof w!="boolean"&&!onceSupported){var D=w.once,P=w.capture,F=g;!onceSupported&&D&&(F=g.__once||function U(H){this.removeEventListener(m,U,P),g.call(this,H)},g.__once=F),d.addEventListener(m,F,optionsSupported?w:P)}d.addEventListener(m,g,w)}function removeEventListener(d,m,g,w){var D=w&&typeof w!="boolean"?w.capture:w;d.removeEventListener(m,g,D),g.__once&&d.removeEventListener(m,g.__once,D)}function listen(d,m,g,w){return addEventListener(d,m,g,w),function(){removeEventListener(d,m,g,w)}}function triggerEvent(d,m,g,w){if(w===void 0&&(w=!0),d){var D=document.createEvent("HTMLEvents");D.initEvent(m,g,w),d.dispatchEvent(D)}}function parseDuration$1(d){var m=style(d,"transitionDuration")||"",g=m.indexOf("ms")===-1?1e3:1;return parseFloat(m)*g}function emulateTransitionEnd(d,m,g){g===void 0&&(g=5);var w=!1,D=setTimeout(function(){w||triggerEvent(d,"transitionend",!0)},m+g),P=listen(d,"transitionend",function(){w=!0},{once:!0});return function(){clearTimeout(D),P()}}function transitionEnd(d,m,g,w){g==null&&(g=parseDuration$1(d)||0);var D=emulateTransitionEnd(d,g,w),P=listen(d,"transitionend",m);return function(){D(),P()}}function parseDuration(d,m){const g=style(d,m)||"",w=g.indexOf("ms")===-1?1e3:1;return parseFloat(g)*w}function transitionEndListener(d,m){const g=parseDuration(d,"transitionDuration"),w=parseDuration(d,"transitionDelay"),D=transitionEnd(d,P=>{P.target===d&&(D(),m(P))},g+w)}function createChainedFunction(...d){return d.filter(m=>m!=null).reduce((m,g)=>{if(typeof g!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return m===null?g:function(...D){m.apply(this,D),g.apply(this,D)}},null)}function triggerBrowserReflow(d){d.offsetHeight}const toFnRef=d=>!d||typeof d=="function"?d:m=>{d.current=m};function mergeRefs(d,m){const g=toFnRef(d),w=toFnRef(m);return D=>{g&&g(D),w&&w(D)}}function useMergedRefs(d,m){return reactExports.useMemo(()=>mergeRefs(d,m),[d,m])}function safeFindDOMNode(d){return d&&"setState"in d?ReactDOM.findDOMNode(d):d??null}const TransitionWrapper=React.forwardRef(({onEnter:d,onEntering:m,onEntered:g,onExit:w,onExiting:D,onExited:P,addEndListener:F,children:U,childRef:H,...q},X)=>{const V=reactExports.useRef(null),J=useMergedRefs(V,H),et=At=>{J(safeFindDOMNode(At))},at=At=>_t=>{At&&V.current&&At(V.current,_t)},ot=reactExports.useCallback(at(d),[d]),ut=reactExports.useCallback(at(m),[m]),yt=reactExports.useCallback(at(g),[g]),vt=reactExports.useCallback(at(w),[w]),mt=reactExports.useCallback(at(D),[D]),dt=reactExports.useCallback(at(P),[P]),gt=reactExports.useCallback(at(F),[F]);return jsxRuntimeExports.jsx(Transition,{ref:X,...q,onEnter:ot,onEntered:yt,onEntering:ut,onExit:vt,onExited:dt,onExiting:mt,addEndListener:gt,nodeRef:V,children:typeof U=="function"?(At,_t)=>U(At,{..._t,ref:et}):React.cloneElement(U,{ref:et})})});TransitionWrapper.displayName="TransitionWrapper";const MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(d,m){const g=`offset${d[0].toUpperCase()}${d.slice(1)}`,w=m[g],D=MARGINS[d];return w+parseInt(style(m,D[0]),10)+parseInt(style(m,D[1]),10)}const collapseStyles={[EXITED]:"collapse",[EXITING]:"collapsing",[ENTERING]:"collapsing",[ENTERED]:"collapse show"},Collapse=React.forwardRef(({onEnter:d,onEntering:m,onEntered:g,onExit:w,onExiting:D,className:P,children:F,dimension:U="height",in:H=!1,timeout:q=300,mountOnEnter:X=!1,unmountOnExit:V=!1,appear:J=!1,getDimensionValue:et=getDefaultDimensionValue,...at},ot)=>{const ut=typeof U=="function"?U():U,yt=reactExports.useMemo(()=>createChainedFunction(At=>{At.style[ut]="0"},d),[ut,d]),vt=reactExports.useMemo(()=>createChainedFunction(At=>{const _t=`scroll${ut[0].toUpperCase()}${ut.slice(1)}`;At.style[ut]=`${At[_t]}px`},m),[ut,m]),mt=reactExports.useMemo(()=>createChainedFunction(At=>{At.style[ut]=null},g),[ut,g]),dt=reactExports.useMemo(()=>createChainedFunction(At=>{At.style[ut]=`${et(ut,At)}px`,triggerBrowserReflow(At)},w),[w,et,ut]),gt=reactExports.useMemo(()=>createChainedFunction(At=>{At.style[ut]=null},D),[ut,D]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:ot,addEndListener:transitionEndListener,...at,"aria-expanded":at.role?H:null,onEnter:yt,onEntering:vt,onEntered:mt,onExit:dt,onExiting:gt,childRef:getChildRef(F),in:H,timeout:q,mountOnEnter:X,unmountOnExit:V,appear:J,children:(At,_t)=>React.cloneElement(F,{..._t,className:classNames(P,F.props.className,collapseStyles[At],ut==="width"&&"collapse-horizontal")})})});Collapse.displayName="Collapse";function isAccordionItemSelected(d,m){return Array.isArray(d)?d.includes(m):d===m}const context$1=reactExports.createContext({});context$1.displayName="AccordionContext";const AccordionCollapse=reactExports.forwardRef(({as:d="div",bsPrefix:m,className:g,children:w,eventKey:D,...P},F)=>{const{activeEventKey:U}=reactExports.useContext(context$1);return m=useBootstrapPrefix(m,"accordion-collapse"),jsxRuntimeExports.jsx(Collapse,{ref:F,in:isAccordionItemSelected(U,D),...P,className:classNames(g,m),children:jsxRuntimeExports.jsx(d,{children:reactExports.Children.only(w)})})});AccordionCollapse.displayName="AccordionCollapse";const context=reactExports.createContext({eventKey:""});context.displayName="AccordionItemContext";const AccordionBody=reactExports.forwardRef(({as:d="div",bsPrefix:m,className:g,onEnter:w,onEntering:D,onEntered:P,onExit:F,onExiting:U,onExited:H,...q},X)=>{m=useBootstrapPrefix(m,"accordion-body");const{eventKey:V}=reactExports.useContext(context);return jsxRuntimeExports.jsx(AccordionCollapse,{eventKey:V,onEnter:w,onEntering:D,onEntered:P,onExit:F,onExiting:U,onExited:H,children:jsxRuntimeExports.jsx(d,{ref:X,...q,className:classNames(g,m)})})});AccordionBody.displayName="AccordionBody";function useAccordionButton(d,m){const{activeEventKey:g,onSelect:w,alwaysOpen:D}=reactExports.useContext(context$1);return P=>{let F=d===g?null:d;D&&(Array.isArray(g)?g.includes(d)?F=g.filter(U=>U!==d):F=[...g,d]:F=[d]),w?.(F,P),m?.(P)}}const AccordionButton=reactExports.forwardRef(({as:d="button",bsPrefix:m,className:g,onClick:w,...D},P)=>{m=useBootstrapPrefix(m,"accordion-button");const{eventKey:F}=reactExports.useContext(context),U=useAccordionButton(F,w),{activeEventKey:H}=reactExports.useContext(context$1);return d==="button"&&(D.type="button"),jsxRuntimeExports.jsx(d,{ref:P,onClick:U,...D,"aria-expanded":Array.isArray(H)?H.includes(F):F===H,className:classNames(g,m,!isAccordionItemSelected(H,F)&&"collapsed")})});AccordionButton.displayName="AccordionButton";const AccordionHeader=reactExports.forwardRef(({as:d="h2","aria-controls":m,bsPrefix:g,className:w,children:D,onClick:P,...F},U)=>(g=useBootstrapPrefix(g,"accordion-header"),jsxRuntimeExports.jsx(d,{ref:U,...F,className:classNames(w,g),children:jsxRuntimeExports.jsx(AccordionButton,{onClick:P,"aria-controls":m,children:D})})));AccordionHeader.displayName="AccordionHeader";const AccordionItem=reactExports.forwardRef(({as:d="div",bsPrefix:m,className:g,eventKey:w,...D},P)=>{m=useBootstrapPrefix(m,"accordion-item");const F=reactExports.useMemo(()=>({eventKey:w}),[w]);return jsxRuntimeExports.jsx(context.Provider,{value:F,children:jsxRuntimeExports.jsx(d,{ref:P,...D,className:classNames(g,m)})})});AccordionItem.displayName="AccordionItem";const Accordion=reactExports.forwardRef((d,m)=>{const{as:g="div",activeKey:w,bsPrefix:D,className:P,onSelect:F,flush:U,alwaysOpen:H,...q}=useUncontrolled(d,{activeKey:"onSelect"}),X=useBootstrapPrefix(D,"accordion"),V=reactExports.useMemo(()=>({activeEventKey:w,onSelect:F,alwaysOpen:H}),[w,F,H]);return jsxRuntimeExports.jsx(context$1.Provider,{value:V,children:jsxRuntimeExports.jsx(g,{ref:m,...q,className:classNames(P,X,U&&`${X}-flush`)})})});Accordion.displayName="Accordion";const Accordion$1=Object.assign(Accordion,{Button:AccordionButton,Collapse:AccordionCollapse,Item:AccordionItem,Header:AccordionHeader,Body:AccordionBody});function ti(d){return d instanceof Int8Array||d instanceof Uint8Array||d instanceof Uint8ClampedArray}class qr{fileName;data;constructor(m,g){this.fileName=m,this.data=g}}const Kr={XmlResourceFiles:{log:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE logmap [
<!ELEMENT logmap (log)+>
<!ELEMENT log (#PCDATA)>
<!ATTLIST log events CDATA #IMPLIED>
<!ATTLIST log output CDATA #IMPLIED>
<!ATTLIST log filename CDATA #IMPLIED>
<!ATTLIST log generations CDATA #IMPLIED>
<!ATTLIST log limit CDATA #IMPLIED>
<!ATTLIST log format CDATA #IMPLIED>
]>
<logmap>
  <log events="None"/>
  <log output="Debug"/>
  <log filename="Magick-%g.log"/>
  <log generations="3"/>
  <log limit="2000"/>
  <log format="%t %r %u %v %d %c[%p]: %m/%f/%l/%d
  %e"/>
</logmap>
`,policy:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE policymap [
<!ELEMENT policymap (policy)*>
<!ATTLIST policymap xmlns CDATA #FIXED "">
<!ELEMENT policy EMPTY>
<!ATTLIST policy xmlns CDATA #FIXED "">
<!ATTLIST policy domain NMTOKEN #REQUIRED>
<!ATTLIST policy name NMTOKEN #IMPLIED>
<!ATTLIST policy pattern CDATA #IMPLIED>
<!ATTLIST policy rights NMTOKEN #IMPLIED>
<!ATTLIST policy stealth NMTOKEN #IMPLIED>
<!ATTLIST policy value CDATA #IMPLIED>
]>
<policymap>
  <policy domain="cache" name="shared-secret" value="passphrase"/>
  <policy domain="coder" rights="none" pattern="EPHEMERAL" />
  <policy domain="coder" rights="none" pattern="MVG" />
  <policy domain="coder" rights="none" pattern="MSL" />
  <policy domain="path" rights="none" pattern="@*" />
  <policy domain="path" rights="none" pattern="|*" />
</policymap>
`}};class nr{constructor(){this.log=new qr("log.xml",Kr.XmlResourceFiles.log),this.policy=new qr("policy.xml",Kr.XmlResourceFiles.policy)}static default=new nr;*all(){yield this.log,yield this.policy}log;policy}class de{_scaleX;_scaleY;_shearX;_shearY;_translateX;_translateY;constructor(m=1,g=1,w=0,D=0,P=0,F=0){this._scaleX=m,this._scaleY=g,this._shearX=w,this._shearY=D,this._translateX=P,this._translateY=F}get scaleX(){return this._scaleX}get scaleY(){return this._scaleY}get shearX(){return this._shearX}get shearY(){return this._shearY}get translateX(){return this._translateX}get translateY(){return this._translateY}draw(m){m.affine(this._scaleX,this._scaleY,this._shearX,this._shearY,this._translateX,this._translateY)}reset(){this._scaleX=1,this._scaleY=1,this._shearX=0,this._shearY=0,this._translateX=0,this._translateY=0}transformOrigin(m,g){const w=new de;w._translateX=m,w._translateY=g,this.transform(w)}transformRotation(m){const g=new de;g._scaleX=Math.cos(de.normalizeAngleToRadians(m)),g._scaleY=Math.cos(de.normalizeAngleToRadians(m)),g._shearX=-Math.sin(de.normalizeAngleToRadians(m)),g._shearY=Math.sin(de.normalizeAngleToRadians(m)),this.transform(g)}transformScale(m,g){const w=new de;w._scaleX=m,w._scaleY=g,this.transform(w)}transformSkewX(m){const g=new de;g._shearX=Math.tan(de.normalizeAngleToRadians(m)),this.transform(g)}transformSkewY(m){const g=new de;g._shearY=Math.tan(de.normalizeAngleToRadians(m)),this.transform(g)}static normalizeAngleToRadians(m){const g=m/360;let w=Math.round(g);return Math.abs(g-w)===.5&&w%2!==0&&(w=g>0?w-1:w+1),Math.PI*(m-w*360)/180}transform(m){const g=this._scaleX,w=this._scaleY,D=this._shearX,P=this._shearY,F=this._translateX,U=this._translateY;this._scaleX=g*m._scaleX+P*m._shearX,this._scaleY=D*m._shearY+w*m._scaleY,this._shearX=D*m._scaleX+w*m._shearX,this._shearY=g*m._shearY+P*m._scaleY,this._translateX=g*m._translateX+P*m._translateY+F,this._translateY=D*m._translateX+w*m._translateY+U}}class eo{constructor(m,g){this.eventType=m,this.message=g??""}eventType;message}const to$1={Extract:8,On:10,Opaque:11},G={Red:0,Green:1,Blue:2,Black:3,Alpha:4,Index:5,Composite:64},j={Undefined:0,Composite:31,All:134217727};class ro{constructor(m,g,w,D){this.red=m,this.green=g,this.blue=w,this.white=D}red;green;blue;white}const T$1={Undefined:0,CMY:1,CMYK:2,Gray:3,HCL:4,HCLp:5,HSB:6,HSI:7,HSL:8,HSV:9,HWB:10,Lab:11,LCH:12,LCHab:13,LCHuv:14,Log:15,LMS:16,Luv:17,OHTA:18,Rec601YCbCr:19,Rec709YCbCr:20,RGB:21,scRGB:22,sRGB:23,Transparent:24,XyY:25,XYZ:26,YCbCr:27,YCC:28,YDbDr:29,YIQ:30,YPbPr:31,YUV:32,LinearGray:33,Jzazbz:34,DisplayP3:35,Adobe98:36,ProPhoto:37,Oklab:38,Oklch:39,CAT02LMSC:40},Qr={[T$1.Undefined]:"Undefined",[T$1.CMY]:"CMY",[T$1.CMYK]:"CMYK",[T$1.Gray]:"Gray",[T$1.HCL]:"HCL",[T$1.HCLp]:"HCLp",[T$1.HSB]:"HSB",[T$1.HSI]:"HSI",[T$1.HSL]:"HSL",[T$1.HSV]:"HSV",[T$1.HWB]:"HWB",[T$1.Lab]:"Lab",[T$1.LCH]:"LCH",[T$1.LCHab]:"LCHab",[T$1.LCHuv]:"LCHuv",[T$1.Log]:"Log",[T$1.LMS]:"LMS",[T$1.Luv]:"Luv",[T$1.OHTA]:"OHTA",[T$1.Rec601YCbCr]:"Rec601YCbCr",[T$1.Rec709YCbCr]:"Rec709YCbCr",[T$1.RGB]:"RGB",[T$1.scRGB]:"scRGB",[T$1.sRGB]:"sRGB",[T$1.Transparent]:"Transparent",[T$1.XyY]:"XyY",[T$1.XYZ]:"XYZ",[T$1.YCbCr]:"YCbCr",[T$1.YCC]:"YCC",[T$1.YDbDr]:"YDbDr",[T$1.YIQ]:"YIQ",[T$1.YPbPr]:"YPbPr",[T$1.YUV]:"YUV",[T$1.LinearGray]:"LinearGray",[T$1.Jzazbz]:"Jzazbz",[T$1.DisplayP3]:"DisplayP3",[T$1.Adobe98]:"Adobe98",[T$1.ProPhoto]:"ProPhoto",[T$1.Oklab]:"Oklab",[T$1.Oklch]:"Oklch",[T$1.CAT02LMSC]:"CAT02LMS"};class io{colorSpace=T$1.Undefined;copyright=null;description=null;manufacturer=null;model=null}class no{_data;_index;constructor(m){this._data=m,this._index=0,this.isLittleEndian=!1}get index(){return this._index}isLittleEndian;readLong(){return this.canRead(4)?this.isLittleEndian?this.readLongLSB():this.readLongMSB():null}readString(m){if(m==0)return"";if(!this.canRead(m))return null;let g=new TextDecoder("utf-8").decode(this._data.subarray(this._index,this._index+m));const w=g.indexOf("\0");return w!=-1&&(g=g.substring(0,w)),this._index+=m,g}seek(m){return m>=this._data.length?!1:(this._index=m,!0)}skip(m){return this._index+m>=this._data.length?!1:(this._index+=m,!0)}canRead(m){return m>this._data.length?!1:this._index+m<=this._data.length}readLongLSB(){let m=this._data[this._index];return m|=this._data[this._index+1]<<8,m|=this._data[this._index+2]<<16,m|=this._data[this._index+3]<<24,this._index+=4,m}readLongMSB(){let m=this._data[this._index]<<24;return m|=this._data[this._index+1]<<16,m|=this._data[this._index+2]<<8,m|=this._data[this._index+3],this._index+=4,m}}class ar{_data=new io;_reader;constructor(m){this._reader=new no(m)}static read(m){const g=new ar(m);return g.readColorSpace(),g.readTagTable(),g._data}readColorSpace(){this._reader.seek(16);const m=this._reader.readString(4);m!=null&&(this._data.colorSpace=this.determineColorSpace(m.trimEnd()))}determineColorSpace(m){switch(m){case"CMY":return T$1.CMY;case"CMYK":return T$1.CMYK;case"GRAY":return T$1.Gray;case"HSL":return T$1.HSL;case"HSV":return T$1.HSV;case"Lab":return T$1.Lab;case"Luv":return T$1.Luv;case"RGB":return T$1.sRGB;case"XYZ":return T$1.XYZ;case"YCbr":return T$1.YCbCr;default:return T$1.Undefined}}readTagTable(){if(!this._reader.seek(128))return;const m=this._reader.readLong();if(m!=null)for(let g=0;g<m;g++)switch(this._reader.readLong()){case 1668313716:this._data.copyright=this.readTag();break;case 1684370275:this._data.description=this.readTag();break;case 1684893284:this._data.manufacturer=this.readTag();break;case 1684890724:this._data.model=this.readTag();break;default:this._reader.skip(8);break}}readTag(){const m=this._reader.readLong(),g=this._reader.readLong();if(m===null||g===null)return null;const w=this._reader.index;if(!this._reader.seek(m))return null;const D=this.readTagValue(g);return this._reader.seek(w),D}readTagValue(m){switch(this._reader.readString(4)){case"desc":return this.readTextDescriptionTypeValue();case"text":return this.readTextTypeValue(m);default:return null}}readTextDescriptionTypeValue(){if(!this._reader.skip(4))return null;const m=this._reader.readLong();return m==null?null:this._reader.readString(m)}readTextTypeValue(m){return this._reader.skip(4)?this._reader.readString(m):null}}class ri{constructor(m,g){this.name=m,this.data=g}name;data}class ao extends ri{_data;constructor(m){super("icc",m)}get colorSpace(){return this.initialize(),this._data.colorSpace}get copyright(){return this.initialize(),this._data.copyright}get description(){return this.initialize(),this._data.description}get manufacturer(){return this.initialize(),this._data.manufacturer}get model(){return this.initialize(),this._data.model}initialize(){this._data||(this._data=ar.read(this.data))}}const Jr={Quantum:1};class sr{constructor(m,g){this.distortion=m,this.difference=g}difference;distortion;static _create(m,g){return new sr(m,g)}}class so{constructor(m){this.metric=m}metric;highlightColor;lowlightColor;masklightColor;_setArtifacts(m){this.highlightColor!==void 0&&m.setArtifact("compare:highlight-color",this.highlightColor),this.lowlightColor!==void 0&&m.setArtifact("compare:lowlight-color",this.lowlightColor),this.masklightColor!==void 0&&m.setArtifact("compare:masklight-color",this.masklightColor)}}const er={In:37,SrcOver:67},tr={Error:400};let Y$2=class extends Error{_relatedErrors=[];constructor(m,g=tr.Error){super(m),this.severity=g}severity;get relatedErrors(){return this._relatedErrors}_setRelatedErrors(m){this._relatedErrors=m}};class Fe{static get depth(){return l$1._api._Quantum_Depth_Get()}static get max(){return l$1._api._Quantum_Max_Get()}}function ce(d,m){return d===0?m??null:l$1._api.UTF8ToString(d)}function oo(d,m){const g=ce(m);return d._MagickMemory_Relinquish(m),g}function rr(d,m,g){const w=d.lengthBytesUTF8(m)+1,D=d._malloc(w);try{return d.stringToUTF8(m,D,w),g(D)}finally{d._free(D)}}function A$1(d,m){return d===null?m(0):rr(l$1._api,d,m)}let k$1=class Sm{constructor(m,g,w,D,P){if(m!==void 0)if(typeof m=="string"){let F=0;try{F=l$1._api._MagickColor_Create(),A$1(m,U=>{if(l$1._api._MagickColor_Initialize(F,U)===0)throw new Y$2("invalid color specified");this.initialize(F)})}finally{l$1._api._free(F)}}else this.r=m,this.g=g??0,this.b=w??0,P===void 0?this.a=D??Fe.max:(this.k=D??0,this.a=P,this.isCmyk=!0)}r=0;g=0;b=0;a=0;k=0;isCmyk=!1;static _create(m){const g=new Sm;return g.initialize(m),g}toShortString(){return this.a!==Fe.max?this.toString():this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}`}toString(){return this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k},${(this.a/Fe.max).toFixed(4)})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}${this.toHex(this.a)}`}_use(m){let g=0;try{g=l$1._api._MagickColor_Create(),l$1._api._MagickColor_Red_Set(g,this.r),l$1._api._MagickColor_Green_Set(g,this.g),l$1._api._MagickColor_Blue_Set(g,this.b),l$1._api._MagickColor_Alpha_Set(g,this.a),this.isCmyk?(l$1._api._MagickColor_Black_Set(g,this.k),l$1._api._MagickColor_IsCMYK_Set(g,1)):l$1._api._MagickColor_IsCMYK_Set(g,0),m(g)}finally{l$1._api._MagickColor_Dispose(g)}}initialize(m){this.r=l$1._api._MagickColor_Red_Get(m),this.g=l$1._api._MagickColor_Green_Get(m),this.b=l$1._api._MagickColor_Blue_Get(m),this.a=l$1._api._MagickColor_Alpha_Get(m),this.isCmyk=l$1._api._MagickColor_IsCMYK_Get(m)===1,this.isCmyk&&(this.k=l$1._api._MagickColor_Black_Get(m))}toHex(m){return m.toString(16).padStart(2,"0")}};var Pe=(d=>(d[d.NoValue=0]="NoValue",d[d.PercentValue=4096]="PercentValue",d[d.IgnoreAspectRatio=8192]="IgnoreAspectRatio",d[d.Less=16384]="Less",d[d.Greater=32768]="Greater",d[d.FillArea=65536]="FillArea",d[d.LimitPixels=131072]="LimitPixels",d[d.AspectRatio=1048576]="AspectRatio",d))(Pe||{});class ae{_includeXyInToString;_width=0;_height=0;_x=0;_y=0;_aspectRatio=!1;_fillArea=!1;_greater=!1;_isPercentage=!1;_ignoreAspectRatio=!1;_less=!1;_limitPixels=!1;constructor(m,g,w,D){if(typeof m=="number"){if(w!==void 0&&D!==void 0?(this._width=w,this._height=D,this._x=m,this._y=g??0,this._includeXyInToString=!0):(this._width=m,this._height=g??this._width,this._x=0,this._y=0,this._includeXyInToString=!1),this._width<0)throw new Y$2("negative width is not allowed");if(this._height<0)throw new Y$2("negative height is not allowed")}else{this._includeXyInToString=m.indexOf("+")>=0||m.indexOf("-")>=0;const P=l$1._api._MagickGeometry_Create();try{A$1(m,F=>{const U=l$1._api._MagickGeometry_Initialize(P,F);if(U===Pe.NoValue)throw new Y$2("invalid geometry specified");this.hasFlag(U,Pe.AspectRatio)?this.initializeFromAspectRation(P,m):this.initialize(P,U)})}finally{l$1._api._MagickGeometry_Dispose(P)}}}get aspectRatio(){return this._aspectRatio}get fillArea(){return this._fillArea}set fillArea(m){this._fillArea=m}get greater(){return this._greater}set greater(m){this._greater=m}get height(){return this._height}set height(m){this._height=m}get ignoreAspectRatio(){return this._ignoreAspectRatio}set ignoreAspectRatio(m){this._ignoreAspectRatio=m}get isPercentage(){return this._isPercentage}set isPercentage(m){this._isPercentage=m}get less(){return this._less}set less(m){this._less=m}get limitPixels(){return this._limitPixels}set limitPixels(m){this._limitPixels=m}get width(){return this._width}set width(m){this._width=m}get x(){return this._x}set x(m){this._x=m}get y(){return this._y}set y(m){this._y=m}toString(){if(this._aspectRatio)return this._width+":"+this._height;let m="";return this._width==0&&this._height==0?m+="0x0":(this._width>0&&(m+=this._width.toString()),this._height>0?m+="x"+this._height.toString():m+="x"),(this._x!=0||this._y!=0||this._includeXyInToString)&&(this._x>=0&&(m+="+"),m+=this._x,this.y>=0&&(m+="+"),m+=this.y),this._fillArea&&(m+="^"),this._greater&&(m+=">"),this._isPercentage&&(m+="%"),this._ignoreAspectRatio&&(m+="!"),this._less&&(m+="<"),this._limitPixels&&(m+="@"),m}static _fromRectangle(m){if(m===0)throw new Y$2("unable to allocate memory");try{const g=l$1._api._MagickRectangle_Width_Get(m),w=l$1._api._MagickRectangle_Height_Get(m),D=l$1._api._MagickRectangle_X_Get(m),P=l$1._api._MagickRectangle_Y_Get(m);return new ae(D,P,g,w)}finally{l$1._api._MagickRectangle_Dispose(m)}}_toRectangle(m){const g=l$1._api._MagickRectangle_Create();if(g===0)throw new Y$2("unable to allocate memory");try{return l$1._api._MagickRectangle_Width_Set(g,this._width),l$1._api._MagickRectangle_Height_Set(g,this._height),l$1._api._MagickRectangle_X_Set(g,this._x),l$1._api._MagickRectangle_Y_Set(g,this._y),m(g)}finally{l$1._api._MagickRectangle_Dispose(g)}}initialize(m,g){this._width=l$1._api._MagickGeometry_Width_Get(m),this._height=l$1._api._MagickGeometry_Height_Get(m),this._x=l$1._api._MagickGeometry_X_Get(m),this._y=l$1._api._MagickGeometry_Y_Get(m),this._ignoreAspectRatio=this.hasFlag(g,Pe.IgnoreAspectRatio),this._isPercentage=this.hasFlag(g,Pe.PercentValue),this._fillArea=this.hasFlag(g,Pe.FillArea),this._greater=this.hasFlag(g,Pe.Greater),this._less=this.hasFlag(g,Pe.Less),this._limitPixels=this.hasFlag(g,Pe.LimitPixels)}initializeFromAspectRation(m,g){this._aspectRatio=!0;const w=g.split(":");this._width=this.parseNumber(w[0]),this._height=this.parseNumber(w[1]),this._x=l$1._api._MagickGeometry_X_Get(m),this._y=l$1._api._MagickGeometry_Y_Get(m)}parseNumber(m){let g=0;for(;g<m.length&&!this.isNumber(m[g]);)g++;const w=g;for(;g<m.length&&this.isNumber(m[g]);)g++;return parseInt(m.substr(w,g-w))}isNumber(m){return m>="0"&&m<="9"}hasFlag(m,g){return(m&g)===g}}class Te{constructor(m,g){this.x=m,this.y=g??m}x;y;static _create(m){return m===0?new Te(0,0):new Te(l$1._api._PointInfo_X_Get(m),l$1._api._PointInfo_Y_Get(m))}}class or{constructor(m){this.area=l$1._api._ConnectedComponent_GetArea(m),this.centroid=Te._create(l$1._api._ConnectedComponent_GetCentroid(m)),this.color=k$1._create(l$1._api._ConnectedComponent_GetColor(m)),this.height=l$1._api._ConnectedComponent_GetHeight(m),this.id=l$1._api._ConnectedComponent_GetId(m),this.width=l$1._api._ConnectedComponent_GetWidth(m),this.x=l$1._api._ConnectedComponent_GetX(m),this.y=l$1._api._ConnectedComponent_GetY(m)}area;centroid;color;height;id;width;x;y;static _create(m,g){const w=[];if(m===0)return w;for(let D=0;D<g;D++){const P=l$1._api._ConnectedComponent_GetInstance(m,D);P===0||l$1._api._ConnectedComponent_GetArea(P)<Number.EPSILON||w.push(new or(P))}return w}toGeometry(){return new ae(this.x,this.y,this.width,this.height)}}class _o{angleThreshold;areaThreshold;circularityThreshold;connectivity;diameterThreshold;eccentricityThreshold;majorAxisThreshold;meanColor;minorAxisThreshold;perimeterThreshold;constructor(m){this.connectivity=m}_setArtifacts(m){this.angleThreshold!==void 0&&m.setArtifact("connected-components:angle-threshold",this.angleThreshold.toString()),this.areaThreshold!==void 0&&m.setArtifact("connected-components:area-threshold",this.areaThreshold.toString()),this.circularityThreshold!==void 0&&m.setArtifact("connected-components:circularity-threshold",this.circularityThreshold.toString()),this.diameterThreshold!==void 0&&m.setArtifact("connected-components:diameter-threshold",this.diameterThreshold.toString()),this.eccentricityThreshold!==void 0&&m.setArtifact("connected-components:eccentricity-threshold",this.eccentricityThreshold.toString()),this.majorAxisThreshold!==void 0&&m.setArtifact("connected-components:major-axis-threshold",this.majorAxisThreshold.toString()),this.meanColor!==void 0&&m.setArtifact("connected-components:mean-color",this.meanColor.toString()),this.minorAxisThreshold!==void 0&&m.setArtifact("connected-components:minor-axis-threshold",this.minorAxisThreshold.toString()),this.perimeterThreshold!==void 0&&m.setArtifact("connected-components:perimeter-threshold",this.perimeterThreshold.toString())}}const je={Undefined:0,PixelsPerInch:1,PixelsPerCentimeter:2};class rt{constructor(m,g,w){g===void 0?(this.x=m,this.y=m,this.units=je.PixelsPerInch):w!==void 0?(this.x=m,this.y=g,this.units=w):(this.x=m,this.y=m,this.units=g)}x;y;units;toString(m){return m==this.units||m===je.Undefined||m===void 0?rt.toString(this.x,this.y,m??je.Undefined):this.units==je.PixelsPerCentimeter&&m==je.PixelsPerInch?rt.toString(this.x*2.54,this.y*2.54,m):rt.toString(this.x/2.54,this.y/2.54,m)}static toString(m,g,w){let D=`${m}x${g}`;switch(w){case je.PixelsPerCentimeter:D+="cm";break;case je.PixelsPerInch:D+="inch";break}return D}}class le{static _disposeAfterExecution(m,g){try{const w=g(m);return w instanceof Promise?Promise.resolve(w).then(D=>(m.dispose(),le.checkResult(m,D),D)):(m.dispose(),le.checkResult(m,w),w)}catch(w){throw m.dispose(),w}}static checkResult(m,g){if(g===m)throw new Y$2("The result of the function cannot be the instance that has been disposed.");return g}}class ii{_pointer;_bytes;_func;constructor(m,g,w){this._pointer=m,this._func=w,this._bytes=l$1._api.HEAPU8.subarray(m,m+g)}func(m){return m._bytes===void 0?m._func(new Uint8Array):m._func(m._bytes)}dispose(){this._pointer=l$1._api._MagickMemory_Relinquish(this._pointer)}}class ni{instance;type;constructor(m,g){this.instance=l$1._api._malloc(m),this.type=g,l$1._api.setValue(this.instance,0,this.type)}get ptr(){return this.instance}get value(){return l$1._api.getValue(this.instance,this.type)}}class Re extends ni{constructor(){super(4,"i32")}static use(m){const g=new Re;try{return m(g)}finally{l$1._api._free(g.ptr)}}}let E$1=class qn{pointer;constructor(m){this.pointer=m}get ptr(){return this.pointer.ptr}check(m,g){return this.isError()?g():m()}static usePointer(m,g){return Re.use(w=>{const D=m(w.ptr);return qn.checkException(w,D,g)})}static use(m,g){return Re.use(w=>{const D=m(new qn(w));return qn.checkException(w,D,g)})}static checkException(m,g,w){if(!qn.isRaised(m))return g;const D=qn.getErrorSeverity(m.value);if(D>=tr.Error)qn.throw(m,D);else if(w!==void 0){const P=qn.createError(m.value,D);w(P)}else qn.dispose(m);return g}isError(){return qn.isRaised(this.pointer)?qn.getErrorSeverity(this.pointer.value)>=tr.Error:!1}static getErrorSeverity(m){return l$1._api._MagickExceptionHelper_Severity(m)}static isRaised(m){return m.value!==0}static throw(m,g){const w=qn.createError(m.value,g);throw qn.dispose(m),w}static createError(m,g){const w=qn.getMessage(m),D=new Y$2(w,g),P=l$1._api._MagickExceptionHelper_RelatedCount(m);if(P===0)return D;const F=[];for(let U=0;U<P;U++){const H=l$1._api._MagickExceptionHelper_Related(m,U),q=qn.getErrorSeverity(H),X=qn.createError(H,q);F.push(X)}return D._setRelatedErrors(F),D}static getMessage(m){const g=l$1._api._MagickExceptionHelper_Message(m),w=l$1._api._MagickExceptionHelper_Description(m);let D=ce(g,"Unknown error");return w!==0&&(D+=`(${l$1._api.UTF8ToString(w)})`),D}static dispose(m){l$1._api._MagickExceptionHelper_Dispose(m.value)}};class qe{disposeMethod;instance;constructor(m,g){this.instance=m,this.disposeMethod=g}get _instance(){if(this.instance>0)return this.instance;throw this.instance===-1&&this._instanceNotInitialized(),new Y$2("instance is disposed")}set _instance(m){this.disposeInstance(this.instance),this.instance=m}dispose(){this.instance=this.disposeInstance(this.instance)}_instanceNotInitialized(){throw new Y$2("instance is not initialized")}_setInstance(m,g){return g.check(()=>this.instance===0?!1:(this.dispose(),this.instance=m,!0),()=>(this.disposeInstance(m),!0))}disposeInstance(m){return m>0&&(this.onDispose!==void 0&&this.onDispose(),this.disposeMethod(m)),0}}class _r{constructor(m,g,w,D,P,F,U){this.ascent=m,this.descent=g,this.maxHorizontalAdvance=w,this.textHeight=D,this.textWidth=P,this.underlinePosition=F,this.underlineThickness=U}ascent;descent;maxHorizontalAdvance;textHeight;textWidth;underlinePosition;underlineThickness;static _create(m){if(m==0)return null;try{const g=l$1._api._TypeMetric_Ascent_Get(m),w=l$1._api._TypeMetric_Descent_Get(m),D=l$1._api._TypeMetric_MaxHorizontalAdvance_Get(m),P=l$1._api._TypeMetric_TextHeight_Get(m),F=l$1._api._TypeMetric_TextWidth_Get(m),U=l$1._api._TypeMetric_UnderlinePosition_Get(m),H=l$1._api._TypeMetric_UnderlineThickness_Get(m);return new _r(g,w,D,P,F,U,H)}finally{l$1._api._TypeMetric_Dispose(m)}}}function Or(d,m){if(d.byteLength===0)throw new Y$2("The specified array cannot be empty");let g=0;try{return g=l$1._api._malloc(d.byteLength),l$1._api.HEAPU8.set(d,g),m(g)}finally{g!==0&&l$1._api._free(g)}}function Et(d,m){if(d.length===0)throw new Y$2("The specified array cannot be empty");const g=d.length*8;let w=0;try{w=l$1._api._malloc(g);const D=new ArrayBuffer(g),P=new Float64Array(D);for(let F=0;F<d.length;F++)P[F]=d[F];return l$1._api.HEAPU8.set(new Int8Array(D),w),m(w)}finally{w!==0&&l$1._api._free(w)}}function co(d,m){if(d.byteLength===0)throw new Y$2("The specified array cannot be empty");let g=0;try{return g=l$1._api._malloc(d.byteLength),l$1._api.HEAPU8.set(d,g),m(g)}finally{g!==0&&l$1._api._free(g)}}class Tt extends qe{constructor(m){const g=m.settings._drawing._use(D=>l$1._api._DrawingWand_Create(m._instance,D._instance)),w=l$1._api._DrawingWand_Dispose;super(g,w)}affine(m,g,w,D,P,F){E$1.usePointer(U=>{l$1._api._DrawingWand_Affine(this._instance,m,g,w,D,P,F,U)})}borderColor(m){E$1.usePointer(g=>{m._use(w=>{l$1._api._DrawingWand_BorderColor(this._instance,w,g)})})}color(m,g,w){E$1.usePointer(D=>{l$1._api._DrawingWand_Color(this._instance,m,g,w,D)})}draw(m){m.forEach(g=>{g.draw(this)}),E$1.usePointer(g=>{l$1._api._DrawingWand_Render(this._instance,g)})}fillColor(m){E$1.usePointer(g=>{m._use(w=>{l$1._api._DrawingWand_FillColor(this._instance,w,g)})})}fillOpacity(m){E$1.usePointer(g=>{l$1._api._DrawingWand_FillOpacity(this._instance,m,g)})}fillRule(m){E$1.usePointer(g=>{l$1._api._DrawingWand_FillRule(this._instance,m,g)})}font(m){E$1.usePointer(g=>{A$1(m,w=>{l$1._api._DrawingWand_Font(this._instance,w,g)})})}fontPointSize(m){E$1.usePointer(g=>{l$1._api._DrawingWand_FontPointSize(this._instance,m,g)})}fontTypeMetrics(m,g){return E$1.usePointer(w=>A$1(m,D=>{const P=l$1._api._DrawingWand_FontTypeMetrics(this._instance,D,g?1:0,w);return _r._create(P)}))}gravity(m){E$1.usePointer(g=>{l$1._api._DrawingWand_Gravity(this._instance,m,g)})}line(m,g,w,D){E$1.usePointer(P=>{l$1._api._DrawingWand_Line(this._instance,m,g,w,D,P)})}pathFinish(){E$1.usePointer(m=>{l$1._api._DrawingWand_PathFinish(this._instance,m)})}pathLineToAbs(m,g){E$1.usePointer(w=>{l$1._api._DrawingWand_PathLineToAbs(this._instance,m,g,w)})}pathLineToRel(m,g){E$1.usePointer(w=>{l$1._api._DrawingWand_PathLineToRel(this._instance,m,g,w)})}pathMoveToAbs(m,g){E$1.usePointer(w=>{l$1._api._DrawingWand_PathMoveToAbs(this._instance,m,g,w)})}pathMoveToRel(m,g){E$1.usePointer(w=>{l$1._api._DrawingWand_PathMoveToRel(this._instance,m,g,w)})}pathStart(){E$1.usePointer(m=>{l$1._api._DrawingWand_PathStart(this._instance,m)})}point(m,g){E$1.usePointer(w=>{l$1._api._DrawingWand_Point(this._instance,m,g,w)})}rectangle(m,g,w,D){E$1.usePointer(P=>{l$1._api._DrawingWand_Rectangle(this._instance,m,g,w,D,P)})}roundRectangle(m,g,w,D,P,F){E$1.usePointer(U=>{l$1._api._DrawingWand_RoundRectangle(this._instance,m,g,w,D,P,F,U)})}strokeColor(m){E$1.usePointer(g=>{m._use(w=>{l$1._api._DrawingWand_StrokeColor(this._instance,w,g)})})}strokeDashArray(m){E$1.usePointer(g=>{Et(m,w=>{l$1._api._DrawingWand_StrokeDashArray(this._instance,w,m.length,g)})})}strokeDashOffset(m){E$1.usePointer(g=>{l$1._api._DrawingWand_StrokeDashOffset(this._instance,m,g)})}strokeWidth(m){E$1.usePointer(g=>{l$1._api._DrawingWand_StrokeWidth(this._instance,m,g)})}text(m,g,w){E$1.usePointer(D=>{A$1(w,P=>{l$1._api._DrawingWand_Text(this._instance,m,g,P,D)})})}textAlignment(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextAlignment(this._instance,m,g)})}textAntialias(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextAntialias(this._instance,m?1:0,g)})}textDecoration(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextDecoration(this._instance,m,g)})}textInterlineSpacing(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextInterlineSpacing(this._instance,m,g)})}textInterwordspacing(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextInterwordSpacing(this._instance,m,g)})}textKerning(m){E$1.usePointer(g=>{l$1._api._DrawingWand_TextKerning(this._instance,m,g)})}textUnderColor(m){E$1.usePointer(g=>{m._use(w=>{l$1._api._DrawingWand_TextUnderColor(this._instance,w,g)})})}static _use(m,g){const w=new Tt(m);return le._disposeAfterExecution(w,g)}}class cr extends ni{constructor(){super(8,"double")}static use(m){const g=new cr;try{return m(g)}finally{l$1._api._free(g.ptr)}}}const O$1={Undefined:0,Northwest:1,North:2,Northeast:3,West:4,Center:5,East:6,Southwest:7,South:8,Southeast:9};function*lo(d){for(const m of d)switch(m){case O$1.North:yield"north";break;case O$1.Northeast:yield"north",yield"east";break;case O$1.Northwest:yield"north",yield"west";break;case O$1.East:yield"east";break;case O$1.West:yield"west";break;case O$1.South:yield"south";break;case O$1.Southeast:yield"south",yield"east";break;case O$1.Southwest:yield"south",yield"west"}}function uo(d){switch(d){case O$1.North:return"north";case O$1.Northeast:return"northeast";case O$1.Northwest:return"northwest";case O$1.East:return"east";case O$1.West:return"west";case O$1.South:return"south";case O$1.Southeast:return"southeast";case O$1.Southwest:return"southwest";case O$1.Center:return"center";default:return}}class bt{constructor(m,g,w){this.meanErrorPerPixel=m,this.normalizedMeanError=g,this.normalizedMaximumError=w}meanErrorPerPixel;normalizedMaximumError;normalizedMeanError;static _create(m){const g=l$1._api._MagickImage_MeanErrorPerPixel_Get(m._instance),w=l$1._api._MagickImage_NormalizedMeanError_Get(m._instance),D=l$1._api._MagickImage_NormalizedMaximumError_Get(m._instance);return new bt(g,w,D)}}const Le={Unknown:"UNKNOWN",ThreeFr:"3FR",ThreeG2:"3G2",ThreeGp:"3GP",A:"A",Aai:"AAI",Ai:"AI",APng:"APNG",Art:"ART",Arw:"ARW",Ashlar:"ASHLAR",Avci:"AVCI",Avi:"AVI",Avif:"AVIF",Avs:"AVS",B:"B",Bayer:"BAYER",Bayera:"BAYERA",Bgr:"BGR",Bgra:"BGRA",Bgro:"BGRO",Bmp:"BMP",Bmp2:"BMP2",Bmp3:"BMP3",Brf:"BRF",C:"C",Cal:"CAL",Cals:"CALS",Canvas:"CANVAS",Caption:"CAPTION",Cin:"CIN",Cip:"CIP",Clip:"CLIP",Cmyk:"CMYK",Cmyka:"CMYKA",Cr2:"CR2",Cr3:"CR3",Crw:"CRW",Cube:"CUBE",Cur:"CUR",Cut:"CUT",Data:"DATA",Dcm:"DCM",Dcr:"DCR",Dcraw:"DCRAW",Dcx:"DCX",Dds:"DDS",Dfont:"DFONT",Dng:"DNG",Dpx:"DPX",Dxt1:"DXT1",Dxt5:"DXT5",Epdf:"EPDF",Epi:"EPI",Eps:"EPS",Eps2:"EPS2",Eps3:"EPS3",Epsf:"EPSF",Epsi:"EPSI",Ept:"EPT",Ept2:"EPT2",Ept3:"EPT3",Erf:"ERF",Exr:"EXR",Farbfeld:"FARBFELD",Fax:"FAX",Ff:"FF",Fff:"FFF",File:"FILE",Fits:"FITS",Fl32:"FL32",Flv:"FLV",Fractal:"FRACTAL",Ftp:"FTP",Fts:"FTS",Ftxt:"FTXT",G:"G",G3:"G3",G4:"G4",Gif:"GIF",Gif87:"GIF87",Gradient:"GRADIENT",Gray:"GRAY",Graya:"GRAYA",Group4:"GROUP4",Hald:"HALD",Hdr:"HDR",Heic:"HEIC",Heif:"HEIF",Histogram:"HISTOGRAM",Hrz:"HRZ",Htm:"HTM",Html:"HTML",Http:"HTTP",Https:"HTTPS",Icb:"ICB",Ico:"ICO",Icon:"ICON",Icn:"ICN",Iiq:"IIQ",Info:"INFO",Inline:"INLINE",Ipl:"IPL",Isobrl:"ISOBRL",Isobrl6:"ISOBRL6",J2c:"J2C",J2k:"J2K",Jng:"JNG",Jnx:"JNX",Jp2:"JP2",Jpc:"JPC",Jpe:"JPE",Jpeg:"JPEG",Jpg:"JPG",Jpm:"JPM",Jps:"JPS",Jpt:"JPT",Json:"JSON",Jxl:"JXL",K:"K",K25:"K25",Kdc:"KDC",Label:"LABEL",M:"M",M2v:"M2V",M4v:"M4V",Mac:"MAC",Map:"MAP",Mask:"MASK",Mat:"MAT",Matte:"MATTE",Mdc:"MDC",Mef:"MEF",Miff:"MIFF",Mkv:"MKV",Mng:"MNG",Mono:"MONO",Mov:"MOV",Mos:"MOS",Mp4:"MP4",Mpc:"MPC",Mpeg:"MPEG",Mpg:"MPG",Mpo:"MPO",Mrw:"MRW",Msl:"MSL",Msvg:"MSVG",Mtv:"MTV",Mvg:"MVG",Nef:"NEF",Nrw:"NRW",Null:"NULL",O:"O",Ora:"ORA",Orf:"ORF",Otb:"OTB",Otf:"OTF",Pal:"PAL",Palm:"PALM",Pam:"PAM",Pango:"PANGO",Pattern:"PATTERN",Pbm:"PBM",Pcd:"PCD",Pcds:"PCDS",Pcl:"PCL",Pct:"PCT",Pcx:"PCX",Pdb:"PDB",Pdf:"PDF",Pdfa:"PDFA",Pef:"PEF",Pes:"PES",Pfa:"PFA",Pfb:"PFB",Pfm:"PFM",Pgm:"PGM",Pgx:"PGX",Phm:"PHM",Picon:"PICON",Pict:"PICT",Pix:"PIX",Pjpeg:"PJPEG",Plasma:"PLASMA",Png:"PNG",Png00:"PNG00",Png24:"PNG24",Png32:"PNG32",Png48:"PNG48",Png64:"PNG64",Png8:"PNG8",Pnm:"PNM",Pocketmod:"POCKETMOD",Ppm:"PPM",Ps:"PS",Ps2:"PS2",Ps3:"PS3",Psb:"PSB",Psd:"PSD",Ptif:"PTIF",Pwp:"PWP",Qoi:"QOI",R:"R",RadialGradient:"RADIAL-GRADIENT",Raf:"RAF",Ras:"RAS",Raw:"RAW",Rgb:"RGB",Rgb565:"RGB565",Rgba:"RGBA",Rgbo:"RGBO",Rgf:"RGF",Rla:"RLA",Rle:"RLE",Rmf:"RMF",Rw2:"RW2",Rwl:"RWL",Scr:"SCR",Screenshot:"SCREENSHOT",Sct:"SCT",Sf3:"SF3",Sfw:"SFW",Sgi:"SGI",Shtml:"SHTML",Six:"SIX",Sixel:"SIXEL",SparseColor:"SPARSE-COLOR",Sr2:"SR2",Srf:"SRF",Srw:"SRW",Stegano:"STEGANO",Sti:"STI",StrImg:"STRIMG",Sun:"SUN",Svg:"SVG",Svgz:"SVGZ",Text:"TEXT",Tga:"TGA",Thumbnail:"THUMBNAIL",Tif:"TIF",Tiff:"TIFF",Tiff64:"TIFF64",Tile:"TILE",Tim:"TIM",Tm2:"TM2",Ttc:"TTC",Ttf:"TTF",Txt:"TXT",Ubrl:"UBRL",Ubrl6:"UBRL6",Uil:"UIL",Uyvy:"UYVY",Vda:"VDA",Vicar:"VICAR",Vid:"VID",Viff:"VIFF",Vips:"VIPS",Vst:"VST",WebM:"WEBM",WebP:"WEBP",Wbmp:"WBMP",Wmv:"WMV",Wpg:"WPG",X3f:"X3F",Xbm:"XBM",Xc:"XC",Xcf:"XCF",Xpm:"XPM",Xps:"XPS",Xv:"XV",Y:"Y",Yaml:"YAML",Ycbcr:"YCBCR",Ycbcra:"YCBCRA",Yuv:"YUV"},Pt={Merge:13,Flatten:14,Mosaic:15,Trimbounds:16};class ho extends qe{constructor(m){const g=l$1._api._DrawingSettings_Create(),w=l$1._api._DrawingSettings_Dispose;super(g,w);const D=m.affine;if(D!==void 0&&l$1._api._DrawingSettings_SetAffine(this._instance,D.scaleX,D.scaleY,D.shearX,D.shearY,D.translateX,D.translateY),m.borderColor!==void 0&&m.borderColor._use(F=>{l$1._api._DrawingSettings_BorderColor_Set(this._instance,F)}),m.fillColor!==void 0&&m.fillColor._use(F=>{l$1._api._DrawingSettings_FillColor_Set(this._instance,F)}),m.fillRule!==void 0&&l$1._api._DrawingSettings_FillRule_Set(this._instance,m.fillRule),m.font!==void 0){const F=Ae._getFontFileName(m.font);A$1(F,U=>{l$1._api._DrawingSettings_Font_Set(this._instance,U)})}m.fontPointsize!==void 0&&l$1._api._DrawingSettings_FontPointsize_Set(this._instance,m.fontPointsize),m.strokeColor!==void 0&&m.strokeColor._use(F=>{l$1._api._DrawingSettings_StrokeColor_Set(this._instance,F)});const P=m.strokeDashArray;P!==void 0&&Et(P,F=>{l$1._api._DrawingSettings_SetStrokeDashArray(this._instance,F,P.length)}),m.strokeDashOffset!==void 0&&l$1._api._DrawingSettings_StrokeDashOffset_Set(this._instance,m.strokeDashOffset),m.strokeWidth!==void 0&&l$1._api._DrawingSettings_StrokeWidth_Set(this._instance,m.strokeWidth),m.textAntiAlias!==void 0&&l$1._api._DrawingSettings_TextAntiAlias_Set(this._instance,m.textAntiAlias?1:0),m.textGravity!==void 0&&l$1._api._DrawingSettings_TextGravity_Set(this._instance,m.textGravity),m.textKerning!==void 0&&l$1._api._DrawingSettings_TextKerning_Set(this._instance,m.textKerning),m.textUnderColor!==void 0&&m.textUnderColor._use(F=>{l$1._api._DrawingSettings_TextUnderColor_Set(this._instance,F)})}setFillColor(m){m!==void 0?m._use(g=>{l$1._api._DrawingSettings_FillColor_Set(this._instance,g)}):l$1._api._DrawingSettings_FillColor_Set(this._instance,0)}setFillPattern(m){E$1.usePointer(g=>{m!==void 0?l$1._api._DrawingSettings_SetFillPattern(this._instance,m._instance,g):l$1._api._DrawingSettings_SetFillPattern(this._instance,0,g)})}}class go{affine;borderColor;backgroundColor;fillColor;fillRule;font;fontPointsize;strokeColor;strokeDashArray;strokeDashOffset;strokeWidth;textAntiAlias;textGravity;textKerning;textUnderColor;_use(m){const g=new ho(this);return le._disposeAfterExecution(g,m)}}const fo={Undefined:0};class ai extends qe{constructor(m){const g=l$1._api._MagickSettings_Create(),w=l$1._api._MagickSettings_Dispose;if(super(g,w),m._colorFuzz!==void 0&&l$1._api._MagickSettings_SetColorFuzz(this._instance,m._colorFuzz),m._fileName!==void 0&&A$1(m._fileName,D=>{l$1._api._MagickSettings_SetFileName(this._instance,D)}),m._ping&&l$1._api._MagickSettings_SetPing(this._instance,1),m._quality!==void 0&&l$1._api._MagickSettings_SetQuality(this._instance,m._quality),m.antiAlias!==void 0&&l$1._api._MagickSettings_AntiAlias_Set(this._instance,m.antiAlias?1:0),m.backgroundColor!==void 0&&m.backgroundColor._use(D=>{l$1._api._MagickSettings_BackgroundColor_Set(this._instance,D)}),m.colorSpace!==void 0&&l$1._api._MagickSettings_ColorSpace_Set(this._instance,m.colorSpace),m.colorType!==void 0&&l$1._api._MagickSettings_ColorType_Set(this._instance,m.colorType),m.compression!==void 0&&l$1._api._MagickSettings_Compression_Set(this._instance,m.compression),m.debug!==void 0&&l$1._api._MagickSettings_Debug_Set(this._instance,m.debug?1:0),m.density!==void 0){const D=m.density.toString();A$1(D,P=>{l$1._api._MagickSettings_Density_Set(this._instance,P)})}if(m.depth!==void 0&&l$1._api._MagickSettings_Depth_Set(this._instance,m.depth),m.endian!==void 0&&l$1._api._MagickSettings_Endian_Set(this._instance,m.endian),m.fillColor!==void 0&&this.setOption("fill",m.fillColor.toString()),m.font!==void 0){const D=Ae._getFontFileName(m.font);A$1(D,P=>{l$1._api._MagickSettings_SetFont(this._instance,P)})}m.fontPointsize!==void 0&&l$1._api._MagickSettings_FontPointsize_Set(this._instance,m.fontPointsize),m.format!==void 0&&A$1(m.format,D=>{l$1._api._MagickSettings_Format_Set(this._instance,D)}),m.interlace!==void 0&&l$1._api._MagickSettings_Interlace_Set(this._instance,m.interlace),m.page!==void 0&&A$1(m.page.toString(),D=>{l$1._api._MagickSettings_SetPage(this._instance,D)}),m.strokeColor!==void 0&&this.setOption("stroke",m.strokeColor.toString()),m.strokeWidth!==void 0&&this.setOption("strokeWidth",m.strokeWidth.toString()),m.textInterlineSpacing!==void 0&&this.setOption("interline-spacing",m.textInterlineSpacing.toString());for(const D in m._options)this.setOption(D,m._options[D])}setOption(m,g){A$1(m,w=>{A$1(g,D=>{l$1._api._MagickSettings_SetOption(this._instance,w,D)})})}}class lt{_colorFuzz;_drawing=new go;_fileName;_onArtifact;_options={};_ping=!1;_quality;get affine(){return this._drawing.affine}set affine(m){this._drawing.affine=m}antiAlias;backgroundColor;get borderColor(){return this._drawing.borderColor}set borderColor(m){this._drawing.borderColor=m}colorSpace;colorType;compression;debug;density;depth;endian;get fillColor(){return this._drawing.fillColor}set fillColor(m){this.setDefineAndArtifact("fill",m?.toString()),this._drawing.fillColor=m}get fillRule(){return this._drawing.fillRule??fo.Undefined}set fillRule(m){this._drawing.fillRule=m}get font(){return this._drawing.font}set font(m){this._drawing.font=m}get fontPointsize(){return this._drawing.fontPointsize}set fontPointsize(m){this._drawing.fontPointsize=m}format;interlace;page;get strokeColor(){return this._drawing.strokeColor}set strokeColor(m){this._drawing.strokeColor=m}get strokeDashArray(){return this._drawing.strokeDashArray}set strokeDashArray(m){this._drawing.strokeDashArray=m}get strokeDashOffset(){return this._drawing.strokeDashOffset}set strokeDashOffset(m){this._drawing.strokeDashOffset=m}get strokeWidth(){return this._drawing.strokeWidth}set strokeWidth(m){this.setDefineAndArtifact("stroke",m?.toString()),this._drawing.strokeWidth=m}get textAntiAlias(){return this._drawing.textAntiAlias}set textAntiAlias(m){this._drawing.textAntiAlias=m}textInterlineSpacing;get textKerning(){return this._drawing.textKerning}set textKerning(m){this.setDefineAndArtifact("kerning",m?.toString()),this._drawing.textKerning=m}get textGravity(){return this._drawing.textGravity}set textGravity(m){this.setDefineAndArtifact("gravity",uo(m)),this._drawing.textGravity=m}get textUnderColor(){return this._drawing.textUnderColor}set textUnderColor(m){this._drawing.textUnderColor=m}getDefine(m,g){return g!==void 0?this._options[`${m}:${g}`]??null:this._options[m]??null}removeDefine(m,g){if(g===void 0)delete this._options[m];else{const w=this.parseDefine(m,g);delete this._options[w]}}setDefine(m,g,w){if(w===void 0)this._options[m]=g;else{const D=this.parseDefine(m,g);typeof w=="string"?this._options[D]=w:typeof w=="number"?this._options[D]=w.toString():this._options[D]=w?"true":"false"}}setDefines(m){m.getDefines().forEach(g=>{g!==void 0&&this.setDefine(g.format,g.name,g.value)})}_clone(){const m=new lt;return Object.assign(m,this),m}_use(m){const g=new ai(this);return le._disposeAfterExecution(g,m)}parseDefine(m,g){return m===Le.Unknown?g:`${m}:${g}`}setDefineAndArtifact(m,g){g===void 0?this.removeDefine(m):this.setDefine(m,g),this._onArtifact!==void 0&&this._onArtifact(m,g)}}class be extends lt{constructor(m){super(),Object.assign(this,m)}extractArea;frameIndex;frameCount;height;get syncImageWithExifProfile(){const m=this.getDefine("exif:sync-image");return m===null?!0:m.toLowerCase()==="true"}set syncImageWithExifProfile(m){this.setDefine("exif:sync-image",m.toString())}get syncImageWithTiffProperties(){const m=this.getDefine("tiff:sync-image");return m===null?!0:m.toLowerCase()==="true"}set syncImageWithTiffProperties(m){this.setDefine("tiff:sync-image",m.toString())}width;_use(m){const g=new ai(this),w=this.getSize();if(w!==""&&A$1(w,D=>{l$1._api._MagickSettings_SetSize(g._instance,D)}),this.frameIndex!==void 0||this.frameCount!==void 0){const D=this.frameIndex??0,P=this.frameCount??1;l$1._api._MagickSettings_SetScene(g._instance,D),l$1._api._MagickSettings_SetNumberScenes(g._instance,P);const F=this.frameCount!==void 0?`${D}-${D+P}`:D.toString();A$1(F.toString(),U=>{l$1._api._MagickSettings_SetScenes(g._instance,U)})}return this.extractArea!==void 0&&A$1(this.extractArea.toString(),D=>{l$1._api._MagickSettings_Extract_Set(g._instance,D)}),le._disposeAfterExecution(g,m)}getSize(){return this.width!==void 0&&this.height!==void 0?`${this.width}x${this.height}`:this.width!==void 0?`${this.width}x`:this.height!==void 0?`x${this.height}`:""}}const si={No:1,Riemersma:2};class po extends qe{constructor(m){const g=l$1._api._QuantizeSettings_Create(),w=l$1._api._QuantizeSettings_Dispose;super(g,w),l$1._api._QuantizeSettings_SetColors(this._instance,m.colors),l$1._api._QuantizeSettings_SetColorSpace(this._instance,m.colorSpace),l$1._api._QuantizeSettings_SetDitherMethod(this._instance,m.ditherMethod??si.No),l$1._api._QuantizeSettings_SetMeasureErrors(this._instance,m.measureErrors?1:0),l$1._api._QuantizeSettings_SetTreeDepth(this._instance,m.treeDepth)}}class ir{constructor(){this.colors=256,this.colorSpace=T$1.Undefined,this.ditherMethod=si.Riemersma,this.measureErrors=!1,this.treeDepth=0}colors;colorSpace;ditherMethod;measureErrors;treeDepth;_use(m){const g=new po(this);return le._disposeAfterExecution(g,m)}}class Ee{_image;_names=[];constructor(m){this._image=m}setArtifact(m,g){this._names.push(m),this._image.setArtifact(m,g)}static use(m,g){const w=new Ee(m);try{return g(w)}finally{w.dispose()}}dispose(){for(const m of this._names)this._image.removeArtifact(m)}}class ke extends Array{constructor(){super()}static create(m){const g=ke.createObject();return m!==void 0&&g.read(m),g}dispose(){let m=this.pop();for(;m!==void 0;)m.dispose(),m=this.pop()}appendHorizontally(m){return this.createImage((g,w)=>l$1._api._MagickImageCollection_Append(g,0,w.ptr),m)}appendVertically(m){return this.createImage((g,w)=>l$1._api._MagickImageCollection_Append(g,1,w.ptr),m)}clone(m){return ke.use(g=>{for(let w=0;w<this.length;w++)g.push(ie._clone(this[w]));return m(g)})}coalesce(){this.replaceImages((m,g)=>l$1._api._MagickImageCollection_Coalesce(m,g.ptr))}combine(m,g){let w=g,D=T$1.sRGB;return typeof m=="number"?D=m:w=m,this.createImage((P,F)=>l$1._api._MagickImageCollection_Combine(P,D,F.ptr),w)}complex(m,g){return Ee.use(this[0],w=>(m._setArtifacts(w),this.createImage((D,P)=>l$1._api._MagickImageCollection_Complex(D,m.complexOperator,P.ptr),g)))}deconstruct(){this.replaceImages((m,g)=>l$1._api._MagickImageCollection_Deconstruct(m,g.ptr))}evaluate(m,g){return this.createImage((w,D)=>l$1._api._MagickImageCollection_Evaluate(w,m,D.ptr),g)}flatten(m){return this.mergeImages(Pt.Flatten,m)}fx(m,g,w){this.throwIfEmpty();let D=j.All,P=w;return typeof g=="number"?D=g:P=g,A$1(m,F=>this.createImage((U,H)=>l$1._api._MagickImageCollection_Fx(U,F,D,H.ptr),P))}merge(m){return this.mergeImages(Pt.Merge,m)}montage(m,g){return this.throwIfEmpty(),this.attachImages(w=>{const D=m._use(P=>E$1.use(F=>{const U=l$1._api._MagickImageCollection_Montage(w,P._instance,F.ptr);return this.checkResult(U,F)}));return ke._createFromImages(D,this.getSettings(),P=>{const F=m.transparentColor;return F!==void 0&&P.forEach(U=>{U.transparent(F)}),P.merge(g)})})}morph(m){if(this.length<2)throw new Y$2("operation requires at least two images");this.replaceImages((g,w)=>l$1._api._MagickImageCollection_Morph(g,m,w.ptr))}mosaic(m){return this.mergeImages(Pt.Mosaic,m)}optimize(){this.replaceImages((m,g)=>l$1._api._MagickImageCollection_Optimize(m,g.ptr))}optimizePlus(){this.replaceImages((m,g)=>l$1._api._MagickImageCollection_OptimizePlus(m,g.ptr))}optimizeTransparency(){this.throwIfEmpty(),this.attachImages(m=>{E$1.usePointer(g=>{l$1._api._MagickImageCollection_OptimizeTransparency(m,g)})})}ping(m,g){this.readOrPing(!0,m,g)}polynomial(m,g){return this.createImage((w,D)=>Et(m,P=>l$1._api._MagickImageCollection_Polynomial(w,P,m.length,D.ptr)),g)}quantize(m){this.throwIfEmpty();const g=m===void 0?new ir:m;return this.attachImages(w=>{g._use(D=>{E$1.usePointer(P=>{l$1._api._MagickImageCollection_Quantize(w,D._instance,P)})})}),g.measureErrors?bt._create(this[0]):null}read(m,g){this.readOrPing(!1,m,g)}remap(m,g){this.throwIfEmpty();const w=g===void 0?new ir:g;this.attachImages(D=>{w._use(P=>{E$1.use(F=>{l$1._api._MagickImageCollection_Remap(D,P._instance,m._instance,F.ptr)})})})}resetPage(){this.forEach(m=>{m.resetPage()})}smushHorizontal(m,g){return this.smush(m,!1,g)}smushVertical(m,g){return this.smush(m,!0,g)}trimBounds(){this.mergeImages(Pt.Trimbounds,()=>{})}static use(m){const g=ke.create();return le._disposeAfterExecution(g,m)}write(m,g){this.throwIfEmpty();let w=0,D=0;const P=this[0],F=this.getSettings();g!==void 0?F.format=m:(g=m,F.format=P.format),E$1.use(H=>{Re.use(q=>{F._use(X=>{this.attachImages(V=>{w=l$1._api._MagickImage_WriteBlob(V,X._instance,q.ptr,H.ptr),D=q.value})})})});const U=new ii(w,D,g);return le._disposeAfterExecution(U,U.func)}static _createFromImages(m,g,w){const D=ke.createObject();return D.addImages(m,g._clone()),w(D)}addImages(m,g){g.format=Le.Unknown;let w=m;for(;w!==0;){const D=l$1._api._MagickImage_GetNext(w);l$1._api._MagickImage_SetNext(w,0),this.push(ie._createFromImage(w,g)),w=D}}attachImages(m){try{for(let g=0;g<this.length-1;g++)l$1._api._MagickImage_SetNext(this[g]._instance,this[g+1]._instance);return m(this[0]._instance)}finally{for(let g=0;g<this.length-1;g++)l$1._api._MagickImage_SetNext(this[g]._instance,0)}}checkResult(m,g){return g.check(()=>m,()=>(l$1._api._MagickImageCollection_Dispose(m),0))}static createObject(){return Object.create(ke.prototype)}createImage(m,g){this.throwIfEmpty();const w=this.attachImages(D=>E$1.use(P=>{const F=m(D,P);return this.checkResult(F,P)}));return ie._createFromImage(w,this.getSettings())._use(g)}getSettings(){return this[0]._getSettings()._clone()}mergeImages(m,g){return this.createImage((w,D)=>l$1._api._MagickImageCollection_Merge(w,m,D.ptr),g)}readOrPing(m,g,w){this.dispose(),E$1.use(D=>{const P=w===void 0?new be:new be(w);P._ping=m,typeof g=="string"?(P._fileName=g,P._use(F=>{const U=l$1._api._MagickImageCollection_ReadFile(F._instance,D.ptr);this.addImages(U,P)})):P._use(F=>{const U=g.byteLength;let H=0;try{H=l$1._api._malloc(U),l$1._api.HEAPU8.set(g,H);const q=l$1._api._MagickImageCollection_ReadBlob(F._instance,H,0,U,D.ptr);this.addImages(q,P)}finally{H!==0&&l$1._api._free(H)}})})}replaceImages(m){this.throwIfEmpty();const g=this.attachImages(D=>E$1.use(P=>{const F=m(D,P);return this.checkResult(F,P)})),w=this.getSettings()._clone();this.dispose(),this.addImages(g,w)}smush(m,g,w){return this.createImage((D,P)=>l$1._api._MagickImageCollection_Smush(D,m,g?1:0,P.ptr),w)}throwIfEmpty(){if(this.length===0)throw new Y$2("operation requires at least one image")}}class re{_value;constructor(m){this._value=m}static _fromQuantum(m){return new re(m/Fe.max*100)}multiply(m){return m*this._value/100}toDouble(){return this._value}toString(){return`${parseFloat(this._value.toFixed(2))}%`}_toQuantum(){return Fe.max*(this._value/100)}}class mo{static use(m,g,w){const D=l$1._api._MagickRectangle_Create();try{l$1._api._MagickRectangle_X_Set(D,g.x),l$1._api._MagickRectangle_Y_Set(D,g.y);let P=g.width,F=g.height;return g.isPercentage&&(P=new re(g.width).multiply(m.width),F=new re(g.height).multiply(m.height)),l$1._api._MagickRectangle_Width_Set(D,P),l$1._api._MagickRectangle_Height_Set(D,F),w(D)}finally{l$1._api._MagickRectangle_Dispose(D)}}}class vo{static _use(m,g,w){let D=0;try{return D=l$1._api._OffsetInfo_Create(),l$1._api._PrimaryInfo_X_Set(D,m),l$1._api._PrimaryInfo_Y_Set(D,g),w(D)}finally{l$1._api._free(D)}}}class Zr{_values;constructor(){this._values=new Array(7).fill(0)}get(m){return this._values[m]}set(m,g){this._values[m]=g}}class tt{_huPhashes=new Map;_hash="";channel;constructor(m,g,w){if(this.channel=m,typeof w=="number")for(let D=0;D<g.length;D++){const P=new Zr;for(let F=0;F<7;F++){const U=l$1._api._ChannelPerceptualHash_GetHuPhash(w,D,F);P.set(F,U)}this._huPhashes.set(g[D],P)}else this.parseHash(g,w)}huPhash(m,g){if(g<0||g>6)throw new Y$2("Invalid index specified");const w=this._huPhashes.get(m);if(w===void 0)throw new Y$2("Invalid color space specified");return w.get(g)}sumSquaredDistance(m){let g=0;return this._huPhashes.forEach((w,D)=>{for(let P=0;P<7;P++){const F=w.get(P),U=m.huPhash(D,P);g+=(F-U)*(F-U)}}),g}toString(){return this._hash==""&&this.setHash(),this._hash}parseHash(m,g){this._hash=g;let w=0;for(const D of m){const P=new Zr;for(let F=0;F<7;F++,w+=5){const U=Number.parseInt(g.substring(w,w+5),16);if(isNaN(U))throw new Y$2("Invalid hash specified");let H=U/tt.powerOfTen(U>>17);(U&65536)!=0&&(H=-H),P.set(F,H)}this._huPhashes.set(D,P)}}static powerOfTen(m){switch(m){case 2:return 100;case 3:return 1e3;case 4:return 1e4;case 5:return 1e5;case 6:return 1e6;default:return 10}}setHash(){this._hash="",this._huPhashes.forEach(m=>{for(let g=0;g<7;g++){let w=m.get(g),D=0;for(;D<7&&Math.abs(w*10)<65356;)w*=10,D++;D<<=1,D<0&&(D|=1),D=(D<<16)+Math.floor(w<0?-(w-.5):w+.5),this._hash+=D.toString(16)}})}}class Me{_red;_green;_blue;constructor(m,g,w){if(typeof m=="string"){const D=g??Me._defaultColorspaces();Me._validateColorSpaces(D);const P=35*D.length;if(m.length!==3*P)throw new Y$2("Invalid hash size");this._red=new tt(G.Red,D,m.substring(0,P)),this._blue=new tt(G.Blue,D,m.substring(P,P+P)),this._green=new tt(G.Green,D,m.substring(P+P))}else this._red=m,this._green=g,this._blue=w}static _create(m,g,w){if(w===0)throw new Y$2("The native operation failed to create an instance");const D=Me.createChannel(m,g,w,G.Red),P=Me.createChannel(m,g,w,G.Green),F=Me.createChannel(m,g,w,G.Blue);return new Me(D,P,F)}static _defaultColorspaces(){return[T$1.XyY,T$1.HSB]}static _validateColorSpaces(m){if(m.length<1||m.length>6)throw new Y$2("Invalid number of colorspaces, the minimum is 1 and the maximum is 6");if(new Set(m).size!==m.length)throw new Y$2("Specifying the same colorspace more than once is not allowed")}getChannel(m){switch(m){case G.Red:return this._red;case G.Green:return this._green;case G.Blue:return this._blue;default:return null}}sumSquaredDistance(m){const g=m.getChannel(G.Red),w=m.getChannel(G.Green),D=m.getChannel(G.Blue);if(g===null||w===null||D===null)throw new Y$2("The other perceptual hash should contain a red, green and blue channel.");return this._red.sumSquaredDistance(g)+this._green.sumSquaredDistance(w)+this._blue.sumSquaredDistance(D)}toString(){return this._red.toString()+this._green.toString()+this._blue.toString()}static createChannel(m,g,w,D){const P=l$1._api._PerceptualHash_GetInstance(m._instance,w,D);return new tt(D,g,P)}}class it extends qe{image;constructor(m){const g=E$1.usePointer(D=>l$1._api._PixelCollection_Create(m._instance,D)),w=l$1._api._PixelCollection_Dispose;super(g,w),this.image=m}static _create(m){return new it(m)}static _use(m,g){const w=new it(m);return le._disposeAfterExecution(w,g)}static _map(m,g,w){const D=new it(m);try{D.use(0,0,m.width,m.height,g,P=>{w(P)})}finally{D.dispose()}}getArea(m,g,w,D){return E$1.usePointer(P=>{const F=l$1._api._PixelCollection_GetArea(this._instance,m,g,w,D,P),U=w*D*this.image.channelCount;return l$1._api.HEAPU8.subarray(F,F+U)})}getReadOnlyArea(m,g,w,D){return E$1.usePointer(P=>{const F=l$1._api._PixelCollection_GetReadOnlyArea(this.image._instance,m,g,w,D,P),U=w*D*this.image.channelCount;return l$1._api.HEAPU8.subarray(F,F+U)})}getChannelIndex(m){return this.image._channelOffset(m)}getColor(m,g){const w=this.getArea(m,g,1,1),D=Array.from(w),P=this.image._channelOffset(G.Index);if(P>=0&&D.splice(P,1),D.length===0)return null;if(D.length===1)return new k$1(D[0],D[0],D[0]);if(D.length===2)return new k$1(D[0],D[0],D[0],D[1]);const F=this.image._channelOffset(G.Black)>=0,U=this.image._channelOffset(G.Alpha)>=0;return F?D.length===4||!U?new k$1(D[0],D[1],D[2],D[3],Fe.max):new k$1(D[0],D[1],D[2],D[3],D[4]):D.length===3||!U?new k$1(D[0],D[1],D[2]):new k$1(D[0],D[1],D[2],D[3])}getPixel(m,g){return this.getArea(m,g,1,1)}setArea(m,g,w,D,P){E$1.usePointer(F=>{const U=P instanceof Uint8Array?P:new Uint8Array(P);co(U,H=>{l$1._api._PixelCollection_SetArea(this._instance,m,g,w,D,H,U.length,F)})})}setPixel(m,g,w){w instanceof Uint8Array?this.setArea(m,g,1,1,w):this.setArea(m,g,1,1,w)}toByteArray(m,g,w,D,P){return this.use(m,g,w,D,P,F=>{if(F===0)return null;const U=w*D*P.length;return l$1._api.HEAPU8.slice(F,F+U)})}use(m,g,w,D,P,F){return A$1(P,U=>E$1.use(H=>{let q=l$1._api._PixelCollection_ToByteArray(this._instance,m,g,w,D,U,H.ptr);return H.check(()=>{const X=F(q);return q=l$1._api._MagickMemory_Relinquish(q),X},()=>(q=l$1._api._MagickMemory_Relinquish(q),null))}))}}const wo={Undefined:0},ko={Undefined:0};class Ve{constructor(m,g,w){this.x=m,this.y=g,this.z=w}x;y;z;static _create(m){return m===0?new Ve(0,0,0):new Ve(l$1._api._PrimaryInfo_X_Get(m),l$1._api._PrimaryInfo_Y_Get(m),l$1._api._PrimaryInfo_Z_Get(m))}_use(m){let g=0;try{g=l$1._api._PrimaryInfo_Create(),l$1._api._PrimaryInfo_X_Set(g,this.x),l$1._api._PrimaryInfo_Y_Set(g,this.y),l$1._api._PrimaryInfo_Z_Set(g,this.z),m(g)}finally{l$1._api._PrimaryInfo_Dispose(g)}}}class Mo{channel;depth;entropy;kurtosis;maximum;mean;minimum;skewness;standardDeviation;constructor(m,g){this.channel=m,this.depth=l$1._api._ChannelStatistics_Depth_Get(g),this.entropy=l$1._api._ChannelStatistics_Entropy_Get(g),this.kurtosis=l$1._api._ChannelStatistics_Kurtosis_Get(g),this.maximum=l$1._api._ChannelStatistics_Maximum_Get(g),this.mean=l$1._api._ChannelStatistics_Mean_Get(g),this.minimum=l$1._api._ChannelStatistics_Minimum_Get(g),this.skewness=l$1._api._ChannelStatistics_Skewness_Get(g),this.standardDeviation=l$1._api._ChannelStatistics_StandardDeviation_Get(g)}}class lr{_channels=new Map;get channels(){return Array.from(this._channels.keys())}composite(){return this._channels.get(G.Composite)}getChannel(m){const g=this._channels.get(m);return g!==void 0?g:null}static _create(m,g,w){const D=new lr;return m.channels.forEach(P=>{(w>>P&1)!=0&&D.addChannel(g,P)}),D.addChannel(g,G.Composite),D}addChannel(m,g){const w=l$1._api._Statistics_GetInstance(m,g);w!==0&&this._channels.set(g,new Mo(g,w))}}class yo{static toArray(m){if(m===0)return null;const g=l$1._api._StringInfo_Datum_Get(m),w=l$1._api._StringInfo_Length_Get(m);return l$1._api.HEAPU8.subarray(g,g+w)}}class ei{constructor(m){this.error=m}error}class ie extends qe{_settings;_progress;_warning;constructor(m,g){super(m,l$1._api._MagickImage_Dispose),this._settings=g,this._settings._onArtifact=this.onSettingsArtifactChanged.bind(this)}get animationDelay(){return l$1._api._MagickImage_AnimationDelay_Get(this._instance)}set animationDelay(m){l$1._api._MagickImage_AnimationDelay_Set(this._instance,m)}get animationIterations(){return l$1._api._MagickImage_AnimationIterations_Get(this._instance)}set animationIterations(m){l$1._api._MagickImage_AnimationIterations_Set(this._instance,m)}get animationTicksPerSecond(){return l$1._api._MagickImage_AnimationTicksPerSecond_Get(this._instance)}set animationTicksPerSecond(m){l$1._api._MagickImage_AnimationTicksPerSecond_Set(this._instance,m)}get artifactNames(){const m=[];l$1._api._MagickImage_ResetArtifactIterator(this._instance);let g=l$1._api._MagickImage_GetNextArtifactName(this._instance);for(;g!==0;)m.push(l$1._api.UTF8ToString(g)),g=l$1._api._MagickImage_GetNextArtifactName(this._instance);return m}get attributeNames(){const m=[];l$1._api._MagickImage_ResetAttributeIterator(this._instance);let g=l$1._api._MagickImage_GetNextAttributeName(this._instance);for(;g!==0;)m.push(l$1._api.UTF8ToString(g)),g=l$1._api._MagickImage_GetNextAttributeName(this._instance);return m}get backgroundColor(){const m=l$1._api._MagickImage_BackgroundColor_Get(this._instance);return k$1._create(m)}set backgroundColor(m){m._use(g=>{l$1._api._MagickImage_BackgroundColor_Set(this._instance,g)})}get baseHeight(){return l$1._api._MagickImage_BaseHeight_Get(this._instance)}get baseWidth(){return l$1._api._MagickImage_BaseWidth_Get(this._instance)}get blackPointCompensation(){return l$1._api._MagickImage_BlackPointCompensation_Get(this._instance)===1}set blackPointCompensation(m){l$1._api._MagickImage_BlackPointCompensation_Set(this._instance,m?1:0)}get borderColor(){const m=l$1._api._MagickImage_BorderColor_Get(this._instance);return k$1._create(m)}set borderColor(m){m._use(g=>{l$1._api._MagickImage_BorderColor_Set(this._instance,g)})}get boundingBox(){return this.useExceptionPointer(m=>{const g=l$1._api._MagickImage_BoundingBox_Get(this._instance,m),w=ae._fromRectangle(g);return w.width===0||w.height===0?null:w})}get channelCount(){return l$1._api._MagickImage_ChannelCount_Get(this._instance)}get channels(){const m=[];return[G.Red,G.Green,G.Blue,G.Black,G.Alpha].forEach(g=>{l$1._api._MagickImage_HasChannel(this._instance,g)&&m.push(g)}),m}get chromaticity(){return new ro(Ve._create(l$1._api._MagickImage_ChromaRed_Get(this._instance)),Ve._create(l$1._api._MagickImage_ChromaGreen_Get(this._instance)),Ve._create(l$1._api._MagickImage_ChromaBlue_Get(this._instance)),Ve._create(l$1._api._MagickImage_ChromaWhite_Get(this._instance)))}set chromaticity(m){m.blue._use(g=>l$1._api._MagickImage_ChromaBlue_Set(this._instance,g)),m.green._use(g=>l$1._api._MagickImage_ChromaGreen_Set(this._instance,g)),m.red._use(g=>l$1._api._MagickImage_ChromaRed_Set(this._instance,g)),m.white._use(g=>l$1._api._MagickImage_ChromaWhite_Set(this._instance,g))}get classType(){return l$1._api._MagickImage_ClassType_Get(this._instance)}set classType(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_ClassType_Set(this._instance,m,g)})}get colorFuzz(){return re._fromQuantum(l$1._api._MagickImage_ColorFuzz_Get(this._instance))}set colorFuzz(m){const g=m._toQuantum();l$1._api._MagickImage_ColorFuzz_Set(this._instance,g),this._settings._colorFuzz=g}get colormapSize(){return l$1._api._MagickImage_ColormapSize_Get(this._instance)}set colormapSize(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_ColormapSize_Set(this._instance,m,g)})}get colorSpace(){return l$1._api._MagickImage_ColorSpace_Get(this._instance)}set colorSpace(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_ColorSpace_Set(this._instance,m,g)})}get colorType(){return this.settings.colorType!==void 0?this.settings.colorType:l$1._api._MagickImage_ColorType_Get(this._instance)}set colorType(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_ColorType_Set(this._instance,m,g)})}get comment(){return this.getAttribute("comment")}set comment(m){m===null?this.removeAttribute("comment"):this.setAttribute("comment",m)}get compose(){return l$1._api._MagickImage_Compose_Get(this._instance)}set compose(m){l$1._api._MagickImage_Compose_Set(this._instance,m)}get compression(){return l$1._api._MagickImage_Compression_Get(this._instance)}get density(){return new rt(l$1._api._MagickImage_ResolutionX_Get(this._instance),l$1._api._MagickImage_ResolutionY_Get(this._instance),l$1._api._MagickImage_ResolutionUnits_Get(this._instance))}set density(m){l$1._api._MagickImage_ResolutionX_Set(this._instance,m.x),l$1._api._MagickImage_ResolutionY_Set(this._instance,m.y),l$1._api._MagickImage_ResolutionUnits_Set(this._instance,m.units)}get depth(){return l$1._api._MagickImage_Depth_Get(this._instance)}set depth(m){l$1._api._MagickImage_Depth_Set(this._instance,m)}get endian(){return l$1._api._MagickImage_Endian_Get(this._instance)}set endian(m){l$1._api._MagickImage_Endian_Set(this._instance,m)}get fileName(){const m=l$1._api._MagickImage_FileName_Get(this._instance);return m===0?null:l$1._api.UTF8ToString(m)}get filterType(){return l$1._api._MagickImage_FilterType_Get(this._instance)}set filterType(m){l$1._api._MagickImage_FilterType_Set(this._instance,m)}get format(){return ce(l$1._api._MagickImage_Format_Get(this._instance),"")}set format(m){A$1(m.toString(),g=>l$1._api._MagickImage_Format_Set(this._instance,g))}get gamma(){return l$1._api._MagickImage_Gamma_Get(this._instance)}get gifDisposeMethod(){return l$1._api._MagickImage_GifDisposeMethod_Get(this._instance)}set gifDisposeMethod(m){l$1._api._MagickImage_GifDisposeMethod_Set(this._instance,m)}get hasAlpha(){return this.toBool(l$1._api._MagickImage_HasAlpha_Get(this._instance))}set hasAlpha(m){this.useExceptionPointer(g=>{m&&this.alpha(to$1.Opaque),l$1._api._MagickImage_HasAlpha_Set(this._instance,this.fromBool(m),g)})}get height(){return l$1._api._MagickImage_Height_Get(this._instance)}get interlace(){return l$1._api._MagickImage_Interlace_Get(this._instance)}get isOpaque(){return this.useExceptionPointer(m=>this.toBool(l$1._api._MagickImage_IsOpaque_Get(this._instance,m)))}get interpolate(){return l$1._api._MagickImage_Interpolate_Get(this._instance)}set interpolate(m){l$1._api._MagickImage_Interpolate_Set(this._instance,m)}get label(){return this.getAttribute("label")}set label(m){m===null?this.removeAttribute("label"):this.setAttribute("label",m)}get matteColor(){const m=l$1._api._MagickImage_MatteColor_Get(this._instance);return k$1._create(m)}set matteColor(m){m._use(g=>{l$1._api._MagickImage_MatteColor_Set(this._instance,g)})}get metaChannelCount(){return l$1._api._MagickImage_MetaChannelCount_Get(this._instance)}set metaChannelCount(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_MetaChannelCount_Set(this._instance,m,g)})}get orientation(){return l$1._api._MagickImage_Orientation_Get(this._instance)}set orientation(m){l$1._api._MagickImage_Orientation_Set(this._instance,m)}get onProgress(){return this._progress}set onProgress(m){m!==void 0?se.setProgressDelegate(this):this.disposeProgressDelegate(),this._progress=m}get onWarning(){return this._warning}set onWarning(m){this._warning=m}get page(){const m=l$1._api._MagickImage_Page_Get(this._instance);return ae._fromRectangle(m)}set page(m){m._toRectangle(g=>{l$1._api._MagickImage_Page_Set(this._instance,g)})}get profileNames(){const m=[];l$1._api._MagickImage_ResetProfileIterator(this._instance);let g=l$1._api._MagickImage_GetNextProfileName(this._instance);for(;g!==0;)m.push(l$1._api.UTF8ToString(g)),g=l$1._api._MagickImage_GetNextProfileName(this._instance);return m}get quality(){return l$1._api._MagickImage_Quality_Get(this._instance)}set quality(m){let g=m<1?1:m;g=g>100?100:g,l$1._api._MagickImage_Quality_Set(this._instance,g),this._settings._quality=g}get renderingIntent(){return l$1._api._MagickImage_RenderingIntent_Get(this._instance)}set renderingIntent(m){l$1._api._MagickImage_RenderingIntent_Set(this._instance,m)}get settings(){return this._settings}get signature(){return this.useExceptionPointer(m=>ce(l$1._api._MagickImage_Signature_Get(this._instance,m)))}get totalColors(){return this.useExceptionPointer(m=>l$1._api._MagickImage_TotalColors_Get(this._instance,m))}get virtualPixelMethod(){return l$1._api._MagickImage_VirtualPixelMethod_Get(this._instance)}set virtualPixelMethod(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_VirtualPixelMethod_Set(this._instance,m,g)})}get width(){return l$1._api._MagickImage_Width_Get(this._instance)}adaptiveBlur(m,g){const w=this.valueOrDefault(m,0),D=this.valueOrDefault(g,1);this.useException(P=>{const F=l$1._api._MagickImage_AdaptiveBlur(this._instance,w,D,P.ptr);this._setInstance(F,P)})}adaptiveResize(m,g){const w=typeof m=="number"?new ae(0,0,m,g):m;this.useException(D=>{A$1(w.toString(),P=>{const F=l$1._api._MagickImage_AdaptiveResize(this._instance,P,D.ptr);this._setInstance(F,D)})})}adaptiveSharpen(m,g,w){let D=0;const P=g??1;let F=w??j.Undefined;m!==void 0&&(g===void 0?F=m:D=m),this.useException(U=>{const H=l$1._api._MagickImage_AdaptiveSharpen(this._instance,D,P,F,U.ptr);this._setInstance(H,U)})}adaptiveThreshold(m,g,w,D){const P=w instanceof re?w._toQuantum():0;let F=D??j.Undefined;typeof w=="number"&&(F=w),this.useException(U=>{const H=l$1._api._MagickImage_AdaptiveThreshold(this._instance,m,g,P,F,U.ptr);this._setInstance(H,U)})}addNoise(m,g,w){let D=1,P=w??j.Undefined;g!==void 0&&(w===void 0?P=g:D=g),this.useException(F=>{const U=l$1._api._MagickImage_AddNoise(this._instance,m,D,P,F.ptr);this._setInstance(U,F)})}affineTransform(m){this.useException(g=>{const w=l$1._api._MagickImage_AffineTransform(this._instance,m.scaleX,m.scaleY,m.shearX,m.shearY,m.translateX,m.translateY,g.ptr);this._setInstance(w,g)})}alpha(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_SetAlpha(this._instance,m,g)})}annotate(m,g,w,D){return this.useExceptionPointer(P=>this._settings._drawing._use(F=>{A$1(m,U=>{let H=null,q=O$1.Undefined,X=0;typeof g=="object"?(H=g.toString(),w!==void 0&&(q=w),D!==void 0&&(X=D)):(q=g,w!==void 0&&(X=w)),A$1(H,V=>{l$1._api._MagickImage_Annotate(this._instance,F._instance,U,V,q,X,P)})})}))}autoGamma(m){this.useExceptionPointer(g=>{const w=this.valueOrDefault(m,j.Composite);l$1._api._MagickImage_AutoGamma(this._instance,w,g)})}autoLevel(m){this.useExceptionPointer(g=>{const w=this.valueOrDefault(m,j.Undefined);l$1._api._MagickImage_AutoLevel(this._instance,w,g)})}autoOrient(){this.useException(m=>{const g=l$1._api._MagickImage_AutoOrient(this._instance,m.ptr);this._setInstance(g,m)})}autoThreshold(m){this.useException(g=>{l$1._api._MagickImage_AutoThreshold(this._instance,m,g.ptr)})}bilateralBlur(m,g,w,D){const P=this.valueOrComputedDefault(w,()=>Math.sqrt(m*m+g*g)),F=this.valueOrDefault(D,P*.25);this.useException(U=>{const H=l$1._api._MagickImage_BilateralBlur(this._instance,m,g,P,F,U.ptr);this._setInstance(H,U)})}blackThreshold(m,g){const w=this.valueOrDefault(g,j.Composite);this.useException(D=>{A$1(m.toString(),P=>{l$1._api._MagickImage_BlackThreshold(this._instance,P,w,D.ptr)})})}blueShift(m){const g=this.valueOrDefault(m,1.5);this.useException(w=>{const D=l$1._api._MagickImage_BlueShift(this._instance,g,w.ptr);this._setInstance(D,w)})}blur(m,g,w){let D=0;const P=this.valueOrDefault(g,1);let F=this.valueOrDefault(w,j.Undefined);m!==void 0&&(g===void 0?F=m:D=m),this.useException(U=>{const H=l$1._api._MagickImage_Blur(this._instance,D,P,F,U.ptr);this._setInstance(H,U)})}border(m,g){const w=m,D=this.valueOrDefault(g,m),P=new ae(0,0,w,D);this.useException(F=>{P._toRectangle(U=>{const H=l$1._api._MagickImage_Border(this._instance,U,F.ptr);this._setInstance(H,F)})})}brightnessContrast(m,g,w){const D=this.valueOrDefault(w,j.Undefined);this.useException(P=>{l$1._api._MagickImage_BrightnessContrast(this._instance,m.toDouble(),g.toDouble(),D,P.ptr)})}cannyEdge(m,g,w,D){const P=this.valueOrDefault(m,0),F=this.valueOrDefault(g,1),U=this.valueOrDefault(w,new re(10)).toDouble()/100,H=this.valueOrDefault(D,new re(30)).toDouble()/100;this.useException(q=>{const X=l$1._api._MagickImage_CannyEdge(this._instance,P,F,U,H,q.ptr);this._setInstance(X,q)})}charcoal(m,g){const w=m===void 0?0:m,D=g===void 0?1:g;this.useException(P=>{const F=l$1._api._MagickImage_Charcoal(this._instance,w,D,P.ptr);this._setInstance(F,P)})}chop(m){this.useException(g=>{m._toRectangle(w=>{const D=l$1._api._MagickImage_Chop(this._instance,w,g.ptr);this._setInstance(D,g)})})}chopHorizontal(m,g){this.chop(new ae(m,0,g,0))}chopVertical(m,g){this.chop(new ae(0,m,0,g))}clahe(m,g,w,D){this.useExceptionPointer(P=>{const F=m instanceof re?m.multiply(this.width):m,U=g instanceof re?g.multiply(this.height):g;l$1._api._MagickImage_Clahe(this._instance,F,U,w,D,P)})}clone(m){return ie._clone(this)._use(m)}cloneArea(m,g){return E$1.usePointer(w=>m._toRectangle(D=>vo._use(0,0,P=>{const F=l$1._api._MagickImage_CloneArea(this._instance,m.width,m.height,w);l$1._api._MagickImage_CopyPixels(F,this._instance,D,P,j.Undefined,w);const U=new ie(F,this._settings);return g(U)})))}clut(m,g,w){const D=this.valueOrDefault(g,ko.Undefined),P=this.valueOrDefault(w,j.Undefined);this.useExceptionPointer(F=>{l$1._api._MagickImage_Clut(this._instance,m._instance,D,P,F)})}colorAlpha(m){if(!this.hasAlpha)return;const g=ie.create();g.read(m,this.width,this.height),g.composite(this,er.SrcOver,new Te(0,0)),this._instance=g._instance}compare(m,g,w,D){const P=g instanceof so,F=P?g.metric:g;let U=w;D!==void 0&&(U=D);let H=j.Undefined;if(typeof U!="function")return U!==void 0&&(H=U),this.useExceptionPointer(X=>l$1._api._MagickImage_CompareDistortion(this._instance,m._instance,F,H,X));w!==void 0&&typeof w!="function"&&(H=w);const q=Ee.use(this,X=>(P&&g._setArtifacts(X),cr.use(V=>{const J=this.useExceptionPointer(ot=>l$1._api._MagickImage_Compare(this._instance,m._instance,F,H,V.ptr,ot)),et=V.value,at=ie._createFromImage(J,this._settings);return sr._create(et,at)})));return q.difference._use(()=>U(q))}composite(m,g,w,D,P){let F=0,U=0,H=er.In,q=j.All,X=null;g instanceof Te?(F=g.x,U=g.y):g!==void 0&&(H=g),w instanceof Te?(F=w.x,U=w.y):typeof w=="string"?X=w:w!==void 0&&(q=w),typeof D=="string"?X=D:D!==void 0&&(q=D),P!==void 0&&(q=P),X!==null&&this.setArtifact("compose:args",X),this.useExceptionPointer(V=>{l$1._api._MagickImage_Composite(this._instance,m._instance,F,U,H,q,V)}),X!==null&&this.removeArtifact("compose:args")}compositeGravity(m,g,w,D,P,F){let U=0,H=0,q=er.In,X=j.All,V=null;w instanceof Te?(U=w.x,H=w.y):w!==void 0&&(q=w),D instanceof Te?(U=D.x,H=D.y):typeof D=="string"?V=D:D!==void 0&&(X=D),typeof P=="string"?V=P:P!==void 0&&(X=P),F!==void 0&&(X=F),V!==null&&this.setArtifact("compose:args",V),this.useExceptionPointer(J=>{l$1._api._MagickImage_CompositeGravity(this._instance,m._instance,g,U,H,q,X,J)}),V!==null&&this.removeArtifact("compose:args")}connectedComponents(m){const g=typeof m=="number"?new _o(m):m;return Ee.use(this,w=>(g._setArtifacts(w),this.useException(D=>Re.use(P=>{try{const F=l$1._api._MagickImage_ConnectedComponents(this._instance,g.connectivity,P.ptr,D.ptr);return this._setInstance(F,D),or._create(P.value,this.colormapSize)}finally{P.value!==0&&l$1._api._ConnectedComponent_DisposeList(P.value)}}))))}contrast=()=>this.contrastPrivate(!0);contrastStretch(m,g,w){const D=this.width*this.height,P=m.multiply(D);let F=0,U=this.valueOrDefault(w,j.Undefined);g instanceof re?F=D-g.multiply(D):(F=D-m.multiply(D),g!==void 0&&(U=g)),this.useExceptionPointer(H=>{l$1._api._MagickImage_ContrastStretch(this._instance,P,F,U,H)})}static create(m,g,w){const D=new ie(ie.createInstance(),new lt);return m!==void 0&&D.readOrPing(!1,m,g,w),D}crop(m,g,w){let D,P;typeof m!="number"?(D=m,P=this.valueOrDefault(g,O$1.Undefined)):g!==void 0&&(D=new ae(m,g),P=this.valueOrDefault(w,O$1.Undefined)),this.useException(F=>{A$1(D.toString(),U=>{const H=l$1._api._MagickImage_Crop(this._instance,U,P,F.ptr);this._setInstance(H,F)})})}cropToTiles(m,g,w){let D,P;return typeof m=="number"&&typeof g=="number"&&w!==void 0?(D=new ae(0,0,m,g),P=w):typeof m!="number"&&typeof g!="number"&&(D=m,P=g),this.useException(F=>A$1(D.toString(),U=>{const H=l$1._api._MagickImage_CropToTiles(this._instance,U,F.ptr);return ke._createFromImages(H,this._settings,q=>P(q))}))}cycleColormap(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_CycleColormap(this._instance,m,g)})}deskew(m,g){return Ee.use(this,w=>{g!==void 0&&w.setArtifact("deskew:auto-crop",g),this.useException(P=>{const F=l$1._api._MagickImage_Deskew(this._instance,m._toQuantum(),P.ptr);this._setInstance(F,P)});const D=Number(this.getArtifact("deskew:angle"));return isNaN(D)?0:D})}distort(m,g){Ee.use(this,w=>{let D,P=0;typeof m=="number"?D=m:(D=m.method,P=m.bestFit?1:0,m._setArtifacts(w)),this.useException(F=>{Et(g,U=>{const H=l$1._api._MagickImage_Distort(this._instance,D,P,U,g.length,F.ptr);this._setInstance(H,F)})})})}draw(...m){const g=m.flat();g.length!==0&&Tt._use(this,w=>{w.draw(g)})}evaluate(m,g,w,D){if(typeof g=="number"){const P=g,F=typeof w=="number"?w:w._toQuantum();this.useExceptionPointer(U=>{l$1._api._MagickImage_EvaluateOperator(this._instance,m,P,F,U)})}else if(D!==void 0){if(typeof w!="number")throw new Y$2("this should not happen");const P=g,F=w,U=typeof D=="number"?D:D._toQuantum();if(P.isPercentage)throw new Y$2("percentage is not supported");this.useExceptionPointer(H=>{mo.use(this,P,q=>{l$1._api._MagickImage_EvaluateGeometry(this._instance,m,q,F,U,H)})})}}extent(m,g,w){let D=O$1.Undefined,P;typeof m!="number"?P=m:typeof g=="number"&&(P=new ae(m,g)),typeof g=="number"?D=g:g!==void 0&&(this.backgroundColor=g),typeof w=="number"?D=w:w!==void 0&&(this.backgroundColor=w),this.useException(F=>{A$1(P.toString(),U=>{const H=l$1._api._MagickImage_Extent(this._instance,U,D,F.ptr);this._setInstance(H,F)})})}flip(){this.useException(m=>{const g=l$1._api._MagickImage_Flip(this._instance,m.ptr);this._setInstance(g,m)})}floodFill(m,g,w,D){this.floodFillPrivate(m,g,w,D,!1)}flop(){this.useException(m=>{const g=l$1._api._MagickImage_Flop(this._instance,m.ptr);this._setInstance(g,m)})}formatExpression(m){return this.useExceptionPointer(g=>this._settings._use(w=>A$1(m,D=>{const P=l$1._api._MagickImage_FormatExpression(this._instance,w._instance,D,g);return oo(l$1._api,P)})))}gammaCorrect(m,g){const w=this.valueOrDefault(g,j.Undefined);this.useExceptionPointer(D=>{l$1._api._MagickImage_GammaCorrect(this._instance,m,w,D)})}gaussianBlur(m,g,w){const D=this.valueOrDefault(g,1),P=this.valueOrDefault(w,j.Undefined);this.useException(F=>{const U=l$1._api._MagickImage_GaussianBlur(this._instance,m,D,P,F.ptr);this._setInstance(U,F)})}getArtifact(m){return A$1(m,g=>{const w=l$1._api._MagickImage_GetArtifact(this._instance,g);return ce(w)})}getAttribute(m){return this.useException(g=>A$1(m,w=>{const D=l$1._api._MagickImage_GetAttribute(this._instance,w,g.ptr);return ce(D)}))}getColormapColor(m){const g=l$1._api._MagickImage_GetColormapColor(this._instance,m);return g===0?null:k$1._create(g)}getColorProfile(){const m=["icc","icm"];for(const g of m){const w=this.getProfilePrivate(g);if(w!==null)return new ao(w)}return null}getPixels(m){if(this._settings._ping)throw new Y$2("image contains no pixel data");return it._use(this,m)}getProfile(m){const g=this.getProfilePrivate(m);return g===null?null:new ri(m,g)}getWriteMask(m){const g=this.useExceptionPointer(D=>l$1._api._MagickImage_GetWriteMask(this._instance,D)),w=g===0?null:new ie(g,new lt);return w==null?m(w):w._use(m)}grayscale(m=wo.Undefined){this.useExceptionPointer(g=>{l$1._api._MagickImage_Grayscale(this._instance,m,g)})}hasProfile(m){return A$1(m,g=>this.toBool(l$1._api._MagickImage_HasProfile(this._instance,g)))}histogram(){const m=new Map;return this.useExceptionPointer(g=>{Re.use(w=>{const D=l$1._api._MagickImage_Histogram(this._instance,w.ptr,g);if(D!==0){const P=w.value;for(let F=0;F<P;F++){const U=l$1._api._MagickColorCollection_GetInstance(D,F),H=k$1._create(U),q=l$1._api._MagickColor_Count_Get(U);m.set(H.toString(),q)}l$1._api._MagickColorCollection_DisposeList(D)}})}),m}inverseContrast=()=>this.contrastPrivate(!1);inverseFloodFill(m,g,w,D){this.floodFillPrivate(m,g,w,D,!0)}inverseLevel(m,g,w,D){const P=this.valueOrDefault(w,1),F=this.valueOrDefault(D,j.Composite);this.useExceptionPointer(U=>{l$1._api._MagickImage_InverseLevel(this._instance,m.toDouble(),g._toQuantum(),P,F,U)})}inverseOpaque=(m,g)=>this.opaquePrivate(m,g,!0);inverseSigmoidalContrast(m,g,w){this.sigmoidalContrastPrivate(!1,m,g,w)}inverseTransparent=m=>this.transparentPrivate(m,!0);level(m,g,w,D){const P=this.valueOrDefault(w,1),F=this.valueOrDefault(D,j.Composite);this.useExceptionPointer(U=>{l$1._api._MagickImage_Level(this._instance,m.toDouble(),g._toQuantum(),P,F,U)})}linearStretch(m,g){this.useExceptionPointer(w=>{l$1._api._MagickImage_LinearStretch(this._instance,m.toDouble(),g._toQuantum(),w)})}liquidRescale(m,g){const w=typeof m=="number"?new ae(m,g):m;this.useException(D=>{A$1(w.toString(),P=>{const F=l$1._api._MagickImage_LiquidRescale(this._instance,P,w.x,w.y,D.ptr);this._setInstance(F,D)})})}negate(m){this.useExceptionPointer(g=>{const w=this.valueOrDefault(m,j.Undefined);l$1._api._MagickImage_Negate(this._instance,0,w,g)})}negateGrayScale(m){this.useExceptionPointer(g=>{const w=this.valueOrDefault(m,j.Undefined);l$1._api._MagickImage_Negate(this._instance,1,w,g)})}normalize(){this.useExceptionPointer(m=>{l$1._api._MagickImage_Normalize(this._instance,m)})}modulate(m,g,w){const D=this.valueOrDefault(g,new re(100)),P=this.valueOrDefault(w,new re(100));this.useExceptionPointer(F=>{const U=`${m.toDouble()}/${D.toDouble()}/${P.toDouble()}`;A$1(U,H=>{l$1._api._MagickImage_Modulate(this._instance,H,F)})})}morphology(m){this.useException(g=>{A$1(m.kernel,w=>{const D=l$1._api._MagickImage_Morphology(this._instance,m.method,w,m.channels,m.iterations,g.ptr);this._setInstance(D,g)})})}motionBlur(m,g,w){this.useException(D=>{const P=l$1._api._MagickImage_MotionBlur(this._instance,m,g,w,D.ptr);this._setInstance(P,D)})}oilPaint(m){const g=this.valueOrDefault(m,3),w=0;this.useException(D=>{const P=l$1._api._MagickImage_OilPaint(this._instance,g,w,D.ptr);this._setInstance(P,D)})}opaque=(m,g)=>this.opaquePrivate(m,g,!1);ping(m,g){this.readOrPing(!0,m,g)}perceptualHash(m){const g=this.valueOrDefault(m,Me._defaultColorspaces());return Me._validateColorSpaces(g),Ee.use(this,w=>{const D=g.map(P=>Qr[P]).join(",");return w.setArtifact("phash:colorspaces",D),this.useExceptionPointer(P=>{const F=l$1._api._MagickImage_PerceptualHash(this._instance,P);try{return Me._create(this,g,F)}finally{l$1._api._PerceptualHash_DisposeList(F)}})})}quantize(m){const g=this.valueOrDefault(m,new ir);return this.useException(w=>{g._use(D=>{l$1._api._MagickImage_Quantize(this._instance,D._instance,w.ptr)})}),g.measureErrors?bt._create(this):null}read(m,g,w){this.readOrPing(!1,m,g,w)}readFromCanvas(m,g){const w=m.getContext("2d",g);if(w===null)return;const D=w.getImageData(0,0,m.width,m.height),P=new be;P.format=Le.Rgba,P.width=m.width,P.height=m.height,this.useException(F=>{this.readFromArray(D.data,P,F)})}removeArtifact(m){A$1(m,g=>{l$1._api._MagickImage_RemoveArtifact(this._instance,g)})}removeAttribute(m){A$1(m,g=>{l$1._api._MagickImage_RemoveAttribute(this._instance,g)})}removeProfile(m){const g=typeof m=="string"?m:m.name;A$1(g,w=>{l$1._api._MagickImage_RemoveProfile(this._instance,w)})}removeWriteMask(){this.useExceptionPointer(m=>{l$1._api._MagickImage_SetWriteMask(this._instance,0,m)})}resetPage(){this.page=new ae(0,0,0,0)}resize(m,g,w){let D=this.filterType,P;typeof m=="number"?(P=new ae(m,g),w!==void 0&&(D=w)):(P=m,g!==void 0&&(D=g)),this.useException(F=>{A$1(P.toString(),U=>{const H=l$1._api._MagickImage_Resize(this._instance,U,D,F.ptr);this._setInstance(H,F)})})}roll(m,g){this.useException(w=>{const D=l$1._api._MagickImage_Roll(this._instance,m,g,w.ptr);this._setInstance(D,w)})}rotate(m){this.useException(g=>{const w=l$1._api._MagickImage_Rotate(this._instance,m,g.ptr);this._setInstance(w,g)})}separate(m,g){return this.useException(w=>{let D,P=j.Undefined;if(typeof m=="number"&&g!==void 0)P=m,D=g;else if(typeof m=="function")D=m;else throw new Y$2("invalid arguments");const F=l$1._api._MagickImage_Separate(this._instance,P,w.ptr);return ke._createFromImages(F,this._settings,U=>D(U))})}sepiaTone(m=new re(80)){this.useException(g=>{const w=typeof m=="number"?new re(m):m,D=l$1._api._MagickImage_SepiaTone(this._instance,w._toQuantum(),g.ptr);this._setInstance(D,g)})}setArtifact(m,g){let w;typeof g=="string"?w=g:typeof g=="boolean"?w=this.fromBool(g).toString():w=g.toString(),A$1(m,D=>{A$1(w,P=>{l$1._api._MagickImage_SetArtifact(this._instance,D,P)})})}setAttribute(m,g){this.useException(w=>{A$1(m,D=>{A$1(g,P=>{l$1._api._MagickImage_SetAttribute(this._instance,D,P,w.ptr)})})})}setProfile(m,g){const w=typeof m=="string"?m:m.name;let D;g!==void 0?D=g:typeof m!="string"&&(D=m.data),this.useException(P=>{A$1(w,F=>{Or(D,U=>{l$1._api._MagickImage_SetProfile(this._instance,F,U,D.byteLength,P.ptr)})})})}setWriteMask(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_SetWriteMask(this._instance,m._instance,g)})}sharpen(m,g,w){const D=this.valueOrDefault(m,0),P=this.valueOrDefault(g,1),F=this.valueOrDefault(w,j.Undefined);this.useException(U=>{const H=l$1._api._MagickImage_Sharpen(this._instance,D,P,F,U.ptr);this._setInstance(H,U)})}shave(m,g){this.useException(w=>{const D=l$1._api._MagickImage_Shave(this._instance,m,g,w.ptr);this._setInstance(D,w)})}sigmoidalContrast(m,g,w){this.sigmoidalContrastPrivate(!0,m,g,w)}solarize(m=new re(50)){this.useException(g=>{const w=typeof m=="number"?new re(m):m;l$1._api._MagickImage_Solarize(this._instance,w._toQuantum(),g.ptr)})}splice(m,g){const w=this.valueOrDefault(g,O$1.Undefined);A$1(m.toString(),D=>{this.useException(P=>{const F=l$1._api._MagickImage_Splice(this._instance,D,w,P.ptr);this._setInstance(F,P)})})}statistics(m){const g=this.valueOrDefault(m,j.All);return this.useExceptionPointer(w=>{const D=l$1._api._MagickImage_Statistics(this._instance,g,w),P=lr._create(this,D,g);return l$1._api._Statistics_DisposeList(D),P})}strip(){this.useExceptionPointer(m=>{l$1._api._MagickImage_Strip(this._instance,m)})}transformColorSpace(m,g,w){const D=m;let P,F=Jr.Quantum;g!==void 0&&(typeof g=="number"?F=g:P=g),w!==void 0&&(F=w);const U=this.hasProfile("icc")||this.hasProfile("icm");if(P===void 0){if(!U)return!1;P=D}else{if(D.colorSpace!==this.colorSpace)return!1;U||this.setProfile(D)}return F===Jr.Quantum?Ee.use(this,H=>{H.setArtifact("profile:highres-transform",!1),this.setProfile(P)}):this.setProfile(P),!0}threshold(m,g){const w=this.valueOrDefault(g,j.Undefined);this.useExceptionPointer(D=>{l$1._api._MagickImage_Threshold(this._instance,m._toQuantum(),w,D)})}thumbnail(m,g){const w=typeof m=="number"?new ae(m,g):m;this.useException(D=>{A$1(w.toString(),P=>{const F=l$1._api._MagickImage_Thumbnail(this._instance,P,D.ptr);this._setInstance(F,D)})})}toString=()=>`${this.format} ${this.width}x${this.height} ${this.depth}-bit ${Qr[this.colorSpace]}`;transparent(m){m._use(g=>{this.useExceptionPointer(w=>{l$1._api._MagickImage_Transparent(this._instance,g,0,w)})})}trim(...m){if(m.length>0)if(m.length==1&&m[0]instanceof re){const g=m[0];this.setArtifact("trim:percent-background",g.toDouble().toString())}else{const g=m,w=[...new Set(lo(g))].join(",");this.setArtifact("trim:edges",w)}this.useException(g=>{const w=l$1._api._MagickImage_Trim(this._instance,g.ptr);this._setInstance(w,g),this.removeArtifact("trim:edges"),this.removeArtifact("trim:percent-background")})}wave(m,g,w){const D=this.valueOrDefault(m,this.interpolate),P=this.valueOrDefault(g,25),F=this.valueOrDefault(w,150);this.useException(U=>{const H=l$1._api._MagickImage_Wave(this._instance,D,P,F,U.ptr);this._setInstance(H,U)})}vignette(m,g,w,D){const P=this.valueOrDefault(m,0),F=this.valueOrDefault(g,1),U=this.valueOrDefault(w,0),H=this.valueOrDefault(D,0);this.useException(q=>{const X=l$1._api._MagickImage_Vignette(this._instance,P,F,U,H,q.ptr);this._setInstance(X,q)})}whiteThreshold(m,g){const w=this.valueOrDefault(g,j.Composite);this.useException(D=>{A$1(m.toString(),P=>{l$1._api._MagickImage_WhiteThreshold(this._instance,P,w,D.ptr)})})}write(m,g){let w=0,D=0;g!==void 0?this._settings.format=m:g=m,this.useException(F=>{Re.use(U=>{this._settings._use(H=>{try{w=l$1._api._MagickImage_WriteBlob(this._instance,H._instance,U.ptr,F.ptr),D=U.value}catch{w!==0&&(w=l$1._api._MagickMemory_Relinquish(w))}})})});const P=new ii(w,D,g);return le._disposeAfterExecution(P,P.func)}writeToCanvas(m,g){m.width=this.width,m.height=this.height;const w=m.getContext("2d",g);w!==null&&it._map(this,"RGBA",D=>{const P=w.createImageData(this.width,this.height);let F=0;for(let U=0;U<this.height;U++)for(let H=0;H<this.width;H++)P.data[F++]=l$1._api.HEAPU8[D++],P.data[F++]=l$1._api.HEAPU8[D++],P.data[F++]=l$1._api.HEAPU8[D++],P.data[F++]=l$1._api.HEAPU8[D++];w.putImageData(P,0,0)})}static _createFromImage(m,g){return new ie(m,g)}_channelOffset(m){return l$1._api._MagickImage_HasChannel(this._instance,m)?l$1._api._MagickImage_ChannelOffset(this._instance,m):-1}static _clone(m){return E$1.usePointer(g=>new ie(l$1._api._MagickImage_Clone(m._instance,g),m._settings._clone()))}_getSettings(){return this._settings}_instanceNotInitialized(){throw new Y$2("no image has been read")}_setInstance(m,g){if(super._setInstance(m,g)===!0||m===0&&this.onProgress!==void 0)return!0;throw new Y$2("out of memory")}_use(m){return le._disposeAfterExecution(this,m)}static _create(m){return ie.create()._use(m)}onDispose(){this.disposeProgressDelegate()}contrastPrivate(m){this.useExceptionPointer(g=>{l$1._api._MagickImage_Contrast(this._instance,this.fromBool(m),g)})}static createInstance(){return E$1.usePointer(m=>l$1._api._MagickImage_Create(0,m))}disposeProgressDelegate(){se.removeProgressDelegate(this),this._progress=void 0}floodFillPrivate(m,g,w,D,P){let F=D;F===void 0&&this.getPixels(U=>{const H=U.getColor(g,w);H!==null&&(F=H)}),typeof m=="number"&&F!==void 0&&(F.a=m),this.settings._drawing._use(U=>{m instanceof k$1?(U.setFillColor(m),U.setFillPattern()):m instanceof ie&&(U.setFillColor(),U.setFillPattern(m)),this.useExceptionPointer(H=>{F!==void 0?F._use(q=>{l$1._api._MagickImage_FloodFill(this._instance,U._instance,g,w,q,this.fromBool(P),H)}):l$1._api._MagickImage_FloodFill(this._instance,U._instance,g,w,0,this.fromBool(P),H)})})}fromBool(m){return m?1:0}getProfilePrivate(m){return A$1(m,g=>{const w=l$1._api._MagickImage_GetProfile(this._instance,g),D=yo.toArray(w);return D===null?null:D})}onSettingsArtifactChanged(m,g){g===void 0?this.removeArtifact(m):this.setArtifact(m,g)}opaquePrivate(m,g,w){this.useExceptionPointer(D=>{m._use(P=>{g._use(F=>{l$1._api._MagickImage_Opaque(this._instance,P,F,this.fromBool(w),D)})})})}readOrPing(m,g,w,D){this.useException(P=>{const F=w instanceof be?w:new be(this._settings);if(F._ping=m,this._settings._ping=m,F.frameCount!==void 0&&F.frameCount>1)throw new Y$2("The frame count can only be set to 1 when a single image is being read.");if(typeof g=="string")F._fileName=g;else if(ti(g)){this.readFromArray(g,F,P);return}else F._fileName="xc:"+g.toShortString(),F.width=typeof w=="number"?w:0,F.height=typeof D=="number"?D:0;F._use(U=>{const H=l$1._api._MagickImage_ReadFile(U._instance,P.ptr);this._setInstance(H,P)})})}readFromArray(m,g,w){g._use(D=>{Or(m,P=>{const F=l$1._api._MagickImage_ReadBlob(D._instance,P,0,m.byteLength,w.ptr);this._setInstance(F,w)})})}sigmoidalContrastPrivate(m,g,w,D){let P;w!==void 0?typeof w=="number"?P=w:P=w.multiply(Fe.max):P=Fe.max*.5;const F=this.valueOrDefault(D,j.Undefined);this.useExceptionPointer(U=>{l$1._api._MagickImage_SigmoidalContrast(this._instance,this.fromBool(m),g,P,F,U)})}toBool(m){return m===1}transparentPrivate(m,g){m._use(w=>{this.useExceptionPointer(D=>{l$1._api._MagickImage_Transparent(this._instance,w,this.fromBool(g),D)})})}valueOrDefault(m,g){return m===void 0?g:m}valueOrComputedDefault(m,g){return m===void 0?g():m}useException(m){return E$1.use(m,g=>{this.onWarning!==void 0&&this.onWarning(new ei(g))})}useExceptionPointer(m){return E$1.usePointer(m,g=>{this.onWarning!==void 0&&this.onWarning(new ei(g))})}}var So=(()=>{var d=import.meta.url;return async function(m={}){var g,w=m,D,P,F=new Promise((K,nt)=>{D=K,P=nt}),U=typeof window=="object",H=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",(!globalThis.crypto||!globalThis.crypto.getRandomValues)&&(globalThis.crypto={getRandomValues:K=>{for(let nt=0;nt<K.length;nt++)K[nt]=Math.random()*256|0}});var q="./this.program",X=(K,nt)=>{throw nt},V="";function J(K){return w.locateFile?w.locateFile(K,V):V+K}var et,at;(U||H)&&(H?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),d&&(V=d),V.startsWith("blob:")?V="":V=V.slice(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1),H&&(at=K=>{var nt=new XMLHttpRequest;return nt.open("GET",K,!1),nt.responseType="arraybuffer",nt.send(null),new Uint8Array(nt.response)}),et=async K=>{if(Nt(K))return new Promise((ft,kt)=>{var Zt=new XMLHttpRequest;Zt.open("GET",K,!0),Zt.responseType="arraybuffer",Zt.onload=()=>{if(Zt.status==200||Zt.status==0&&Zt.response){ft(Zt.response);return}kt(Zt.status)},Zt.onerror=kt,Zt.send(null)});var nt=await fetch(K,{credentials:"same-origin"});if(nt.ok)return nt.arrayBuffer();throw new Error(nt.status+" : "+nt.url)});var ot=console.log.bind(console),ut=console.error.bind(console),yt,vt,mt=!1,dt,gt,At,_t,Mt,wt,zt,ht,It,qt,Nt=K=>K.startsWith("file://");function Ot(){var K=vt.buffer;dt=new Int8Array(K),At=new Int16Array(K),w.HEAPU8=gt=new Uint8Array(K),_t=new Uint16Array(K),Mt=new Int32Array(K),wt=new Uint32Array(K),zt=new Float32Array(K),qt=new Float64Array(K),ht=new BigInt64Array(K),It=new BigUint64Array(K)}function Ct(){if(w.preRun)for(typeof w.preRun=="function"&&(w.preRun=[w.preRun]);w.preRun.length;)ge(w.preRun.shift());Ft(Vt)}function Jt(){!w.noFSInit&&!Yt.initialized&&Yt.init(),St.db(),Yt.ignorePermissions=!1}function Kt(){if(w.postRun)for(typeof w.postRun=="function"&&(w.postRun=[w.postRun]);w.postRun.length;)Lt(w.postRun.shift());Ft(Ut)}var Qt=0,pe=null;function $t(K){Qt++,w.monitorRunDependencies?.(Qt)}function Wt(K){if(Qt--,w.monitorRunDependencies?.(Qt),Qt==0&&pe){var nt=pe;pe=null,nt()}}function fe(K){w.onAbort?.(K),K="Aborted("+K+")",ut(K),mt=!0,K+=". Build with -sASSERTIONS for more info.";var nt=new WebAssembly.RuntimeError(K);throw P(nt),nt}var oe;function Xt(){return w.locateFile?J("magick.wasm"):new URL("data:text/plain;base64,").href}function ne(K){if(K==oe&&yt)return new Uint8Array(yt);if(at)return at(K);throw"both async and sync fetching of the wasm failed"}async function ye(K){if(!yt)try{var nt=await et(K);return new Uint8Array(nt)}catch{}return ne(K)}async function Ie(K,nt){try{var ft=await ye(K),kt=await WebAssembly.instantiate(ft,nt);return kt}catch(Zt){ut(`failed to asynchronously prepare wasm: ${Zt}`),fe(Zt)}}async function $e(K,nt,ft){if(!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Nt(nt))try{var kt=fetch(nt,{credentials:"same-origin"}),Zt=await WebAssembly.instantiateStreaming(kt,ft);return Zt}catch(ee){ut(`wasm streaming compile failed: ${ee}`),ut("falling back to ArrayBuffer instantiation")}return Ie(nt,ft)}function he(){return{a:ia}}async function xt(){function K(ee,ve){return St=ee.exports,St=Wr(St),vt=St.cb,Ot(),gi=St.xb,Wt(),St}$t();function nt(ee){return K(ee.instance)}var ft=he();if(w.instantiateWasm)return new Promise((ee,ve)=>{w.instantiateWasm(ft,(we,Ze)=>{ee(K(we))})});oe??=Xt();try{var kt=await $e(yt,oe,ft),Zt=nt(kt);return Zt}catch(ee){return P(ee),Promise.reject(ee)}}class ue{name="ExitStatus";constructor(nt){this.message=`Program terminated with exit(${nt})`,this.status=nt}}var Ft=K=>{for(;K.length>0;)K.shift()(w)},Ut=[],Lt=K=>Ut.push(K),Vt=[],ge=K=>Vt.push(K);function pt(K,nt="i8"){switch(nt.endsWith("*")&&(nt="*"),nt){case"i1":return dt[K>>>0];case"i8":return dt[K>>>0];case"i16":return At[K>>>1>>>0];case"i32":return Mt[K>>>2>>>0];case"i64":return ht[K>>>3];case"float":return zt[K>>>2>>>0];case"double":return qt[K>>>3>>>0];case"*":return wt[K>>>2>>>0];default:fe(`invalid type for getValue: ${nt}`)}}var Rt=!0;function Gt(K,nt,ft="i8"){switch(ft.endsWith("*")&&(ft="*"),ft){case"i1":dt[K>>>0]=nt;break;case"i8":dt[K>>>0]=nt;break;case"i16":At[K>>>1>>>0]=nt;break;case"i32":Mt[K>>>2>>>0]=nt;break;case"i64":ht[K>>>3]=BigInt(nt);break;case"float":zt[K>>>2>>>0]=nt;break;case"double":qt[K>>>3>>>0]=nt;break;case"*":wt[K>>>2>>>0]=nt;break;default:fe(`invalid type for setValue: ${ft}`)}}var jt=K=>Lu(K),xe=()=>$n(),Be=9007199254740992,oi=-9007199254740992,mi=K=>K<oi||K>Be?NaN:Number(K),li=[],gi,We=K=>{var nt=li[K];return nt||(li[K]=nt=gi.get(K)),nt};function Ii(K,nt){return K>>>=0,We(K)(nt)}var Si=0;class Ti{constructor(nt){this.excPtr=nt,this.ptr=nt-24}set_type(nt){wt[this.ptr+4>>>2>>>0]=nt}get_type(){return wt[this.ptr+4>>>2>>>0]}set_destructor(nt){wt[this.ptr+8>>>2>>>0]=nt}get_destructor(){return wt[this.ptr+8>>>2>>>0]}set_caught(nt){nt=nt?1:0,dt[this.ptr+12>>>0]=nt}get_caught(){return dt[this.ptr+12>>>0]!=0}set_rethrown(nt){nt=nt?1:0,dt[this.ptr+13>>>0]=nt}get_rethrown(){return dt[this.ptr+13>>>0]!=0}init(nt,ft){this.set_adjusted_ptr(0),this.set_type(nt),this.set_destructor(ft)}set_adjusted_ptr(nt){wt[this.ptr+16>>>2>>>0]=nt}get_adjusted_ptr(){return wt[this.ptr+16>>>2>>>0]}}var Bi=K=>vl(K),Ei=K=>{var nt=Si;if(!nt)return Bi(0),0;var ft=new Ti(nt);ft.set_adjusted_ptr(nt);var kt=ft.get_type();if(!kt)return Bi(0),nt;for(var Zt of K){if(Zt===0||Zt===kt)break;var ee=ft.ptr+16;if(fn(Zt,kt,ee))return Bi(Zt),nt}return Bi(kt),nt};function _e(){return Ei([])}function hi(K,nt,ft){K>>>=0,nt>>>=0,ft>>>=0;var kt=new Ti(K);throw kt.init(nt,ft),Si=K,Si}function Ce(K){throw K>>>=0,Si||(Si=K),Si}var Ne={isAbs:K=>K.charAt(0)==="/",splitPath:K=>{var nt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return nt.exec(K).slice(1)},normalizeArray:(K,nt)=>{for(var ft=0,kt=K.length-1;kt>=0;kt--){var Zt=K[kt];Zt==="."?K.splice(kt,1):Zt===".."?(K.splice(kt,1),ft++):ft&&(K.splice(kt,1),ft--)}if(nt)for(;ft;ft--)K.unshift("..");return K},normalize:K=>{var nt=Ne.isAbs(K),ft=K.slice(-1)==="/";return K=Ne.normalizeArray(K.split("/").filter(kt=>!!kt),!nt).join("/"),!K&&!nt&&(K="."),K&&ft&&(K+="/"),(nt?"/":"")+K},dirname:K=>{var nt=Ne.splitPath(K),ft=nt[0],kt=nt[1];return!ft&&!kt?".":(kt&&(kt=kt.slice(0,-1)),ft+kt)},basename:K=>K&&K.match(/([^\/]+|\/)\/*$/)[1],join:(...K)=>Ne.normalize(K.join("/")),join2:(K,nt)=>Ne.normalize(K+"/"+nt)},te=()=>K=>crypto.getRandomValues(K),ui=K=>{(ui=te())(K)},Ai={resolve:(...K)=>{for(var nt="",ft=!1,kt=K.length-1;kt>=-1&&!ft;kt--){var Zt=kt>=0?K[kt]:Yt.cwd();if(typeof Zt!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Zt)return"";nt=Zt+"/"+nt,ft=Ne.isAbs(Zt)}return nt=Ne.normalizeArray(nt.split("/").filter(ee=>!!ee),!ft).join("/"),(ft?"/":"")+nt||"."},relative:(K,nt)=>{K=Ai.resolve(K).slice(1),nt=Ai.resolve(nt).slice(1);function ft(fi){for(var di=0;di<fi.length&&fi[di]==="";di++);for(var vi=fi.length-1;vi>=0&&fi[vi]==="";vi--);return di>vi?[]:fi.slice(di,vi-di+1)}for(var kt=ft(K.split("/")),Zt=ft(nt.split("/")),ee=Math.min(kt.length,Zt.length),ve=ee,we=0;we<ee;we++)if(kt[we]!==Zt[we]){ve=we;break}for(var Ze=[],we=ve;we<kt.length;we++)Ze.push("..");return Ze=Ze.concat(Zt.slice(ve)),Ze.join("/")}},Bt=typeof TextDecoder<"u"?new TextDecoder:void 0,Ye=(K,nt=0,ft=NaN)=>{nt>>>=0;for(var kt=nt+ft,Zt=nt;K[Zt]&&!(Zt>=kt);)++Zt;if(Zt-nt>16&&K.buffer&&Bt)return Bt.decode(K.subarray(nt,Zt));for(var ee="";nt<Zt;){var ve=K[nt++];if(!(ve&128)){ee+=String.fromCharCode(ve);continue}var we=K[nt++]&63;if((ve&224)==192){ee+=String.fromCharCode((ve&31)<<6|we);continue}var Ze=K[nt++]&63;if((ve&240)==224?ve=(ve&15)<<12|we<<6|Ze:ve=(ve&7)<<18|we<<12|Ze<<6|K[nt++]&63,ve<65536)ee+=String.fromCharCode(ve);else{var fi=ve-65536;ee+=String.fromCharCode(55296|fi>>10,56320|fi&1023)}}return ee},Oe=[],Se=K=>{for(var nt=0,ft=0;ft<K.length;++ft){var kt=K.charCodeAt(ft);kt<=127?nt++:kt<=2047?nt+=2:kt>=55296&&kt<=57343?(nt+=4,++ft):nt+=3}return nt},Ge=(K,nt,ft,kt)=>{if(ft>>>=0,!(kt>0))return 0;for(var Zt=ft,ee=ft+kt-1,ve=0;ve<K.length;++ve){var we=K.charCodeAt(ve);if(we>=55296&&we<=57343){var Ze=K.charCodeAt(++ve);we=65536+((we&1023)<<10)|Ze&1023}if(we<=127){if(ft>=ee)break;nt[ft++>>>0]=we}else if(we<=2047){if(ft+1>=ee)break;nt[ft++>>>0]=192|we>>6,nt[ft++>>>0]=128|we&63}else if(we<=65535){if(ft+2>=ee)break;nt[ft++>>>0]=224|we>>12,nt[ft++>>>0]=128|we>>6&63,nt[ft++>>>0]=128|we&63}else{if(ft+3>=ee)break;nt[ft++>>>0]=240|we>>18,nt[ft++>>>0]=128|we>>12&63,nt[ft++>>>0]=128|we>>6&63,nt[ft++>>>0]=128|we&63}}return nt[ft>>>0]=0,ft-Zt},Qe=(K,nt,ft)=>{var kt=Se(K)+1,Zt=new Array(kt),ee=Ge(K,Zt,0,Zt.length);return Zt.length=ee,Zt},Ri=()=>{if(!Oe.length){var K=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(K=window.prompt("Input: "),K!==null&&(K+=`
`)),!K)return null;Oe=Qe(K)}return Oe.shift()},bi={ttys:[],init(){},shutdown(){},register(K,nt){bi.ttys[K]={input:[],output:[],ops:nt},Yt.registerDevice(K,bi.stream_ops)},stream_ops:{open(K){var nt=bi.ttys[K.node.rdev];if(!nt)throw new Yt.ErrnoError(43);K.tty=nt,K.seekable=!1},close(K){K.tty.ops.fsync(K.tty)},fsync(K){K.tty.ops.fsync(K.tty)},read(K,nt,ft,kt,Zt){if(!K.tty||!K.tty.ops.get_char)throw new Yt.ErrnoError(60);for(var ee=0,ve=0;ve<kt;ve++){var we;try{we=K.tty.ops.get_char(K.tty)}catch{throw new Yt.ErrnoError(29)}if(we===void 0&&ee===0)throw new Yt.ErrnoError(6);if(we==null)break;ee++,nt[ft+ve]=we}return ee&&(K.node.atime=Date.now()),ee},write(K,nt,ft,kt,Zt){if(!K.tty||!K.tty.ops.put_char)throw new Yt.ErrnoError(60);try{for(var ee=0;ee<kt;ee++)K.tty.ops.put_char(K.tty,nt[ft+ee])}catch{throw new Yt.ErrnoError(29)}return kt&&(K.node.mtime=K.node.ctime=Date.now()),ee}},default_tty_ops:{get_char(K){return Ri()},put_char(K,nt){nt===null||nt===10?(ot(Ye(K.output)),K.output=[]):nt!=0&&K.output.push(nt)},fsync(K){K.output?.length>0&&(ot(Ye(K.output)),K.output=[])},ioctl_tcgets(K){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(K,nt,ft){return 0},ioctl_tiocgwinsz(K){return[24,80]}},default_tty1_ops:{put_char(K,nt){nt===null||nt===10?(ut(Ye(K.output)),K.output=[]):nt!=0&&K.output.push(nt)},fsync(K){K.output?.length>0&&(ut(Ye(K.output)),K.output=[])}}},Mi=(K,nt)=>gt.fill(0,K,K+nt),Ni=(K,nt)=>Math.ceil(K/nt)*nt,Tn=K=>{K=Ni(K,65536);var nt=Fu(65536,K);return nt&&Mi(nt,K),nt},ki={ops_table:null,mount(K){return ki.createNode(null,"/",16895,0)},createNode(K,nt,ft,kt){if(Yt.isBlkdev(ft)||Yt.isFIFO(ft))throw new Yt.ErrnoError(63);ki.ops_table||={dir:{node:{getattr:ki.node_ops.getattr,setattr:ki.node_ops.setattr,lookup:ki.node_ops.lookup,mknod:ki.node_ops.mknod,rename:ki.node_ops.rename,unlink:ki.node_ops.unlink,rmdir:ki.node_ops.rmdir,readdir:ki.node_ops.readdir,symlink:ki.node_ops.symlink},stream:{llseek:ki.stream_ops.llseek}},file:{node:{getattr:ki.node_ops.getattr,setattr:ki.node_ops.setattr},stream:{llseek:ki.stream_ops.llseek,read:ki.stream_ops.read,write:ki.stream_ops.write,mmap:ki.stream_ops.mmap,msync:ki.stream_ops.msync}},link:{node:{getattr:ki.node_ops.getattr,setattr:ki.node_ops.setattr,readlink:ki.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ki.node_ops.getattr,setattr:ki.node_ops.setattr},stream:Yt.chrdev_stream_ops}};var Zt=Yt.createNode(K,nt,ft,kt);return Yt.isDir(Zt.mode)?(Zt.node_ops=ki.ops_table.dir.node,Zt.stream_ops=ki.ops_table.dir.stream,Zt.contents={}):Yt.isFile(Zt.mode)?(Zt.node_ops=ki.ops_table.file.node,Zt.stream_ops=ki.ops_table.file.stream,Zt.usedBytes=0,Zt.contents=null):Yt.isLink(Zt.mode)?(Zt.node_ops=ki.ops_table.link.node,Zt.stream_ops=ki.ops_table.link.stream):Yt.isChrdev(Zt.mode)&&(Zt.node_ops=ki.ops_table.chrdev.node,Zt.stream_ops=ki.ops_table.chrdev.stream),Zt.atime=Zt.mtime=Zt.ctime=Date.now(),K&&(K.contents[nt]=Zt,K.atime=K.mtime=K.ctime=Zt.atime),Zt},getFileDataAsTypedArray(K){return K.contents?K.contents.subarray?K.contents.subarray(0,K.usedBytes):new Uint8Array(K.contents):new Uint8Array(0)},expandFileStorage(K,nt){var ft=K.contents?K.contents.length:0;if(!(ft>=nt)){var kt=1048576;nt=Math.max(nt,ft*(ft<kt?2:1.125)>>>0),ft!=0&&(nt=Math.max(nt,256));var Zt=K.contents;K.contents=new Uint8Array(nt),K.usedBytes>0&&K.contents.set(Zt.subarray(0,K.usedBytes),0)}},resizeFileStorage(K,nt){if(K.usedBytes!=nt)if(nt==0)K.contents=null,K.usedBytes=0;else{var ft=K.contents;K.contents=new Uint8Array(nt),ft&&K.contents.set(ft.subarray(0,Math.min(nt,K.usedBytes))),K.usedBytes=nt}},node_ops:{getattr(K){var nt={};return nt.dev=Yt.isChrdev(K.mode)?K.id:1,nt.ino=K.id,nt.mode=K.mode,nt.nlink=1,nt.uid=0,nt.gid=0,nt.rdev=K.rdev,Yt.isDir(K.mode)?nt.size=4096:Yt.isFile(K.mode)?nt.size=K.usedBytes:Yt.isLink(K.mode)?nt.size=K.link.length:nt.size=0,nt.atime=new Date(K.atime),nt.mtime=new Date(K.mtime),nt.ctime=new Date(K.ctime),nt.blksize=4096,nt.blocks=Math.ceil(nt.size/nt.blksize),nt},setattr(K,nt){for(const ft of["mode","atime","mtime","ctime"])nt[ft]!=null&&(K[ft]=nt[ft]);nt.size!==void 0&&ki.resizeFileStorage(K,nt.size)},lookup(K,nt){throw ki.doesNotExistError},mknod(K,nt,ft,kt){return ki.createNode(K,nt,ft,kt)},rename(K,nt,ft){var kt;try{kt=Yt.lookupNode(nt,ft)}catch{}if(kt){if(Yt.isDir(K.mode))for(var Zt in kt.contents)throw new Yt.ErrnoError(55);Yt.hashRemoveNode(kt)}delete K.parent.contents[K.name],nt.contents[ft]=K,K.name=ft,nt.ctime=nt.mtime=K.parent.ctime=K.parent.mtime=Date.now()},unlink(K,nt){delete K.contents[nt],K.ctime=K.mtime=Date.now()},rmdir(K,nt){var ft=Yt.lookupNode(K,nt);for(var kt in ft.contents)throw new Yt.ErrnoError(55);delete K.contents[nt],K.ctime=K.mtime=Date.now()},readdir(K){return[".","..",...Object.keys(K.contents)]},symlink(K,nt,ft){var kt=ki.createNode(K,nt,41471,0);return kt.link=ft,kt},readlink(K){if(!Yt.isLink(K.mode))throw new Yt.ErrnoError(28);return K.link}},stream_ops:{read(K,nt,ft,kt,Zt){var ee=K.node.contents;if(Zt>=K.node.usedBytes)return 0;var ve=Math.min(K.node.usedBytes-Zt,kt);if(ve>8&&ee.subarray)nt.set(ee.subarray(Zt,Zt+ve),ft);else for(var we=0;we<ve;we++)nt[ft+we]=ee[Zt+we];return ve},write(K,nt,ft,kt,Zt,ee){if(nt.buffer===dt.buffer&&(ee=!1),!kt)return 0;var ve=K.node;if(ve.mtime=ve.ctime=Date.now(),nt.subarray&&(!ve.contents||ve.contents.subarray)){if(ee)return ve.contents=nt.subarray(ft,ft+kt),ve.usedBytes=kt,kt;if(ve.usedBytes===0&&Zt===0)return ve.contents=nt.slice(ft,ft+kt),ve.usedBytes=kt,kt;if(Zt+kt<=ve.usedBytes)return ve.contents.set(nt.subarray(ft,ft+kt),Zt),kt}if(ki.expandFileStorage(ve,Zt+kt),ve.contents.subarray&&nt.subarray)ve.contents.set(nt.subarray(ft,ft+kt),Zt);else for(var we=0;we<kt;we++)ve.contents[Zt+we]=nt[ft+we];return ve.usedBytes=Math.max(ve.usedBytes,Zt+kt),kt},llseek(K,nt,ft){var kt=nt;if(ft===1?kt+=K.position:ft===2&&Yt.isFile(K.node.mode)&&(kt+=K.node.usedBytes),kt<0)throw new Yt.ErrnoError(28);return kt},mmap(K,nt,ft,kt,Zt){if(!Yt.isFile(K.node.mode))throw new Yt.ErrnoError(43);var ee,ve,we=K.node.contents;if(!(Zt&2)&&we&&we.buffer===dt.buffer)ve=!1,ee=we.byteOffset;else{if(ve=!0,ee=Tn(nt),!ee)throw new Yt.ErrnoError(48);we&&((ft>0||ft+nt<we.length)&&(we.subarray?we=we.subarray(ft,ft+nt):we=Array.prototype.slice.call(we,ft,ft+nt)),dt.set(we,ee>>>0))}return{ptr:ee,allocated:ve}},msync(K,nt,ft,kt,Zt){return ki.stream_ops.write(K,nt,0,kt,ft,!1),0}}},rn=async K=>{var nt=await et(K);return new Uint8Array(nt)},dn=(K,nt,ft,kt,Zt,ee)=>{Yt.createDataFile(K,nt,ft,kt,Zt,ee)},cn=[],_a=(K,nt,ft,kt)=>{typeof Browser<"u"&&Browser.init();var Zt=!1;return cn.forEach(ee=>{Zt||ee.canHandle(nt)&&(ee.handle(K,nt,ft,kt),Zt=!0)}),Zt},ga=(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi)=>{var di=nt?Ai.resolve(Ne.join2(K,nt)):K;function vi(xi){function wi(zi){fi?.(),we||dn(K,nt,zi,kt,Zt,Ze),ee?.(),Wt()}_a(xi,di,wi,()=>{ve?.(),Wt()})||wi(xi)}$t(),typeof ft=="string"?rn(ft).then(vi,ve):vi(ft)},Wi=K=>{var nt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},ft=nt[K];if(typeof ft>"u")throw new Error(`Unknown file open mode: ${K}`);return ft},Ui=(K,nt)=>{var ft=0;return K&&(ft|=365),nt&&(ft|=146),ft},Yt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(K){this.errno=K}},FSStream:class{shared={};get object(){return this.node}set object(K){this.node=K}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(K){this.shared.flags=K}get position(){return this.shared.position}set position(K){this.shared.position=K}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(K,nt,ft,kt){K||(K=this),this.parent=K,this.mount=K.mount,this.id=Yt.nextInode++,this.name=nt,this.mode=ft,this.rdev=kt,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(K){K?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(K){K?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return Yt.isDir(this.mode)}get isDevice(){return Yt.isChrdev(this.mode)}},lookupPath(K,nt={}){if(!K)throw new Yt.ErrnoError(44);nt.follow_mount??=!0,Ne.isAbs(K)||(K=Yt.cwd()+"/"+K);t:for(var ft=0;ft<40;ft++){for(var kt=K.split("/").filter(fi=>!!fi),Zt=Yt.root,ee="/",ve=0;ve<kt.length;ve++){var we=ve===kt.length-1;if(we&&nt.parent)break;if(kt[ve]!=="."){if(kt[ve]===".."){if(ee=Ne.dirname(ee),Yt.isRoot(Zt)){K=ee+"/"+kt.slice(ve+1).join("/");continue t}else Zt=Zt.parent;continue}ee=Ne.join2(ee,kt[ve]);try{Zt=Yt.lookupNode(Zt,kt[ve])}catch(fi){if(fi?.errno===44&&we&&nt.noent_okay)return{path:ee};throw fi}if(Yt.isMountpoint(Zt)&&(!we||nt.follow_mount)&&(Zt=Zt.mounted.root),Yt.isLink(Zt.mode)&&(!we||nt.follow)){if(!Zt.node_ops.readlink)throw new Yt.ErrnoError(52);var Ze=Zt.node_ops.readlink(Zt);Ne.isAbs(Ze)||(Ze=Ne.dirname(ee)+"/"+Ze),K=Ze+"/"+kt.slice(ve+1).join("/");continue t}}}return{path:ee,node:Zt}}throw new Yt.ErrnoError(32)},getPath(K){for(var nt;;){if(Yt.isRoot(K)){var ft=K.mount.mountpoint;return nt?ft[ft.length-1]!=="/"?`${ft}/${nt}`:ft+nt:ft}nt=nt?`${K.name}/${nt}`:K.name,K=K.parent}},hashName(K,nt){for(var ft=0,kt=0;kt<nt.length;kt++)ft=(ft<<5)-ft+nt.charCodeAt(kt)|0;return(K+ft>>>0)%Yt.nameTable.length},hashAddNode(K){var nt=Yt.hashName(K.parent.id,K.name);K.name_next=Yt.nameTable[nt],Yt.nameTable[nt]=K},hashRemoveNode(K){var nt=Yt.hashName(K.parent.id,K.name);if(Yt.nameTable[nt]===K)Yt.nameTable[nt]=K.name_next;else for(var ft=Yt.nameTable[nt];ft;){if(ft.name_next===K){ft.name_next=K.name_next;break}ft=ft.name_next}},lookupNode(K,nt){var ft=Yt.mayLookup(K);if(ft)throw new Yt.ErrnoError(ft);for(var kt=Yt.hashName(K.id,nt),Zt=Yt.nameTable[kt];Zt;Zt=Zt.name_next){var ee=Zt.name;if(Zt.parent.id===K.id&&ee===nt)return Zt}return Yt.lookup(K,nt)},createNode(K,nt,ft,kt){var Zt=new Yt.FSNode(K,nt,ft,kt);return Yt.hashAddNode(Zt),Zt},destroyNode(K){Yt.hashRemoveNode(K)},isRoot(K){return K===K.parent},isMountpoint(K){return!!K.mounted},isFile(K){return(K&61440)===32768},isDir(K){return(K&61440)===16384},isLink(K){return(K&61440)===40960},isChrdev(K){return(K&61440)===8192},isBlkdev(K){return(K&61440)===24576},isFIFO(K){return(K&61440)===4096},isSocket(K){return(K&49152)===49152},flagsToPermissionString(K){var nt=["r","w","rw"][K&3];return K&512&&(nt+="w"),nt},nodePermissions(K,nt){return Yt.ignorePermissions?0:nt.includes("r")&&!(K.mode&292)||nt.includes("w")&&!(K.mode&146)||nt.includes("x")&&!(K.mode&73)?2:0},mayLookup(K){if(!Yt.isDir(K.mode))return 54;var nt=Yt.nodePermissions(K,"x");return nt||(K.node_ops.lookup?0:2)},mayCreate(K,nt){if(!Yt.isDir(K.mode))return 54;try{var ft=Yt.lookupNode(K,nt);return 20}catch{}return Yt.nodePermissions(K,"wx")},mayDelete(K,nt,ft){var kt;try{kt=Yt.lookupNode(K,nt)}catch(ee){return ee.errno}var Zt=Yt.nodePermissions(K,"wx");if(Zt)return Zt;if(ft){if(!Yt.isDir(kt.mode))return 54;if(Yt.isRoot(kt)||Yt.getPath(kt)===Yt.cwd())return 10}else if(Yt.isDir(kt.mode))return 31;return 0},mayOpen(K,nt){return K?Yt.isLink(K.mode)?32:Yt.isDir(K.mode)&&(Yt.flagsToPermissionString(nt)!=="r"||nt&576)?31:Yt.nodePermissions(K,Yt.flagsToPermissionString(nt)):44},checkOpExists(K,nt){if(!K)throw new Yt.ErrnoError(nt);return K},MAX_OPEN_FDS:4096,nextfd(){for(var K=0;K<=Yt.MAX_OPEN_FDS;K++)if(!Yt.streams[K])return K;throw new Yt.ErrnoError(33)},getStreamChecked(K){var nt=Yt.getStream(K);if(!nt)throw new Yt.ErrnoError(8);return nt},getStream:K=>Yt.streams[K],createStream(K,nt=-1){return K=Object.assign(new Yt.FSStream,K),nt==-1&&(nt=Yt.nextfd()),K.fd=nt,Yt.streams[nt]=K,K},closeStream(K){Yt.streams[K]=null},dupStream(K,nt=-1){var ft=Yt.createStream(K,nt);return ft.stream_ops?.dup?.(ft),ft},doSetAttr(K,nt,ft){var kt=K?.stream_ops.setattr,Zt=kt?K:nt;kt??=nt.node_ops.setattr,Yt.checkOpExists(kt,63),kt(Zt,ft)},chrdev_stream_ops:{open(K){var nt=Yt.getDevice(K.node.rdev);K.stream_ops=nt.stream_ops,K.stream_ops.open?.(K)},llseek(){throw new Yt.ErrnoError(70)}},major:K=>K>>8,minor:K=>K&255,makedev:(K,nt)=>K<<8|nt,registerDevice(K,nt){Yt.devices[K]={stream_ops:nt}},getDevice:K=>Yt.devices[K],getMounts(K){for(var nt=[],ft=[K];ft.length;){var kt=ft.pop();nt.push(kt),ft.push(...kt.mounts)}return nt},syncfs(K,nt){typeof K=="function"&&(nt=K,K=!1),Yt.syncFSRequests++,Yt.syncFSRequests>1&&ut(`warning: ${Yt.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var ft=Yt.getMounts(Yt.root.mount),kt=0;function Zt(ve){return Yt.syncFSRequests--,nt(ve)}function ee(ve){if(ve)return ee.errored?void 0:(ee.errored=!0,Zt(ve));++kt>=ft.length&&Zt(null)}ft.forEach(ve=>{if(!ve.type.syncfs)return ee(null);ve.type.syncfs(ve,K,ee)})},mount(K,nt,ft){var kt=ft==="/",Zt=!ft,ee;if(kt&&Yt.root)throw new Yt.ErrnoError(10);if(!kt&&!Zt){var ve=Yt.lookupPath(ft,{follow_mount:!1});if(ft=ve.path,ee=ve.node,Yt.isMountpoint(ee))throw new Yt.ErrnoError(10);if(!Yt.isDir(ee.mode))throw new Yt.ErrnoError(54)}var we={type:K,opts:nt,mountpoint:ft,mounts:[]},Ze=K.mount(we);return Ze.mount=we,we.root=Ze,kt?Yt.root=Ze:ee&&(ee.mounted=we,ee.mount&&ee.mount.mounts.push(we)),Ze},unmount(K){var nt=Yt.lookupPath(K,{follow_mount:!1});if(!Yt.isMountpoint(nt.node))throw new Yt.ErrnoError(28);var ft=nt.node,kt=ft.mounted,Zt=Yt.getMounts(kt);Object.keys(Yt.nameTable).forEach(ve=>{for(var we=Yt.nameTable[ve];we;){var Ze=we.name_next;Zt.includes(we.mount)&&Yt.destroyNode(we),we=Ze}}),ft.mounted=null;var ee=ft.mount.mounts.indexOf(kt);ft.mount.mounts.splice(ee,1)},lookup(K,nt){return K.node_ops.lookup(K,nt)},mknod(K,nt,ft){var kt=Yt.lookupPath(K,{parent:!0}),Zt=kt.node,ee=Ne.basename(K);if(!ee)throw new Yt.ErrnoError(28);if(ee==="."||ee==="..")throw new Yt.ErrnoError(20);var ve=Yt.mayCreate(Zt,ee);if(ve)throw new Yt.ErrnoError(ve);if(!Zt.node_ops.mknod)throw new Yt.ErrnoError(63);return Zt.node_ops.mknod(Zt,ee,nt,ft)},statfs(K){return Yt.statfsNode(Yt.lookupPath(K,{follow:!0}).node)},statfsStream(K){return Yt.statfsNode(K.node)},statfsNode(K){var nt={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:Yt.nextInode,ffree:Yt.nextInode-1,fsid:42,flags:2,namelen:255};return K.node_ops.statfs&&Object.assign(nt,K.node_ops.statfs(K.mount.opts.root)),nt},create(K,nt=438){return nt&=4095,nt|=32768,Yt.mknod(K,nt,0)},mkdir(K,nt=511){return nt&=1023,nt|=16384,Yt.mknod(K,nt,0)},mkdirTree(K,nt){var ft=K.split("/"),kt="";for(var Zt of ft)if(Zt){(kt||Ne.isAbs(K))&&(kt+="/"),kt+=Zt;try{Yt.mkdir(kt,nt)}catch(ee){if(ee.errno!=20)throw ee}}},mkdev(K,nt,ft){return typeof ft>"u"&&(ft=nt,nt=438),nt|=8192,Yt.mknod(K,nt,ft)},symlink(K,nt){if(!Ai.resolve(K))throw new Yt.ErrnoError(44);var ft=Yt.lookupPath(nt,{parent:!0}),kt=ft.node;if(!kt)throw new Yt.ErrnoError(44);var Zt=Ne.basename(nt),ee=Yt.mayCreate(kt,Zt);if(ee)throw new Yt.ErrnoError(ee);if(!kt.node_ops.symlink)throw new Yt.ErrnoError(63);return kt.node_ops.symlink(kt,Zt,K)},rename(K,nt){var ft=Ne.dirname(K),kt=Ne.dirname(nt),Zt=Ne.basename(K),ee=Ne.basename(nt),ve,we,Ze;if(ve=Yt.lookupPath(K,{parent:!0}),we=ve.node,ve=Yt.lookupPath(nt,{parent:!0}),Ze=ve.node,!we||!Ze)throw new Yt.ErrnoError(44);if(we.mount!==Ze.mount)throw new Yt.ErrnoError(75);var fi=Yt.lookupNode(we,Zt),di=Ai.relative(K,kt);if(di.charAt(0)!==".")throw new Yt.ErrnoError(28);if(di=Ai.relative(nt,ft),di.charAt(0)!==".")throw new Yt.ErrnoError(55);var vi;try{vi=Yt.lookupNode(Ze,ee)}catch{}if(fi!==vi){var xi=Yt.isDir(fi.mode),wi=Yt.mayDelete(we,Zt,xi);if(wi)throw new Yt.ErrnoError(wi);if(wi=vi?Yt.mayDelete(Ze,ee,xi):Yt.mayCreate(Ze,ee),wi)throw new Yt.ErrnoError(wi);if(!we.node_ops.rename)throw new Yt.ErrnoError(63);if(Yt.isMountpoint(fi)||vi&&Yt.isMountpoint(vi))throw new Yt.ErrnoError(10);if(Ze!==we&&(wi=Yt.nodePermissions(we,"w"),wi))throw new Yt.ErrnoError(wi);Yt.hashRemoveNode(fi);try{we.node_ops.rename(fi,Ze,ee),fi.parent=Ze}catch(zi){throw zi}finally{Yt.hashAddNode(fi)}}},rmdir(K){var nt=Yt.lookupPath(K,{parent:!0}),ft=nt.node,kt=Ne.basename(K),Zt=Yt.lookupNode(ft,kt),ee=Yt.mayDelete(ft,kt,!0);if(ee)throw new Yt.ErrnoError(ee);if(!ft.node_ops.rmdir)throw new Yt.ErrnoError(63);if(Yt.isMountpoint(Zt))throw new Yt.ErrnoError(10);ft.node_ops.rmdir(ft,kt),Yt.destroyNode(Zt)},readdir(K){var nt=Yt.lookupPath(K,{follow:!0}),ft=nt.node,kt=Yt.checkOpExists(ft.node_ops.readdir,54);return kt(ft)},unlink(K){var nt=Yt.lookupPath(K,{parent:!0}),ft=nt.node;if(!ft)throw new Yt.ErrnoError(44);var kt=Ne.basename(K),Zt=Yt.lookupNode(ft,kt),ee=Yt.mayDelete(ft,kt,!1);if(ee)throw new Yt.ErrnoError(ee);if(!ft.node_ops.unlink)throw new Yt.ErrnoError(63);if(Yt.isMountpoint(Zt))throw new Yt.ErrnoError(10);ft.node_ops.unlink(ft,kt),Yt.destroyNode(Zt)},readlink(K){var nt=Yt.lookupPath(K),ft=nt.node;if(!ft)throw new Yt.ErrnoError(44);if(!ft.node_ops.readlink)throw new Yt.ErrnoError(28);return ft.node_ops.readlink(ft)},stat(K,nt){var ft=Yt.lookupPath(K,{follow:!nt}),kt=ft.node,Zt=Yt.checkOpExists(kt.node_ops.getattr,63);return Zt(kt)},fstat(K){var nt=Yt.getStreamChecked(K),ft=nt.node,kt=nt.stream_ops.getattr,Zt=kt?nt:ft;return kt??=ft.node_ops.getattr,Yt.checkOpExists(kt,63),kt(Zt)},lstat(K){return Yt.stat(K,!0)},doChmod(K,nt,ft,kt){Yt.doSetAttr(K,nt,{mode:ft&4095|nt.mode&-4096,ctime:Date.now(),dontFollow:kt})},chmod(K,nt,ft){var kt;if(typeof K=="string"){var Zt=Yt.lookupPath(K,{follow:!ft});kt=Zt.node}else kt=K;Yt.doChmod(null,kt,nt,ft)},lchmod(K,nt){Yt.chmod(K,nt,!0)},fchmod(K,nt){var ft=Yt.getStreamChecked(K);Yt.doChmod(ft,ft.node,nt,!1)},doChown(K,nt,ft){Yt.doSetAttr(K,nt,{timestamp:Date.now(),dontFollow:ft})},chown(K,nt,ft,kt){var Zt;if(typeof K=="string"){var ee=Yt.lookupPath(K,{follow:!kt});Zt=ee.node}else Zt=K;Yt.doChown(null,Zt,kt)},lchown(K,nt,ft){Yt.chown(K,nt,ft,!0)},fchown(K,nt,ft){var kt=Yt.getStreamChecked(K);Yt.doChown(kt,kt.node,!1)},doTruncate(K,nt,ft){if(Yt.isDir(nt.mode))throw new Yt.ErrnoError(31);if(!Yt.isFile(nt.mode))throw new Yt.ErrnoError(28);var kt=Yt.nodePermissions(nt,"w");if(kt)throw new Yt.ErrnoError(kt);Yt.doSetAttr(K,nt,{size:ft,timestamp:Date.now()})},truncate(K,nt){if(nt<0)throw new Yt.ErrnoError(28);var ft;if(typeof K=="string"){var kt=Yt.lookupPath(K,{follow:!0});ft=kt.node}else ft=K;Yt.doTruncate(null,ft,nt)},ftruncate(K,nt){var ft=Yt.getStreamChecked(K);if(nt<0||(ft.flags&2097155)===0)throw new Yt.ErrnoError(28);Yt.doTruncate(ft,ft.node,nt)},utime(K,nt,ft){var kt=Yt.lookupPath(K,{follow:!0}),Zt=kt.node,ee=Yt.checkOpExists(Zt.node_ops.setattr,63);ee(Zt,{atime:nt,mtime:ft})},open(K,nt,ft=438){if(K==="")throw new Yt.ErrnoError(44);nt=typeof nt=="string"?Wi(nt):nt,nt&64?ft=ft&4095|32768:ft=0;var kt,Zt;if(typeof K=="object")kt=K;else{Zt=K.endsWith("/");var ee=Yt.lookupPath(K,{follow:!(nt&131072),noent_okay:!0});kt=ee.node,K=ee.path}var ve=!1;if(nt&64)if(kt){if(nt&128)throw new Yt.ErrnoError(20)}else{if(Zt)throw new Yt.ErrnoError(31);kt=Yt.mknod(K,ft|511,0),ve=!0}if(!kt)throw new Yt.ErrnoError(44);if(Yt.isChrdev(kt.mode)&&(nt&=-513),nt&65536&&!Yt.isDir(kt.mode))throw new Yt.ErrnoError(54);if(!ve){var we=Yt.mayOpen(kt,nt);if(we)throw new Yt.ErrnoError(we)}nt&512&&!ve&&Yt.truncate(kt,0),nt&=-131713;var Ze=Yt.createStream({node:kt,path:Yt.getPath(kt),flags:nt,seekable:!0,position:0,stream_ops:kt.stream_ops,ungotten:[],error:!1});return Ze.stream_ops.open&&Ze.stream_ops.open(Ze),ve&&Yt.chmod(kt,ft&511),w.logReadFiles&&!(nt&1)&&(K in Yt.readFiles||(Yt.readFiles[K]=1)),Ze},close(K){if(Yt.isClosed(K))throw new Yt.ErrnoError(8);K.getdents&&(K.getdents=null);try{K.stream_ops.close&&K.stream_ops.close(K)}catch(nt){throw nt}finally{Yt.closeStream(K.fd)}K.fd=null},isClosed(K){return K.fd===null},llseek(K,nt,ft){if(Yt.isClosed(K))throw new Yt.ErrnoError(8);if(!K.seekable||!K.stream_ops.llseek)throw new Yt.ErrnoError(70);if(ft!=0&&ft!=1&&ft!=2)throw new Yt.ErrnoError(28);return K.position=K.stream_ops.llseek(K,nt,ft),K.ungotten=[],K.position},read(K,nt,ft,kt,Zt){if(kt<0||Zt<0)throw new Yt.ErrnoError(28);if(Yt.isClosed(K))throw new Yt.ErrnoError(8);if((K.flags&2097155)===1)throw new Yt.ErrnoError(8);if(Yt.isDir(K.node.mode))throw new Yt.ErrnoError(31);if(!K.stream_ops.read)throw new Yt.ErrnoError(28);var ee=typeof Zt<"u";if(!ee)Zt=K.position;else if(!K.seekable)throw new Yt.ErrnoError(70);var ve=K.stream_ops.read(K,nt,ft,kt,Zt);return ee||(K.position+=ve),ve},write(K,nt,ft,kt,Zt,ee){if(kt<0||Zt<0)throw new Yt.ErrnoError(28);if(Yt.isClosed(K))throw new Yt.ErrnoError(8);if((K.flags&2097155)===0)throw new Yt.ErrnoError(8);if(Yt.isDir(K.node.mode))throw new Yt.ErrnoError(31);if(!K.stream_ops.write)throw new Yt.ErrnoError(28);K.seekable&&K.flags&1024&&Yt.llseek(K,0,2);var ve=typeof Zt<"u";if(!ve)Zt=K.position;else if(!K.seekable)throw new Yt.ErrnoError(70);var we=K.stream_ops.write(K,nt,ft,kt,Zt,ee);return ve||(K.position+=we),we},mmap(K,nt,ft,kt,Zt){if((kt&2)!==0&&(Zt&2)===0&&(K.flags&2097155)!==2)throw new Yt.ErrnoError(2);if((K.flags&2097155)===1)throw new Yt.ErrnoError(2);if(!K.stream_ops.mmap)throw new Yt.ErrnoError(43);if(!nt)throw new Yt.ErrnoError(28);return K.stream_ops.mmap(K,nt,ft,kt,Zt)},msync(K,nt,ft,kt,Zt){return K.stream_ops.msync?K.stream_ops.msync(K,nt,ft,kt,Zt):0},ioctl(K,nt,ft){if(!K.stream_ops.ioctl)throw new Yt.ErrnoError(59);return K.stream_ops.ioctl(K,nt,ft)},readFile(K,nt={}){if(nt.flags=nt.flags||0,nt.encoding=nt.encoding||"binary",nt.encoding!=="utf8"&&nt.encoding!=="binary")throw new Error(`Invalid encoding type "${nt.encoding}"`);var ft,kt=Yt.open(K,nt.flags),Zt=Yt.stat(K),ee=Zt.size,ve=new Uint8Array(ee);return Yt.read(kt,ve,0,ee,0),nt.encoding==="utf8"?ft=Ye(ve):nt.encoding==="binary"&&(ft=ve),Yt.close(kt),ft},writeFile(K,nt,ft={}){ft.flags=ft.flags||577;var kt=Yt.open(K,ft.flags,ft.mode);if(typeof nt=="string"){var Zt=new Uint8Array(Se(nt)+1),ee=Ge(nt,Zt,0,Zt.length);Yt.write(kt,Zt,0,ee,void 0,ft.canOwn)}else if(ArrayBuffer.isView(nt))Yt.write(kt,nt,0,nt.byteLength,void 0,ft.canOwn);else throw new Error("Unsupported data type");Yt.close(kt)},cwd:()=>Yt.currentPath,chdir(K){var nt=Yt.lookupPath(K,{follow:!0});if(nt.node===null)throw new Yt.ErrnoError(44);if(!Yt.isDir(nt.node.mode))throw new Yt.ErrnoError(54);var ft=Yt.nodePermissions(nt.node,"x");if(ft)throw new Yt.ErrnoError(ft);Yt.currentPath=nt.path},createDefaultDirectories(){Yt.mkdir("/tmp"),Yt.mkdir("/home"),Yt.mkdir("/home/web_user")},createDefaultDevices(){Yt.mkdir("/dev"),Yt.registerDevice(Yt.makedev(1,3),{read:()=>0,write:(kt,Zt,ee,ve,we)=>ve,llseek:()=>0}),Yt.mkdev("/dev/null",Yt.makedev(1,3)),bi.register(Yt.makedev(5,0),bi.default_tty_ops),bi.register(Yt.makedev(6,0),bi.default_tty1_ops),Yt.mkdev("/dev/tty",Yt.makedev(5,0)),Yt.mkdev("/dev/tty1",Yt.makedev(6,0));var K=new Uint8Array(1024),nt=0,ft=()=>(nt===0&&(ui(K),nt=K.byteLength),K[--nt]);Yt.createDevice("/dev","random",ft),Yt.createDevice("/dev","urandom",ft),Yt.mkdir("/dev/shm"),Yt.mkdir("/dev/shm/tmp")},createSpecialDirectories(){Yt.mkdir("/proc");var K=Yt.mkdir("/proc/self");Yt.mkdir("/proc/self/fd"),Yt.mount({mount(){var nt=Yt.createNode(K,"fd",16895,73);return nt.stream_ops={llseek:ki.stream_ops.llseek},nt.node_ops={lookup(ft,kt){var Zt=+kt,ee=Yt.getStreamChecked(Zt),ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ee.path},id:Zt+1};return ve.parent=ve,ve},readdir(){return Array.from(Yt.streams.entries()).filter(([ft,kt])=>kt).map(([ft,kt])=>ft.toString())}},nt}},{},"/proc/self/fd")},createStandardStreams(K,nt,ft){K?Yt.createDevice("/dev","stdin",K):Yt.symlink("/dev/tty","/dev/stdin"),nt?Yt.createDevice("/dev","stdout",null,nt):Yt.symlink("/dev/tty","/dev/stdout"),ft?Yt.createDevice("/dev","stderr",null,ft):Yt.symlink("/dev/tty1","/dev/stderr"),Yt.open("/dev/stdin",0),Yt.open("/dev/stdout",1),Yt.open("/dev/stderr",1)},staticInit(){Yt.nameTable=new Array(4096),Yt.mount(ki,{},"/"),Yt.createDefaultDirectories(),Yt.createDefaultDevices(),Yt.createSpecialDirectories(),Yt.filesystems={MEMFS:ki}},init(K,nt,ft){Yt.initialized=!0,K??=w.stdin,nt??=w.stdout,ft??=w.stderr,Yt.createStandardStreams(K,nt,ft)},quit(){Yt.initialized=!1;for(var K of Yt.streams)K&&Yt.close(K)},findObject(K,nt){var ft=Yt.analyzePath(K,nt);return ft.exists?ft.object:null},analyzePath(K,nt){try{var ft=Yt.lookupPath(K,{follow:!nt});K=ft.path}catch{}var kt={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var ft=Yt.lookupPath(K,{parent:!0});kt.parentExists=!0,kt.parentPath=ft.path,kt.parentObject=ft.node,kt.name=Ne.basename(K),ft=Yt.lookupPath(K,{follow:!nt}),kt.exists=!0,kt.path=ft.path,kt.object=ft.node,kt.name=ft.node.name,kt.isRoot=ft.path==="/"}catch(Zt){kt.error=Zt.errno}return kt},createPath(K,nt,ft,kt){K=typeof K=="string"?K:Yt.getPath(K);for(var Zt=nt.split("/").reverse();Zt.length;){var ee=Zt.pop();if(ee){var ve=Ne.join2(K,ee);try{Yt.mkdir(ve)}catch(we){if(we.errno!=20)throw we}K=ve}}return ve},createFile(K,nt,ft,kt,Zt){var ee=Ne.join2(typeof K=="string"?K:Yt.getPath(K),nt),ve=Ui(kt,Zt);return Yt.create(ee,ve)},createDataFile(K,nt,ft,kt,Zt,ee){var ve=nt;K&&(K=typeof K=="string"?K:Yt.getPath(K),ve=nt?Ne.join2(K,nt):K);var we=Ui(kt,Zt),Ze=Yt.create(ve,we);if(ft){if(typeof ft=="string"){for(var fi=new Array(ft.length),di=0,vi=ft.length;di<vi;++di)fi[di]=ft.charCodeAt(di);ft=fi}Yt.chmod(Ze,we|146);var xi=Yt.open(Ze,577);Yt.write(xi,ft,0,ft.length,0,ee),Yt.close(xi),Yt.chmod(Ze,we)}},createDevice(K,nt,ft,kt){var Zt=Ne.join2(typeof K=="string"?K:Yt.getPath(K),nt),ee=Ui(!!ft,!!kt);Yt.createDevice.major??=64;var ve=Yt.makedev(Yt.createDevice.major++,0);return Yt.registerDevice(ve,{open(we){we.seekable=!1},close(we){kt?.buffer?.length&&kt(10)},read(we,Ze,fi,di,vi){for(var xi=0,wi=0;wi<di;wi++){var zi;try{zi=ft()}catch{throw new Yt.ErrnoError(29)}if(zi===void 0&&xi===0)throw new Yt.ErrnoError(6);if(zi==null)break;xi++,Ze[fi+wi]=zi}return xi&&(we.node.atime=Date.now()),xi},write(we,Ze,fi,di,vi){for(var xi=0;xi<di;xi++)try{kt(Ze[fi+xi])}catch{throw new Yt.ErrnoError(29)}return di&&(we.node.mtime=we.node.ctime=Date.now()),xi}}),Yt.mkdev(Zt,ee,ve)},forceLoadFile(K){if(K.isDevice||K.isFolder||K.link||K.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{K.contents=at(K.url),K.usedBytes=K.contents.length}catch{throw new Yt.ErrnoError(29)}},createLazyFile(K,nt,ft,kt,Zt){class ee{lengthKnown=!1;chunks=[];get(wi){if(!(wi>this.length-1||wi<0)){var zi=wi%this.chunkSize,Vi=wi/this.chunkSize|0;return this.getter(Vi)[zi]}}setDataGetter(wi){this.getter=wi}cacheLength(){var wi=new XMLHttpRequest;if(wi.open("HEAD",ft,!1),wi.send(null),!(wi.status>=200&&wi.status<300||wi.status===304))throw new Error("Couldn't load "+ft+". Status: "+wi.status);var zi=Number(wi.getResponseHeader("Content-length")),Vi,mn=(Vi=wi.getResponseHeader("Accept-Ranges"))&&Vi==="bytes",sn=(Vi=wi.getResponseHeader("Content-Encoding"))&&Vi==="gzip",yn=1024*1024;mn||(yn=zi);var tn=(Hn,Un)=>{if(Hn>Un)throw new Error("invalid range ("+Hn+", "+Un+") or no bytes requested!");if(Un>zi-1)throw new Error("only "+zi+" bytes available! programmer error!");var bn=new XMLHttpRequest;if(bn.open("GET",ft,!1),zi!==yn&&bn.setRequestHeader("Range","bytes="+Hn+"-"+Un),bn.responseType="arraybuffer",bn.overrideMimeType&&bn.overrideMimeType("text/plain; charset=x-user-defined"),bn.send(null),!(bn.status>=200&&bn.status<300||bn.status===304))throw new Error("Couldn't load "+ft+". Status: "+bn.status);return bn.response!==void 0?new Uint8Array(bn.response||[]):Qe(bn.responseText||"")},Vn=this;Vn.setDataGetter(Hn=>{var Un=Hn*yn,bn=(Hn+1)*yn-1;if(bn=Math.min(bn,zi-1),typeof Vn.chunks[Hn]>"u"&&(Vn.chunks[Hn]=tn(Un,bn)),typeof Vn.chunks[Hn]>"u")throw new Error("doXHR failed!");return Vn.chunks[Hn]}),(sn||!zi)&&(yn=zi=1,zi=this.getter(0).length,yn=zi,ot("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zi,this._chunkSize=yn,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!H)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve=new ee,we={isDevice:!1,contents:ve}}else var we={isDevice:!1,url:ft};var Ze=Yt.createFile(K,nt,we,kt,Zt);we.contents?Ze.contents=we.contents:we.url&&(Ze.contents=null,Ze.url=we.url),Object.defineProperties(Ze,{usedBytes:{get:function(){return this.contents.length}}});var fi={},di=Object.keys(Ze.stream_ops);di.forEach(xi=>{var wi=Ze.stream_ops[xi];fi[xi]=(...zi)=>(Yt.forceLoadFile(Ze),wi(...zi))});function vi(xi,wi,zi,Vi,mn){var sn=xi.node.contents;if(mn>=sn.length)return 0;var yn=Math.min(sn.length-mn,Vi);if(sn.slice)for(var tn=0;tn<yn;tn++)wi[zi+tn]=sn[mn+tn];else for(var tn=0;tn<yn;tn++)wi[zi+tn]=sn.get(mn+tn);return yn}return fi.read=(xi,wi,zi,Vi,mn)=>(Yt.forceLoadFile(Ze),vi(xi,wi,zi,Vi,mn)),fi.mmap=(xi,wi,zi,Vi,mn)=>{Yt.forceLoadFile(Ze);var sn=Tn(wi);if(!sn)throw new Yt.ErrnoError(48);return vi(xi,dt,sn,wi,zi),{ptr:sn,allocated:!0}},Ze.stream_ops=fi,Ze}},pn=(K,nt)=>(K>>>=0,K?Ye(gt,K,nt):""),Ci={DEFAULT_POLLMASK:5,calculateAt(K,nt,ft){if(Ne.isAbs(nt))return nt;var kt;if(K===-100)kt=Yt.cwd();else{var Zt=Ci.getStreamFromFD(K);kt=Zt.path}if(nt.length==0){if(!ft)throw new Yt.ErrnoError(44);return kt}return kt+"/"+nt},writeStat(K,nt){Mt[K>>>2>>>0]=nt.dev,Mt[K+4>>>2>>>0]=nt.mode,wt[K+8>>>2>>>0]=nt.nlink,Mt[K+12>>>2>>>0]=nt.uid,Mt[K+16>>>2>>>0]=nt.gid,Mt[K+20>>>2>>>0]=nt.rdev,ht[K+24>>>3]=BigInt(nt.size),Mt[K+32>>>2>>>0]=4096,Mt[K+36>>>2>>>0]=nt.blocks;var ft=nt.atime.getTime(),kt=nt.mtime.getTime(),Zt=nt.ctime.getTime();return ht[K+40>>>3]=BigInt(Math.floor(ft/1e3)),wt[K+48>>>2>>>0]=ft%1e3*1e3*1e3,ht[K+56>>>3]=BigInt(Math.floor(kt/1e3)),wt[K+64>>>2>>>0]=kt%1e3*1e3*1e3,ht[K+72>>>3]=BigInt(Math.floor(Zt/1e3)),wt[K+80>>>2>>>0]=Zt%1e3*1e3*1e3,ht[K+88>>>3]=BigInt(nt.ino),0},writeStatFs(K,nt){Mt[K+4>>>2>>>0]=nt.bsize,Mt[K+40>>>2>>>0]=nt.bsize,Mt[K+8>>>2>>>0]=nt.blocks,Mt[K+12>>>2>>>0]=nt.bfree,Mt[K+16>>>2>>>0]=nt.bavail,Mt[K+20>>>2>>>0]=nt.files,Mt[K+24>>>2>>>0]=nt.ffree,Mt[K+28>>>2>>>0]=nt.fsid,Mt[K+44>>>2>>>0]=nt.flags,Mt[K+36>>>2>>>0]=nt.namelen},doMsync(K,nt,ft,kt,Zt){if(!Yt.isFile(nt.node.mode))throw new Yt.ErrnoError(43);if(kt&2)return 0;var ee=gt.slice(K,K+ft);Yt.msync(nt,ee,Zt,ft,kt)},getStreamFromFD(K){var nt=Yt.getStreamChecked(K);return nt},varargs:void 0,getStr(K){var nt=pn(K);return nt}};function _n(K,nt){K>>>=0;try{return K=Ci.getStr(K),Yt.chmod(K,nt),0}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}function Oa(K){try{var nt=Ci.getStreamFromFD(K);return Yt.dupStream(nt).fd}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}function ps(K,nt,ft,kt){nt>>>=0;try{if(nt=Ci.getStr(nt),nt=Ci.calculateAt(K,nt),ft&-8)return-28;var Zt=Yt.lookupPath(nt,{follow:!0}),ee=Zt.node;if(!ee)return-44;var ve="";return ft&4&&(ve+="r"),ft&2&&(ve+="w"),ft&1&&(ve+="x"),ve&&Yt.nodePermissions(ee,ve)?-2:0}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function Pa(K,nt,ft,kt){ft=mi(ft),kt=mi(kt);try{if(isNaN(ft))return 61;if(nt!=0)return-138;if(ft<0||kt<0)return-28;var Zt=Yt.fstat(K).size,ee=ft+kt;return ee>Zt&&Yt.ftruncate(K,ee),0}catch(ve){if(typeof Yt>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function Cr(K,nt){try{return Yt.fchmod(K,nt),0}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}var Kn=()=>{var K=Mt[+Ci.varargs>>>2>>>0];return Ci.varargs+=4,K},Zn=Kn;function Na(K,nt,ft){ft>>>=0,Ci.varargs=ft;try{var kt=Ci.getStreamFromFD(K);switch(nt){case 0:{var Zt=Kn();if(Zt<0)return-28;for(;Yt.streams[Zt];)Zt++;var ee;return ee=Yt.dupStream(kt,Zt),ee.fd}case 1:case 2:return 0;case 3:return kt.flags;case 4:{var Zt=Kn();return kt.flags|=Zt,0}case 12:{var Zt=Zn(),ve=0;return At[Zt+ve>>>1>>>0]=2,0}case 13:case 14:return 0}return-28}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function xa(K,nt){nt>>>=0;try{return Ci.writeStat(nt,Yt.fstat(K))}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}var en=(K,nt,ft)=>Ge(K,gt,nt,ft);function eu(K,nt){K>>>=0,nt>>>=0;try{if(nt===0)return-28;var ft=Yt.cwd(),kt=Se(ft)+1;return nt<kt?-68:(en(ft,K,nt),kt)}catch(Zt){if(typeof Yt>"u"||Zt.name!=="ErrnoError")throw Zt;return-Zt.errno}}function iu(K,nt,ft){nt>>>=0,ft>>>=0;try{var kt=Ci.getStreamFromFD(K);kt.getdents||=Yt.readdir(kt.path);for(var Zt=280,ee=0,ve=Yt.llseek(kt,0,1),we=Math.floor(ve/Zt),Ze=Math.min(kt.getdents.length,we+Math.floor(ft/Zt)),fi=we;fi<Ze;fi++){var di,vi,xi=kt.getdents[fi];if(xi===".")di=kt.node.id,vi=4;else if(xi===".."){var wi=Yt.lookupPath(kt.path,{parent:!0});di=wi.node.id,vi=4}else{var zi;try{zi=Yt.lookupNode(kt.node,xi)}catch(Vi){if(Vi?.errno===28)continue;throw Vi}di=zi.id,vi=Yt.isChrdev(zi.mode)?2:Yt.isDir(zi.mode)?4:Yt.isLink(zi.mode)?10:8}ht[nt+ee>>>3]=BigInt(di),ht[nt+ee+8>>>3]=BigInt((fi+1)*Zt),At[nt+ee+16>>>1>>>0]=280,dt[nt+ee+18>>>0]=vi,en(xi,nt+ee+19,256),ee+=Zt}return Yt.llseek(kt,fi*Zt,0),ee}catch(Vi){if(typeof Yt>"u"||Vi.name!=="ErrnoError")throw Vi;return-Vi.errno}}function Ya(K,nt,ft){ft>>>=0,Ci.varargs=ft;try{var kt=Ci.getStreamFromFD(K);switch(nt){case 21509:return kt.tty?0:-59;case 21505:{if(!kt.tty)return-59;if(kt.tty.ops.ioctl_tcgets){var Zt=kt.tty.ops.ioctl_tcgets(kt),ee=Zn();Mt[ee>>>2>>>0]=Zt.c_iflag||0,Mt[ee+4>>>2>>>0]=Zt.c_oflag||0,Mt[ee+8>>>2>>>0]=Zt.c_cflag||0,Mt[ee+12>>>2>>>0]=Zt.c_lflag||0;for(var ve=0;ve<32;ve++)dt[ee+ve+17>>>0]=Zt.c_cc[ve]||0;return 0}return 0}case 21510:case 21511:case 21512:return kt.tty?0:-59;case 21506:case 21507:case 21508:{if(!kt.tty)return-59;if(kt.tty.ops.ioctl_tcsets){for(var ee=Zn(),we=Mt[ee>>>2>>>0],Ze=Mt[ee+4>>>2>>>0],fi=Mt[ee+8>>>2>>>0],di=Mt[ee+12>>>2>>>0],vi=[],ve=0;ve<32;ve++)vi.push(dt[ee+ve+17>>>0]);return kt.tty.ops.ioctl_tcsets(kt.tty,nt,{c_iflag:we,c_oflag:Ze,c_cflag:fi,c_lflag:di,c_cc:vi})}return 0}case 21519:{if(!kt.tty)return-59;var ee=Zn();return Mt[ee>>>2>>>0]=0,0}case 21520:return kt.tty?-28:-59;case 21531:{var ee=Zn();return Yt.ioctl(kt,nt,ee)}case 21523:{if(!kt.tty)return-59;if(kt.tty.ops.ioctl_tiocgwinsz){var xi=kt.tty.ops.ioctl_tiocgwinsz(kt.tty),ee=Zn();At[ee>>>1>>>0]=xi[0],At[ee+2>>>1>>>0]=xi[1]}return 0}case 21524:return kt.tty?0:-59;case 21515:return kt.tty?0:-59;default:return-28}}catch(wi){if(typeof Yt>"u"||wi.name!=="ErrnoError")throw wi;return-wi.errno}}function Ir(K,nt){K>>>=0,nt>>>=0;try{return K=Ci.getStr(K),Ci.writeStat(nt,Yt.lstat(K))}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}function zc(K,nt,ft,kt){nt>>>=0,ft>>>=0;try{nt=Ci.getStr(nt);var Zt=kt&256,ee=kt&4096;return kt=kt&-6401,nt=Ci.calculateAt(K,nt,ee),Ci.writeStat(ft,Zt?Yt.lstat(nt):Yt.stat(nt))}catch(ve){if(typeof Yt>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function nu(K,nt,ft,kt){nt>>>=0,kt>>>=0,Ci.varargs=kt;try{nt=Ci.getStr(nt),nt=Ci.calculateAt(K,nt);var Zt=kt?Kn():0;return Yt.open(nt,ft,Zt).fd}catch(ee){if(typeof Yt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.errno}}function au(K,nt,ft,kt){nt>>>=0,ft>>>=0,kt>>>=0;try{if(nt=Ci.getStr(nt),nt=Ci.calculateAt(K,nt),kt<=0)return-28;var Zt=Yt.readlink(nt),ee=Math.min(kt,Se(Zt)),ve=dt[ft+ee>>>0];return en(Zt,ft,kt+1),dt[ft+ee>>>0]=ve,ee}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function Oc(K,nt,ft,kt){nt>>>=0,kt>>>=0;try{return nt=Ci.getStr(nt),kt=Ci.getStr(kt),nt=Ci.calculateAt(K,nt),kt=Ci.calculateAt(ft,kt),Yt.rename(nt,kt),0}catch(Zt){if(typeof Yt>"u"||Zt.name!=="ErrnoError")throw Zt;return-Zt.errno}}function zs(K){K>>>=0;try{return K=Ci.getStr(K),Yt.rmdir(K),0}catch(nt){if(typeof Yt>"u"||nt.name!=="ErrnoError")throw nt;return-nt.errno}}function Os(K,nt){K>>>=0,nt>>>=0;try{return K=Ci.getStr(K),Ci.writeStat(nt,Yt.stat(K))}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return-ft.errno}}function Ea(K,nt,ft){K>>>=0,ft>>>=0;try{return K=Ci.getStr(K),ft=Ci.getStr(ft),ft=Ci.calculateAt(nt,ft),Yt.symlink(K,ft),0}catch(kt){if(typeof Yt>"u"||kt.name!=="ErrnoError")throw kt;return-kt.errno}}function Jn(K,nt,ft){nt>>>=0;try{return nt=Ci.getStr(nt),nt=Ci.calculateAt(K,nt),ft===0?Yt.unlink(nt):ft===512?Yt.rmdir(nt):fe("Invalid flags passed to unlinkat"),0}catch(kt){if(typeof Yt>"u"||kt.name!=="ErrnoError")throw kt;return-kt.errno}}var ru=()=>fe(""),Ps={},ms=K=>{for(;K.length;){var nt=K.pop(),ft=K.pop();ft(nt)}};function Rr(K){return this.fromWireType(wt[K>>>2>>>0])}var Sa={},Va={},Nn={},Zo=w.InternalError=class extends Error{constructor(K){super(K),this.name="InternalError"}},_s=K=>{throw new Zo(K)},gs=(K,nt,ft)=>{K.forEach(we=>Nn[we]=nt);function kt(we){var Ze=ft(we);Ze.length!==K.length&&_s("Mismatched type converter count");for(var fi=0;fi<K.length;++fi)ua(K[fi],Ze[fi])}var Zt=new Array(nt.length),ee=[],ve=0;nt.forEach((we,Ze)=>{Va.hasOwnProperty(we)?Zt[Ze]=Va[we]:(ee.push(we),Sa.hasOwnProperty(we)||(Sa[we]=[]),Sa[we].push(()=>{Zt[Ze]=Va[we],++ve,ve===ee.length&&kt(Zt)}))}),ee.length===0&&kt(Zt)},Dr=function(K){K>>>=0;var nt=Ps[K];delete Ps[K];var ft=nt.rawConstructor,kt=nt.rawDestructor,Zt=nt.fields,ee=Zt.map(ve=>ve.getterReturnType).concat(Zt.map(ve=>ve.setterArgumentType));gs([K],ee,ve=>{var we={};return Zt.forEach((Ze,fi)=>{var di=Ze.fieldName,vi=ve[fi],xi=ve[fi].optional,wi=Ze.getter,zi=Ze.getterContext,Vi=ve[fi+Zt.length],mn=Ze.setter,sn=Ze.setterContext;we[di]={read:yn=>vi.fromWireType(wi(zi,yn)),write:(yn,tn)=>{var Vn=[];mn(sn,yn,Vi.toWireType(Vn,tn)),ms(Vn)},optional:xi}}),[{name:nt.name,fromWireType:Ze=>{var fi={};for(var di in we)fi[di]=we[di].read(Ze);return kt(Ze),fi},toWireType:(Ze,fi)=>{for(var di in we)if(!(di in fi)&&!we[di].optional)throw new TypeError(`Missing field: "${di}"`);var vi=ft();for(di in we)we[di].write(vi,fi[di]);return Ze!==null&&Ze.push(kt,vi),vi},argPackAdvance:Sn,readValueFromPointer:Rr,destructorFunction:kt}]})},ys=K=>{if(K===null)return"null";var nt=typeof K;return nt==="object"||nt==="array"||nt==="function"?K.toString():""+K},su=()=>{for(var K=new Array(256),nt=0;nt<256;++nt)K[nt]=String.fromCharCode(nt);Xa=K},Xa,Rn=K=>{for(var nt="",ft=K;gt[ft>>>0];)nt+=Xa[gt[ft++>>>0]];return nt},bs=w.BindingError=class extends Error{constructor(K){super(K),this.name="BindingError"}},Yi=K=>{throw new bs(K)};function Ho(K,nt,ft={}){var kt=nt.name;if(K||Yi(`type "${kt}" must have a positive integer typeid pointer`),Va.hasOwnProperty(K)){if(ft.ignoreDuplicateRegistrations)return;Yi(`Cannot register type '${kt}' twice`)}if(Va[K]=nt,delete Nn[K],Sa.hasOwnProperty(K)){var Zt=Sa[K];delete Sa[K],Zt.forEach(ee=>ee())}}function ua(K,nt,ft={}){return Ho(K,nt,ft)}var ou=(K,nt,ft)=>{switch(nt){case 1:return ft?kt=>dt[kt>>>0]:kt=>gt[kt>>>0];case 2:return ft?kt=>At[kt>>>1>>>0]:kt=>_t[kt>>>1>>>0];case 4:return ft?kt=>Mt[kt>>>2>>>0]:kt=>wt[kt>>>2>>>0];case 8:return ft?kt=>ht[kt>>>3]:kt=>It[kt>>>3];default:throw new TypeError(`invalid integer width (${nt}): ${K}`)}};function Ns(K,nt,ft,kt,Zt){K>>>=0,nt>>>=0,ft>>>=0,nt=Rn(nt);var ee=nt.indexOf("u")!=-1;ua(K,{name:nt,fromWireType:ve=>ve,toWireType:function(ve,we){if(typeof we!="bigint"&&typeof we!="number")throw new TypeError(`Cannot convert "${ys(we)}" to ${this.name}`);return typeof we=="number"&&(we=BigInt(we)),we},argPackAdvance:Sn,readValueFromPointer:ou(nt,ft,!ee),destructorFunction:null})}var Sn=8;function qo(K,nt,ft,kt){K>>>=0,nt>>>=0,nt=Rn(nt),ua(K,{name:nt,fromWireType:function(Zt){return!!Zt},toWireType:function(Zt,ee){return ee?ft:kt},argPackAdvance:Sn,readValueFromPointer:function(Zt){return this.fromWireType(gt[Zt>>>0])},destructorFunction:null})}var Qo=K=>({count:K.count,deleteScheduled:K.deleteScheduled,preservePointerOnDelete:K.preservePointerOnDelete,ptr:K.ptr,ptrType:K.ptrType,smartPtr:K.smartPtr,smartPtrType:K.smartPtrType}),Fa=K=>{function nt(ft){return ft.$$.ptrType.registeredClass.name}Yi(nt(K)+" instance already deleted")},La=!1,Wo=K=>{},Yo=K=>{K.smartPtr?K.smartPtrType.rawDestructor(K.smartPtr):K.ptrType.registeredClass.rawDestructor(K.ptr)},Vo=K=>{K.count.value-=1;var nt=K.count.value===0;nt&&Yo(K)},Ma=K=>typeof FinalizationRegistry>"u"?(Ma=nt=>nt,K):(La=new FinalizationRegistry(nt=>{Vo(nt.$$)}),Ma=nt=>{var ft=nt.$$,kt=!!ft.smartPtr;if(kt){var Zt={$$:ft};La.register(nt,Zt,nt)}return nt},Wo=nt=>La.unregister(nt),Ma(K)),ka=()=>{let K=$r.prototype;Object.assign(K,{isAliasOf(ft){if(!(this instanceof $r)||!(ft instanceof $r))return!1;var kt=this.$$.ptrType.registeredClass,Zt=this.$$.ptr;ft.$$=ft.$$;for(var ee=ft.$$.ptrType.registeredClass,ve=ft.$$.ptr;kt.baseClass;)Zt=kt.upcast(Zt),kt=kt.baseClass;for(;ee.baseClass;)ve=ee.upcast(ve),ee=ee.baseClass;return kt===ee&&Zt===ve},clone(){if(this.$$.ptr||Fa(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var ft=Ma(Object.create(Object.getPrototypeOf(this),{$$:{value:Qo(this.$$)}}));return ft.$$.count.value+=1,ft.$$.deleteScheduled=!1,ft},delete(){this.$$.ptr||Fa(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Yi("Object already scheduled for deletion"),Wo(this),Vo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Fa(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Yi("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const nt=Symbol.dispose;nt&&(K[nt]=K.delete)};function $r(){}var Ua=(K,nt)=>Object.defineProperty(nt,"name",{value:K}),Ta={},Xo=(K,nt,ft)=>{if(K[nt].overloadTable===void 0){var kt=K[nt];K[nt]=function(...Zt){return K[nt].overloadTable.hasOwnProperty(Zt.length)||Yi(`Function '${ft}' called with an invalid number of arguments (${Zt.length}) - expects one of (${K[nt].overloadTable})!`),K[nt].overloadTable[Zt.length].apply(this,Zt)},K[nt].overloadTable=[],K[nt].overloadTable[kt.argCount]=kt}},Br=(K,nt,ft)=>{w.hasOwnProperty(K)?((ft===void 0||w[K].overloadTable!==void 0&&w[K].overloadTable[ft]!==void 0)&&Yi(`Cannot register public name '${K}' twice`),Xo(w,K,K),w[K].overloadTable.hasOwnProperty(ft)&&Yi(`Cannot register multiple overloads of a function with the same number of arguments (${ft})!`),w[K].overloadTable[ft]=nt):(w[K]=nt,w[K].argCount=ft)},lu=48,Fs=57,Ls=K=>{K=K.replace(/[^a-zA-Z0-9_]/g,"$");var nt=K.charCodeAt(0);return nt>=lu&&nt<=Fs?`_${K}`:K};function uu(K,nt,ft,kt,Zt,ee,ve,we){this.name=K,this.constructor=nt,this.instancePrototype=ft,this.rawDestructor=kt,this.baseClass=Zt,this.getActualType=ee,this.upcast=ve,this.downcast=we,this.pureVirtualFunctions=[]}var On=(K,nt,ft)=>{for(;nt!==ft;)nt.upcast||Yi(`Expected null or instance of ${ft.name}, got an instance of ${nt.name}`),K=nt.upcast(K),nt=nt.baseClass;return K};function Ka(K,nt){if(nt===null)return this.isReference&&Yi(`null is not a valid ${this.name}`),0;nt.$$||Yi(`Cannot pass "${ys(nt)}" as a ${this.name}`),nt.$$.ptr||Yi(`Cannot pass deleted object as a pointer of type ${this.name}`);var ft=nt.$$.ptrType.registeredClass,kt=On(nt.$$.ptr,ft,this.registeredClass);return kt}function Us(K,nt){var ft;if(nt===null)return this.isReference&&Yi(`null is not a valid ${this.name}`),this.isSmartPointer?(ft=this.rawConstructor(),K!==null&&K.push(this.rawDestructor,ft),ft):0;(!nt||!nt.$$)&&Yi(`Cannot pass "${ys(nt)}" as a ${this.name}`),nt.$$.ptr||Yi(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&nt.$$.ptrType.isConst&&Yi(`Cannot convert argument of type ${nt.$$.smartPtrType?nt.$$.smartPtrType.name:nt.$$.ptrType.name} to parameter type ${this.name}`);var kt=nt.$$.ptrType.registeredClass;if(ft=On(nt.$$.ptr,kt,this.registeredClass),this.isSmartPointer)switch(nt.$$.smartPtr===void 0&&Yi("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:nt.$$.smartPtrType===this?ft=nt.$$.smartPtr:Yi(`Cannot convert argument of type ${nt.$$.smartPtrType?nt.$$.smartPtrType.name:nt.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:ft=nt.$$.smartPtr;break;case 2:if(nt.$$.smartPtrType===this)ft=nt.$$.smartPtr;else{var Zt=nt.clone();ft=this.rawShare(ft,Qn.toHandle(()=>Zt.delete())),K!==null&&K.push(this.rawDestructor,ft)}break;default:Yi("Unsupporting sharing policy")}return ft}function vs(K,nt){if(nt===null)return this.isReference&&Yi(`null is not a valid ${this.name}`),0;nt.$$||Yi(`Cannot pass "${ys(nt)}" as a ${this.name}`),nt.$$.ptr||Yi(`Cannot pass deleted object as a pointer of type ${this.name}`),nt.$$.ptrType.isConst&&Yi(`Cannot convert argument of type ${nt.$$.ptrType.name} to parameter type ${this.name}`);var ft=nt.$$.ptrType.registeredClass,kt=On(nt.$$.ptr,ft,this.registeredClass);return kt}var cu=(K,nt,ft)=>{if(nt===ft)return K;if(ft.baseClass===void 0)return null;var kt=cu(K,nt,ft.baseClass);return kt===null?null:ft.downcast(kt)},Ko={},Jo=(K,nt)=>{for(nt===void 0&&Yi("ptr should not be undefined");K.baseClass;)nt=K.upcast(nt),K=K.baseClass;return nt},ws=(K,nt)=>(nt=Jo(K,nt),Ko[nt]),Ja=(K,nt)=>{(!nt.ptrType||!nt.ptr)&&_s("makeClassHandle requires ptr and ptrType");var ft=!!nt.smartPtrType,kt=!!nt.smartPtr;return ft!==kt&&_s("Both smartPtrType and smartPtr must be specified"),nt.count={value:1},Ma(Object.create(K,{$$:{value:nt,writable:!0}}))};function fu(K){var nt=this.getPointee(K);if(!nt)return this.destructor(K),null;var ft=ws(this.registeredClass,nt);if(ft!==void 0){if(ft.$$.count.value===0)return ft.$$.ptr=nt,ft.$$.smartPtr=K,ft.clone();var kt=ft.clone();return this.destructor(K),kt}function Zt(){return this.isSmartPointer?Ja(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:nt,smartPtrType:this,smartPtr:K}):Ja(this.registeredClass.instancePrototype,{ptrType:this,ptr:K})}var ee=this.registeredClass.getActualType(nt),ve=Ta[ee];if(!ve)return Zt.call(this);var we;this.isConst?we=ve.constPointerType:we=ve.pointerType;var Ze=cu(nt,this.registeredClass,we.registeredClass);return Ze===null?Zt.call(this):this.isSmartPointer?Ja(we.registeredClass.instancePrototype,{ptrType:we,ptr:Ze,smartPtrType:this,smartPtr:K}):Ja(we.registeredClass.instancePrototype,{ptrType:we,ptr:Ze})}var Pc=()=>{Object.assign(Gs.prototype,{getPointee(K){return this.rawGetPointee&&(K=this.rawGetPointee(K)),K},destructor(K){this.rawDestructor?.(K)},argPackAdvance:Sn,readValueFromPointer:Rr,fromWireType:fu})};function Gs(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di){this.name=K,this.registeredClass=nt,this.isReference=ft,this.isConst=kt,this.isSmartPointer=Zt,this.pointeeType=ee,this.sharingPolicy=ve,this.rawGetPointee=we,this.rawConstructor=Ze,this.rawShare=fi,this.rawDestructor=di,!Zt&&nt.baseClass===void 0?kt?(this.toWireType=Ka,this.destructorFunction=null):(this.toWireType=vs,this.destructorFunction=null):this.toWireType=Us}var hu=(K,nt,ft)=>{w.hasOwnProperty(K)||_s("Replacing nonexistent public symbol"),w[K].overloadTable!==void 0&&ft!==void 0?w[K].overloadTable[ft]=nt:(w[K]=nt,w[K].argCount=ft)},tl=(K,nt,ft=[],kt=!1)=>{var Zt=We(nt),ee=Zt(...ft);return K[0]=="p"?ee>>>0:ee},Nc=(K,nt,ft=!1)=>(...kt)=>tl(K,nt,kt,ft),Aa=(K,nt,ft=!1)=>{K=Rn(K);function kt(){if(K.includes("p"))return Nc(K,nt,ft);var ee=We(nt);return ee}var Zt=kt();return typeof Zt!="function"&&Yi(`unknown function pointer with signature ${K}: ${nt}`),Zt};class Fc extends Error{}var du=K=>{var nt=ya(K),ft=Rn(nt);return Ln(nt),ft},pu=(K,nt)=>{var ft=[],kt={};function Zt(ee){if(!kt[ee]&&!Va[ee]){if(Nn[ee]){Nn[ee].forEach(Zt);return}ft.push(ee),kt[ee]=!0}}throw nt.forEach(Zt),new Fc(`${K}: `+ft.map(du).join([", "]))};function mu(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di,vi,xi){K>>>=0,nt>>>=0,ft>>>=0,kt>>>=0,Zt>>>=0,ee>>>=0,ve>>>=0,we>>>=0,Ze>>>=0,fi>>>=0,di>>>=0,vi>>>=0,xi>>>=0,di=Rn(di),ee=Aa(Zt,ee),we&&=Aa(ve,we),fi&&=Aa(Ze,fi),xi=Aa(vi,xi);var wi=Ls(di);Br(wi,function(){pu(`Cannot construct ${di} due to unbound types`,[kt])}),gs([K,nt,ft],kt?[kt]:[],zi=>{zi=zi[0];var Vi,mn;kt?(Vi=zi.registeredClass,mn=Vi.instancePrototype):mn=$r.prototype;var sn=Ua(di,function(...bn){if(Object.getPrototypeOf(this)!==yn)throw new bs(`Use 'new' to construct ${di}`);if(tn.constructor_body===void 0)throw new bs(`${di} has no accessible constructor`);var $a=tn.constructor_body[bn.length];if($a===void 0)throw new bs(`Tried to invoke ctor of ${di} with invalid number of parameters (${bn.length}) - expected (${Object.keys(tn.constructor_body).toString()}) parameters instead!`);return $a.apply(this,bn)}),yn=Object.create(mn,{constructor:{value:sn}});sn.prototype=yn;var tn=new uu(di,sn,yn,xi,Vi,ee,we,fi);tn.baseClass&&(tn.baseClass.__derivedClasses??=[],tn.baseClass.__derivedClasses.push(tn));var Vn=new Gs(di,tn,!0,!1,!1),Hn=new Gs(di+"*",tn,!1,!1,!1),Un=new Gs(di+" const*",tn,!1,!0,!1);return Ta[K]={pointerType:Hn,constPointerType:Un},hu(wi,sn),[Vn,Hn,Un]})}var el=[],Ca=[];function il(K){K>>>=0,K>9&&--Ca[K+1]===0&&(Ca[K]=void 0,el.push(K))}var Lc=()=>Ca.length/2-5-el.length,nl=()=>{Ca.push(0,1,void 0,1,null,1,!0,1,!1,1),w.count_emval_handles=Lc},Qn={toValue:K=>(K||Yi(`Cannot use deleted val. handle = ${K}`),Ca[K]),toHandle:K=>{switch(K){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const nt=el.pop()||Ca.length;return Ca[nt]=K,Ca[nt+1]=1,nt}}}},Uc={name:"emscripten::val",fromWireType:K=>{var nt=Qn.toValue(K);return il(K),nt},toWireType:(K,nt)=>Qn.toHandle(nt),argPackAdvance:Sn,readValueFromPointer:Rr,destructorFunction:null};function Gc(K){return K>>>=0,ua(K,Uc)}var _u=(K,nt,ft)=>{switch(nt){case 1:return ft?function(kt){return this.fromWireType(dt[kt>>>0])}:function(kt){return this.fromWireType(gt[kt>>>0])};case 2:return ft?function(kt){return this.fromWireType(At[kt>>>1>>>0])}:function(kt){return this.fromWireType(_t[kt>>>1>>>0])};case 4:return ft?function(kt){return this.fromWireType(Mt[kt>>>2>>>0])}:function(kt){return this.fromWireType(wt[kt>>>2>>>0])};default:throw new TypeError(`invalid integer width (${nt}): ${K}`)}};function jc(K,nt,ft,kt){K>>>=0,nt>>>=0,ft>>>=0,nt=Rn(nt);function Zt(){}Zt.values={},ua(K,{name:nt,constructor:Zt,fromWireType:function(ee){return this.constructor.values[ee]},toWireType:(ee,ve)=>ve.value,argPackAdvance:Sn,readValueFromPointer:_u(nt,ft,kt),destructorFunction:null}),Br(nt,Zt)}var al=(K,nt)=>{var ft=Va[K];return ft===void 0&&Yi(`${nt} has unknown type ${du(K)}`),ft};function Zc(K,nt,ft){K>>>=0,nt>>>=0;var kt=al(K,"enum");nt=Rn(nt);var Zt=kt.constructor,ee=Object.create(kt.constructor.prototype,{value:{value:ft},constructor:{value:Ua(`${kt.name}_${nt}`,function(){})}});Zt.values[ft]=ee,Zt[nt]=ee}var Hc=(K,nt)=>{switch(nt){case 4:return function(ft){return this.fromWireType(zt[ft>>>2>>>0])};case 8:return function(ft){return this.fromWireType(qt[ft>>>3>>>0])};default:throw new TypeError(`invalid float width (${nt}): ${K}`)}},qc=function(K,nt,ft){K>>>=0,nt>>>=0,ft>>>=0,nt=Rn(nt),ua(K,{name:nt,fromWireType:kt=>kt,toWireType:(kt,Zt)=>Zt,argPackAdvance:Sn,readValueFromPointer:Hc(nt,ft),destructorFunction:null})};function Qc(K){for(var nt=1;nt<K.length;++nt)if(K[nt]!==null&&K[nt].destructorFunction===void 0)return!0;return!1}var Wc={ftf:function(K,nt,ft,kt,Zt,ee,ve){return function(){var we=ft(kt),Ze=ee.fromWireType(we);return Ze}},ftft:function(K,nt,ft,kt,Zt,ee,ve,we,Ze){return function(fi){var di=we.toWireType(null,fi),vi=ft(kt,di);Ze(di);var xi=ee.fromWireType(vi);return xi}},fffn:function(K,nt,ft,kt,Zt,ee,ve,we){return function(Ze){var fi=we.toWireType(null,Ze);ft(kt,fi)}},ftfn:function(K,nt,ft,kt,Zt,ee,ve,we){return function(Ze){var fi=we.toWireType(null,Ze),di=ft(kt,fi),vi=ee.fromWireType(di);return vi}},ftfnn:function(K,nt,ft,kt,Zt,ee,ve,we,Ze){return function(fi,di){var vi=we.toWireType(null,fi),xi=Ze.toWireType(null,di),wi=ft(kt,vi,xi),zi=ee.fromWireType(wi);return zi}},ftfnnn:function(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi){return function(di,vi,xi){var wi=we.toWireType(null,di),zi=Ze.toWireType(null,vi),Vi=fi.toWireType(null,xi),mn=ft(kt,wi,zi,Vi),sn=ee.fromWireType(mn);return sn}},ftfnt:function(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi){return function(di,vi){var xi=we.toWireType(null,di),wi=Ze.toWireType(null,vi),zi=ft(kt,xi,wi);fi(wi);var Vi=ee.fromWireType(zi);return Vi}}};function Yc(K,nt,ft,kt){const Zt=["f",ft?"t":"f",kt?"t":"f"];for(let ee=2;ee<K.length;++ee){const ve=K[ee];let we="";ve.destructorFunction===void 0?we="u":ve.destructorFunction===null?we="n":we="t",Zt.push(we)}return Zt.join("")}function Vc(K,nt,ft,kt,Zt,ee){var ve=nt.length;ve<2&&Yi("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var we=nt[1]!==null&&ft!==null,Ze=Qc(nt),fi=nt[0].name!=="void",di=[K,Yi,kt,Zt,ms,nt[0],nt[1]],vi=0;vi<ve-2;++vi)di.push(nt[vi+2]);if(!Ze)for(var vi=2;vi<nt.length;++vi)nt[vi].destructorFunction!==null&&di.push(nt[vi].destructorFunction);var xi=Yc(nt,we,fi,ee),wi=Wc[xi](...di);return Ua(K,wi)}var rl=(K,nt)=>{for(var ft=[],kt=0;kt<K;kt++)ft.push(wt[nt+kt*4>>>2>>>0]);return ft},xs=K=>{K=K.trim();const nt=K.indexOf("(");return nt===-1?K:K.slice(0,nt)};function Xc(K,nt,ft,kt,Zt,ee,ve,we){K>>>=0,ft>>>=0,kt>>>=0,Zt>>>=0,ee>>>=0;var Ze=rl(nt,ft);K=Rn(K),K=xs(K),Zt=Aa(kt,Zt,ve),Br(K,function(){pu(`Cannot call ${K} due to unbound types`,Ze)},nt-1),gs([],Ze,fi=>{var di=[fi[0],null].concat(fi.slice(1));return hu(K,Vc(K,di,null,Zt,ee,ve),nt-1),[]})}function gu(K,nt,ft,kt,Zt){K>>>=0,nt>>>=0,ft>>>=0,nt=Rn(nt);var ee=di=>di;if(kt===0){var ve=32-8*ft;ee=di=>di<<ve>>>ve}var we=nt.includes("unsigned"),Ze=(di,vi)=>{},fi;we?fi=function(di,vi){return Ze(vi,this.name),vi>>>0}:fi=function(di,vi){return Ze(vi,this.name),vi},ua(K,{name:nt,fromWireType:ee,toWireType:fi,argPackAdvance:Sn,readValueFromPointer:ou(nt,ft,kt!==0),destructorFunction:null})}function yu(K,nt,ft){K>>>=0,ft>>>=0;var kt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],Zt=kt[nt];function ee(ve){var we=wt[ve>>>2>>>0],Ze=wt[ve+4>>>2>>>0];return new Zt(dt.buffer,Ze,we)}ft=Rn(ft),ua(K,{name:ft,fromWireType:ee,argPackAdvance:Sn,readValueFromPointer:ee},{ignoreDuplicateRegistrations:!0})}function bu(K,nt){K>>>=0,nt>>>=0,nt=Rn(nt),ua(K,{name:nt,fromWireType(ft){for(var kt=wt[ft>>>2>>>0],Zt=ft+4,ee,we,ve=Zt,we=0;we<=kt;++we){var Ze=Zt+we;if(we==kt||gt[Ze>>>0]==0){var fi=Ze-ve,di=pn(ve,fi);ee===void 0?ee=di:(ee+="\0",ee+=di),ve=Ze+1}}return Ln(ft),ee},toWireType(ft,kt){kt instanceof ArrayBuffer&&(kt=new Uint8Array(kt));var Zt,ee=typeof kt=="string";ee||ArrayBuffer.isView(kt)&&kt.BYTES_PER_ELEMENT==1||Yi("Cannot pass non-string to std::string"),ee?Zt=Se(kt):Zt=kt.length;var ve=ca(4+Zt+1),we=ve+4;return wt[ve>>>2>>>0]=Zt,ee?en(kt,we,Zt+1):gt.set(kt,we>>>0),ft!==null&&ft.push(Ln,ve),ve},argPackAdvance:Sn,readValueFromPointer:Rr,destructorFunction(ft){Ln(ft)}})}var sl=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,vu=(K,nt)=>{for(var ft=K,kt=ft>>1,Zt=kt+nt/2;!(kt>=Zt)&&_t[kt>>>0];)++kt;if(ft=kt<<1,ft-K>32&&sl)return sl.decode(gt.subarray(K>>>0,ft>>>0));for(var ee="",ve=0;!(ve>=nt/2);++ve){var we=At[K+ve*2>>>1>>>0];if(we==0)break;ee+=String.fromCharCode(we)}return ee},zr=(K,nt,ft)=>{if(ft??=2147483647,ft<2)return 0;ft-=2;for(var kt=nt,Zt=ft<K.length*2?ft/2:K.length,ee=0;ee<Zt;++ee){var ve=K.charCodeAt(ee);At[nt>>>1>>>0]=ve,nt+=2}return At[nt>>>1>>>0]=0,nt-kt},Kc=K=>K.length*2,Jc=(K,nt)=>{for(var ft=0,kt="";!(ft>=nt/4);){var Zt=Mt[K+ft*4>>>2>>>0];if(Zt==0)break;if(++ft,Zt>=65536){var ee=Zt-65536;kt+=String.fromCharCode(55296|ee>>10,56320|ee&1023)}else kt+=String.fromCharCode(Zt)}return kt},tf=(K,nt,ft)=>{if(nt>>>=0,ft??=2147483647,ft<4)return 0;for(var kt=nt,Zt=kt+ft-4,ee=0;ee<K.length;++ee){var ve=K.charCodeAt(ee);if(ve>=55296&&ve<=57343){var we=K.charCodeAt(++ee);ve=65536+((ve&1023)<<10)|we&1023}if(Mt[nt>>>2>>>0]=ve,nt+=4,nt+4>Zt)break}return Mt[nt>>>2>>>0]=0,nt-kt},wu=K=>{for(var nt=0,ft=0;ft<K.length;++ft){var kt=K.charCodeAt(ft);kt>=55296&&kt<=57343&&++ft,nt+=4}return nt},xu=function(K,nt,ft){K>>>=0,nt>>>=0,ft>>>=0,ft=Rn(ft);var kt,Zt,ee,ve;nt===2?(kt=vu,Zt=zr,ve=Kc,ee=we=>_t[we>>>1>>>0]):nt===4&&(kt=Jc,Zt=tf,ve=wu,ee=we=>wt[we>>>2>>>0]),ua(K,{name:ft,fromWireType:we=>{for(var Ze=wt[we>>>2>>>0],fi,di=we+4,vi=0;vi<=Ze;++vi){var xi=we+4+vi*nt;if(vi==Ze||ee(xi)==0){var wi=xi-di,zi=kt(di,wi);fi===void 0?fi=zi:(fi+="\0",fi+=zi),di=xi+nt}}return Ln(we),fi},toWireType:(we,Ze)=>{typeof Ze!="string"&&Yi(`Cannot pass non-string to C++ string type ${ft}`);var fi=ve(Ze),di=ca(4+fi+nt);return wt[di>>>2>>>0]=fi/nt,Zt(Ze,di+4,fi+nt),we!==null&&we.push(Ln,di),di},argPackAdvance:Sn,readValueFromPointer:Rr,destructorFunction(we){Ln(we)}})};function Es(K,nt,ft,kt,Zt,ee){K>>>=0,nt>>>=0,ft>>>=0,kt>>>=0,Zt>>>=0,ee>>>=0,Ps[K]={name:Rn(nt),rawConstructor:Aa(ft,kt),rawDestructor:Aa(Zt,ee),fields:[]}}function Ss(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi){K>>>=0,nt>>>=0,ft>>>=0,kt>>>=0,Zt>>>=0,ee>>>=0,ve>>>=0,we>>>=0,Ze>>>=0,fi>>>=0,Ps[K].fields.push({fieldName:Rn(nt),getterReturnType:ft,getter:Aa(kt,Zt),getterContext:ee,setterArgumentType:ve,setter:Aa(we,Ze),setterContext:fi})}var ef=function(K,nt){K>>>=0,nt>>>=0,nt=Rn(nt),ua(K,{isVoid:!0,name:nt,argPackAdvance:0,fromWireType:()=>{},toWireType:(ft,kt)=>{}})},Ms=0,Eu=()=>{Rt=!1,Ms=0};function Su(K){return K>>>=0,K?-52:0}var ol=()=>{throw 1/0},ll={},ul=K=>{var nt=ll[K];return nt===void 0?Rn(K):nt},js=[];function Mu(K,nt,ft,kt,Zt){return K>>>=0,nt>>>=0,ft>>>=0,kt>>>=0,Zt>>>=0,K=js[K],nt=Qn.toValue(nt),ft=ul(ft),K(nt,nt[ft],kt,Zt)}var nf=K=>{var nt=js.length;return js.push(K),nt},af=(K,nt)=>{for(var ft=new Array(K),kt=0;kt<K;++kt)ft[kt]=al(wt[nt+kt*4>>>2>>>0],`parameter ${kt}`);return ft},rf=(K,nt,ft)=>{var kt=[],Zt=K.toWireType(kt,ft);return kt.length&&(wt[nt>>>2>>>0]=Qn.toHandle(kt)),Zt},sf=Reflect.construct,of=function(K,nt,ft){nt>>>=0;var kt=af(K,nt),Zt=kt.shift();K--;var ee=new Array(K),ve=(Ze,fi,di,vi)=>{for(var xi=0,wi=0;wi<K;++wi)ee[wi]=kt[wi].readValueFromPointer(vi+xi),xi+=kt[wi].argPackAdvance;var zi=ft===1?sf(fi,ee):fi.apply(Ze,ee);return rf(Zt,di,zi)},we=`methodCaller<(${kt.map(Ze=>Ze.name).join(", ")}) => ${Zt.name}>`;return nf(Ua(we,ve))};function Wn(K){K>>>=0,K>9&&(Ca[K+1]+=1)}function ks(){return Qn.toHandle([])}function ku(K){return K>>>=0,Qn.toHandle(ul(K))}function Tu(){return Qn.toHandle({})}function Au(K){K>>>=0;var nt=Qn.toValue(K);ms(nt),il(K)}function Cu(K,nt,ft){K>>>=0,nt>>>=0,ft>>>=0,K=Qn.toValue(K),nt=Qn.toValue(nt),ft=Qn.toValue(ft),K[nt]=ft}function cl(K,nt){K>>>=0,nt>>>=0,K=al(K,"_emval_take_value");var ft=K.readValueFromPointer(nt);return Qn.toHandle(ft)}function lf(K,nt){K=mi(K),nt>>>=0;var ft=new Date(K*1e3);Mt[nt>>>2>>>0]=ft.getUTCSeconds(),Mt[nt+4>>>2>>>0]=ft.getUTCMinutes(),Mt[nt+8>>>2>>>0]=ft.getUTCHours(),Mt[nt+12>>>2>>>0]=ft.getUTCDate(),Mt[nt+16>>>2>>>0]=ft.getUTCMonth(),Mt[nt+20>>>2>>>0]=ft.getUTCFullYear()-1900,Mt[nt+24>>>2>>>0]=ft.getUTCDay();var kt=Date.UTC(ft.getUTCFullYear(),0,1,0,0,0,0),Zt=(ft.getTime()-kt)/(1e3*60*60*24)|0;Mt[nt+28>>>2>>>0]=Zt}var Pr=K=>K%4===0&&(K%100!==0||K%400===0),fl=[0,31,60,91,121,152,182,213,244,274,305,335],Ts=[0,31,59,90,120,151,181,212,243,273,304,334],Zs=K=>{var nt=Pr(K.getFullYear()),ft=nt?fl:Ts,kt=ft[K.getMonth()]+K.getDate()-1;return kt};function Iu(K,nt){K=mi(K),nt>>>=0;var ft=new Date(K*1e3);Mt[nt>>>2>>>0]=ft.getSeconds(),Mt[nt+4>>>2>>>0]=ft.getMinutes(),Mt[nt+8>>>2>>>0]=ft.getHours(),Mt[nt+12>>>2>>>0]=ft.getDate(),Mt[nt+16>>>2>>>0]=ft.getMonth(),Mt[nt+20>>>2>>>0]=ft.getFullYear()-1900,Mt[nt+24>>>2>>>0]=ft.getDay();var kt=Zs(ft)|0;Mt[nt+28>>>2>>>0]=kt,Mt[nt+36>>>2>>>0]=-(ft.getTimezoneOffset()*60);var Zt=new Date(ft.getFullYear(),0,1),ee=new Date(ft.getFullYear(),6,1).getTimezoneOffset(),ve=Zt.getTimezoneOffset(),we=(ee!=ve&&ft.getTimezoneOffset()==Math.min(ve,ee))|0;Mt[nt+32>>>2>>>0]=we}var ur=function(K){K>>>=0;var nt=(()=>{var ft=new Date(Mt[K+20>>>2>>>0]+1900,Mt[K+16>>>2>>>0],Mt[K+12>>>2>>>0],Mt[K+8>>>2>>>0],Mt[K+4>>>2>>>0],Mt[K>>>2>>>0],0),kt=Mt[K+32>>>2>>>0],Zt=ft.getTimezoneOffset(),ee=new Date(ft.getFullYear(),0,1),ve=new Date(ft.getFullYear(),6,1).getTimezoneOffset(),we=ee.getTimezoneOffset(),Ze=Math.min(we,ve);if(kt<0)Mt[K+32>>>2>>>0]=+(ve!=we&&Ze==Zt);else if(kt>0!=(Ze==Zt)){var fi=Math.max(we,ve),di=kt>0?Ze:fi;ft.setTime(ft.getTime()+(di-Zt)*6e4)}Mt[K+24>>>2>>>0]=ft.getDay();var vi=Zs(ft)|0;Mt[K+28>>>2>>>0]=vi,Mt[K>>>2>>>0]=ft.getSeconds(),Mt[K+4>>>2>>>0]=ft.getMinutes(),Mt[K+8>>>2>>>0]=ft.getHours(),Mt[K+12>>>2>>>0]=ft.getDate(),Mt[K+16>>>2>>>0]=ft.getMonth(),Mt[K+20>>>2>>>0]=ft.getYear();var xi=ft.getTime();return isNaN(xi)?-1:xi/1e3})();return BigInt(nt)};function Nr(K,nt,ft,kt,Zt,ee,ve){K>>>=0,Zt=mi(Zt),ee>>>=0,ve>>>=0;try{if(isNaN(Zt))return 61;var we=Ci.getStreamFromFD(kt),Ze=Yt.mmap(we,K,Zt,nt,ft),fi=Ze.ptr;return Mt[ee>>>2>>>0]=Ze.allocated,wt[ve>>>2>>>0]=fi,0}catch(di){if(typeof Yt>"u"||di.name!=="ErrnoError")throw di;return-di.errno}}function hl(K,nt,ft,kt,Zt,ee){K>>>=0,nt>>>=0,ee=mi(ee);try{var ve=Ci.getStreamFromFD(Zt);ft&2&&Ci.doMsync(K,ve,nt,kt,ee)}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}var Ru=function(K,nt,ft,kt){K>>>=0,nt>>>=0,ft>>>=0,kt>>>=0;var Zt=new Date().getFullYear(),ee=new Date(Zt,0,1),ve=new Date(Zt,6,1),we=ee.getTimezoneOffset(),Ze=ve.getTimezoneOffset(),fi=Math.max(we,Ze);wt[K>>>2>>>0]=fi*60,Mt[nt>>>2>>>0]=+(we!=Ze);var di=wi=>{var zi=wi>=0?"-":"+",Vi=Math.abs(wi),mn=String(Math.floor(Vi/60)).padStart(2,"0"),sn=String(Vi%60).padStart(2,"0");return`UTC${zi}${mn}${sn}`},vi=di(we),xi=di(Ze);Ze<we?(en(vi,ft,17),en(xi,kt,17)):(en(vi,kt,17),en(xi,ft,17))},Ga=()=>performance.now(),dl=()=>Date.now(),Du=K=>K>=0&&K<=3;function $u(K,nt,ft){if(ft>>>=0,!Du(K))return 28;var kt;K===0?kt=dl():kt=Ga();var Zt=Math.round(kt*1e3*1e3);return ht[ft>>>3]=BigInt(Zt),0}var Bu=()=>4294901760;function uf(){return Bu()}var cf=K=>{var nt=vt.buffer,ft=(K-nt.byteLength+65535)/65536|0;try{return vt.grow(ft),Ot(),1}catch{}};function zu(K){K>>>=0;var nt=gt.length,ft=Bu();if(K>ft)return!1;for(var kt=1;kt<=4;kt*=2){var Zt=nt*(1+.2/kt);Zt=Math.min(Zt,K+100663296);var ee=Math.min(ft,Ni(Math.max(K,Zt),65536)),ve=cf(ee);if(ve)return!0}return!1}var Hs={},pl=()=>q||"./this.program",Fn=()=>{if(!Fn.strings){var K=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",nt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:K,_:pl()};for(var ft in Hs)Hs[ft]===void 0?delete nt[ft]:nt[ft]=Hs[ft];var kt=[];for(var ft in nt)kt.push(`${ft}=${nt[ft]}`);Fn.strings=kt}return Fn.strings};function qs(K,nt){K>>>=0,nt>>>=0;var ft=0,kt=0;for(var Zt of Fn()){var ee=nt+ft;wt[K+kt>>>2>>>0]=ee,ft+=en(Zt,ee,1/0)+1,kt+=4}return 0}function ta(K,nt){K>>>=0,nt>>>=0;var ft=Fn();wt[K>>>2>>>0]=ft.length;var kt=0;for(var Zt of ft)kt+=Se(Zt)+1;return wt[nt>>>2>>>0]=kt,0}var Fr=()=>Rt||Ms>0,Qs=K=>{Fr()||(w.onExit?.(K),mt=!0),X(K,new ue(K))},Ws=(K,nt)=>{Qs(K)},Ys=Ws;function ml(K){try{var nt=Ci.getStreamFromFD(K);return Yt.close(nt),0}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return ft.errno}}function fr(K,nt){nt>>>=0;try{var ft=0,kt=0,Zt=0,ee=Ci.getStreamFromFD(K),ve=ee.tty?2:Yt.isDir(ee.mode)?3:Yt.isLink(ee.mode)?7:4;return dt[nt>>>0]=ve,At[nt+2>>>1>>>0]=Zt,ht[nt+8>>>3]=BigInt(ft),ht[nt+16>>>3]=BigInt(kt),0}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return we.errno}}var _l=(K,nt,ft,kt)=>{for(var Zt=0,ee=0;ee<ft;ee++){var ve=wt[nt>>>2>>>0],we=wt[nt+4>>>2>>>0];nt+=8;var Ze=Yt.read(K,dt,ve,we,kt);if(Ze<0)return-1;if(Zt+=Ze,Ze<we)break;typeof kt<"u"&&(kt+=Ze)}return Zt};function Vs(K,nt,ft,kt,Zt){nt>>>=0,ft>>>=0,kt=mi(kt),Zt>>>=0;try{if(isNaN(kt))return 61;var ee=Ci.getStreamFromFD(K),ve=_l(ee,nt,ft,kt);return wt[Zt>>>2>>>0]=ve,0}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return we.errno}}var hr=(K,nt,ft,kt)=>{for(var Zt=0,ee=0;ee<ft;ee++){var ve=wt[nt>>>2>>>0],we=wt[nt+4>>>2>>>0];nt+=8;var Ze=Yt.write(K,dt,ve,we,kt);if(Ze<0)return-1;if(Zt+=Ze,Ze<we)break;typeof kt<"u"&&(kt+=Ze)}return Zt};function ff(K,nt,ft,kt,Zt){nt>>>=0,ft>>>=0,kt=mi(kt),Zt>>>=0;try{if(isNaN(kt))return 61;var ee=Ci.getStreamFromFD(K),ve=hr(ee,nt,ft,kt);return wt[Zt>>>2>>>0]=ve,0}catch(we){if(typeof Yt>"u"||we.name!=="ErrnoError")throw we;return we.errno}}function Yn(K,nt,ft,kt){nt>>>=0,ft>>>=0,kt>>>=0;try{var Zt=Ci.getStreamFromFD(K),ee=_l(Zt,nt,ft);return wt[kt>>>2>>>0]=ee,0}catch(ve){if(typeof Yt>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}function gl(K,nt,ft,kt){nt=mi(nt),kt>>>=0;try{if(isNaN(nt))return 61;var Zt=Ci.getStreamFromFD(K);return Yt.llseek(Zt,nt,ft),ht[kt>>>3]=BigInt(Zt.position),Zt.getdents&&nt===0&&ft===0&&(Zt.getdents=null),0}catch(ee){if(typeof Yt>"u"||ee.name!=="ErrnoError")throw ee;return ee.errno}}function Ia(K){try{var nt=Ci.getStreamFromFD(K);return nt.stream_ops?.fsync?nt.stream_ops.fsync(nt):0}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return ft.errno}}function Ou(K,nt,ft,kt){nt>>>=0,ft>>>=0,kt>>>=0;try{var Zt=Ci.getStreamFromFD(K),ee=hr(Zt,nt,ft);return wt[kt>>>2>>>0]=ee,0}catch(ve){if(typeof Yt>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}function Xs(K,nt){K>>>=0,nt>>>=0;try{return ui(gt.subarray(K>>>0,K+nt>>>0)),0}catch(ft){if(typeof Yt>"u"||ft.name!=="ErrnoError")throw ft;return ft.errno}}var ja=(K,nt)=>{K<128?nt.push(K):nt.push(K%128|128,K>>7)},yl=K=>{for(var nt={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ft={parameters:[],results:K[0]=="v"?[]:[nt[K[0]]]},kt=1;kt<K.length;++kt)ft.parameters.push(nt[K[kt]]);return ft},Pu=(K,nt)=>{var ft=K.slice(0,1),kt=K.slice(1),Zt={i:127,p:127,j:126,f:125,d:124,e:111};nt.push(96),ja(kt.length,nt);for(var ee of kt)nt.push(Zt[ee]);ft=="v"?nt.push(0):nt.push(1,Zt[ft])},bl=(K,nt)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(yl(nt),K);var ft=[1];Pu(nt,ft);var kt=[0,97,115,109,1,0,0,0,1];ja(ft.length,kt),kt.push(...ft),kt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Zt=new WebAssembly.Module(new Uint8Array(kt)),ee=new WebAssembly.Instance(Zt,{e:{f:K}}),ve=ee.exports.f;return ve},Nu=(K,nt)=>{if(Dn)for(var ft=K;ft<K+nt;ft++){var kt=We(ft);kt&&Dn.set(kt,ft)}},Dn,Lr=K=>(Dn||(Dn=new WeakMap,Nu(0,gi.length)),Dn.get(K)||0),dr=[],Ks=()=>{if(dr.length)return dr.pop();try{gi.grow(1)}catch(K){throw K instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":K}return gi.length-1},Ur=(K,nt)=>{gi.set(K,nt),li[K]=gi.get(K)},ea=(K,nt)=>{var ft=Lr(K);if(ft)return ft;var kt=Ks();try{Ur(kt,K)}catch(ee){if(!(ee instanceof TypeError))throw ee;var Zt=bl(K,nt);Ur(kt,Zt)}return Dn.set(K,kt),kt};Yt.createPreloadedFile=ga,Yt.staticInit(),ki.doesNotExistError=new Yt.ErrnoError(44),ki.doesNotExistError.stack="<generic error, no stack>",su(),ka(),Pc(),nl(),w.noExitRuntime&&(Rt=w.noExitRuntime),w.preloadPlugins&&(cn=w.preloadPlugins),w.print&&(ot=w.print),w.printErr&&(ut=w.printErr),w.wasmBinary&&(yt=w.wasmBinary),w.arguments&&w.arguments,w.thisProgram&&(q=w.thisProgram),w.addFunction=ea,w.setValue=Gt,w.getValue=pt,w.UTF8ToString=pn,w.stringToUTF8=en,w.lengthBytesUTF8=Se,w.FS=Yt;var ia={Z:Ii,D:_e,a:hi,C:Ce,ua:_n,sa:Oa,va:ps,ba:Pa,ra:Cr,H:Na,qa:xa,la:eu,bb:iu,ya:Ya,na:Ir,oa:zc,F:nu,ab:au,_a:Oc,$a:zs,pa:Os,Za:Ea,Y:Jn,wa:ru,Na:Dr,S:Ns,Ha:qo,L:mu,Fa:Gc,w:jc,e:Zc,R:qc,p:Xc,v:gu,n:yu,Ga:bu,J:xu,Oa:Es,K:Ss,Ia:ef,_:Eu,Xa:Su,Va:ol,Ka:Mu,l:il,La:of,Ma:Wn,T:ks,t:ku,B:Tu,Ja:Au,r:Cu,o:cl,ea:lf,fa:Iu,ga:ur,ca:Nr,da:hl,ia:Ru,ta:$u,O:dl,Ya:uf,E:Ga,Wa:zu,za:qs,Aa:ta,y:Ys,z:ml,N:fr,aa:Vs,$:ff,P:Yn,ja:gl,ma:Ia,G:Ou,Sa:Ml,A:Ra,c:wl,d:na,g:Za,j:Gr,X:Sl,b:El,M:gr,m:As,Ra:Bn,Qa:hf,Ea:kl,Da:Cs,s:mr,Ua:qa,I:Is,u:xl,ha:pr,x:jr,k:Ha,f:Uu,W:bo,V:ju,i:ji,h:Gu,q:Js,Pa:pf,Q:wn,Ca:Tl,U:df,Ba:Hr,Ta:Da,xa:Qs,ka:Xs},St=await xt();St.db;var ya=St.eb;w._MagickColor_Create=St.fb,w._MagickColor_Dispose=St.gb,w._MagickColor_Count_Get=St.hb,w._MagickColor_Red_Get=St.ib,w._MagickColor_Red_Set=St.jb,w._MagickColor_Green_Get=St.kb,w._MagickColor_Green_Set=St.lb,w._MagickColor_Blue_Get=St.mb,w._MagickColor_Blue_Set=St.nb,w._MagickColor_Alpha_Get=St.ob,w._MagickColor_Alpha_Set=St.pb,w._MagickColor_Black_Get=St.qb,w._MagickColor_Black_Set=St.rb,w._MagickColor_IsCMYK_Get=St.sb,w._MagickColor_IsCMYK_Set=St.tb,w._MagickColor_Clone=St.ub,w._MagickColor_FuzzyEquals=St.vb,w._MagickColor_Initialize=St.wb,w._MagickColorCollection_DisposeList=St.yb,w._MagickColorCollection_GetInstance=St.zb,w._DrawingWand_Create=St.Ab,w._DrawingWand_Dispose=St.Bb,w._DrawingWand_Affine=St.Cb,w._DrawingWand_Alpha=St.Db,w._DrawingWand_Arc=St.Eb,w._DrawingWand_Bezier=St.Fb,w._DrawingWand_BorderColor=St.Gb,w._DrawingWand_Circle=St.Hb,w._DrawingWand_ClipPath=St.Ib,w._DrawingWand_ClipRule=St.Jb,w._DrawingWand_ClipUnits=St.Kb,w._DrawingWand_Color=St.Lb,w._DrawingWand_Composite=St.Mb,w._DrawingWand_Density=St.Nb,w._DrawingWand_Ellipse=St.Ob,w._DrawingWand_FillColor=St.Pb,w._DrawingWand_FillOpacity=St.Qb,w._DrawingWand_FillPatternUrl=St.Rb,w._DrawingWand_FillRule=St.Sb,w._DrawingWand_Font=St.Tb,w._DrawingWand_FontFamily=St.Ub,w._DrawingWand_FontPointSize=St.Vb,w._DrawingWand_FontTypeMetrics=St.Wb,w._TypeMetric_Create=St.Xb,w._DrawingWand_Gravity=St.Yb,w._DrawingWand_Line=St.Zb,w._DrawingWand_PathArcAbs=St._b,w._DrawingWand_PathArcRel=St.$b,w._DrawingWand_PathClose=St.ac,w._DrawingWand_PathCurveToAbs=St.bc,w._DrawingWand_PathCurveToRel=St.cc,w._DrawingWand_PathFinish=St.dc,w._DrawingWand_PathLineToAbs=St.ec,w._DrawingWand_PathLineToHorizontalAbs=St.fc,w._DrawingWand_PathLineToHorizontalRel=St.gc,w._DrawingWand_PathLineToRel=St.hc,w._DrawingWand_PathLineToVerticalAbs=St.ic,w._DrawingWand_PathLineToVerticalRel=St.jc,w._DrawingWand_PathMoveToAbs=St.kc,w._DrawingWand_PathMoveToRel=St.lc,w._DrawingWand_PathQuadraticCurveToAbs=St.mc,w._DrawingWand_PathQuadraticCurveToRel=St.nc,w._DrawingWand_PathSmoothCurveToAbs=St.oc,w._DrawingWand_PathSmoothCurveToRel=St.pc,w._DrawingWand_PathSmoothQuadraticCurveToAbs=St.qc,w._DrawingWand_PathSmoothQuadraticCurveToRel=St.rc,w._DrawingWand_PathStart=St.sc,w._DrawingWand_Point=St.tc,w._DrawingWand_Polygon=St.uc,w._DrawingWand_Polyline=St.vc,w._DrawingWand_PopClipPath=St.wc,w._DrawingWand_PopGraphicContext=St.xc,w._DrawingWand_PopPattern=St.yc,w._DrawingWand_PushClipPath=St.zc,w._DrawingWand_PushGraphicContext=St.Ac,w._DrawingWand_PushPattern=St.Bc,w._DrawingWand_Rectangle=St.Cc,w._DrawingWand_Render=St.Dc,w._DrawingWand_Rotation=St.Ec,w._DrawingWand_RoundRectangle=St.Fc,w._DrawingWand_Scaling=St.Gc,w._DrawingWand_SkewX=St.Hc,w._DrawingWand_SkewY=St.Ic,w._DrawingWand_StrokeAntialias=St.Jc,w._DrawingWand_StrokeColor=St.Kc,w._DrawingWand_StrokeDashArray=St.Lc,w._DrawingWand_StrokeDashOffset=St.Mc,w._DrawingWand_StrokeLineCap=St.Nc,w._DrawingWand_StrokeLineJoin=St.Oc,w._DrawingWand_StrokeMiterLimit=St.Pc,w._DrawingWand_StrokeOpacity=St.Qc,w._DrawingWand_StrokePatternUrl=St.Rc,w._DrawingWand_StrokeWidth=St.Sc,w._DrawingWand_Text=St.Tc,w._DrawingWand_TextAlignment=St.Uc,w._DrawingWand_TextAntialias=St.Vc,w._DrawingWand_TextDecoration=St.Wc,w._DrawingWand_TextDirection=St.Xc,w._DrawingWand_TextEncoding=St.Yc,w._DrawingWand_TextInterlineSpacing=St.Zc,w._DrawingWand_TextInterwordSpacing=St._c,w._DrawingWand_TextKerning=St.$c,w._DrawingWand_TextUnderColor=St.ad,w._DrawingWand_Translation=St.bd,w._DrawingWand_Viewbox=St.cd,w._MagickExceptionHelper_Description=St.dd,w._MagickExceptionHelper_Dispose=St.ed,w._MagickExceptionHelper_Related=St.fd,w._MagickExceptionHelper_RelatedCount=St.gd,w._MagickExceptionHelper_Message=St.hd,w._MagickExceptionHelper_Severity=St.id,w._PdfInfo_PageCount=St.jd,w._Environment_Initialize=St.kd,w._Environment_GetEnv=St.ld,w._Environment_SetEnv=St.md,w._MagickMemory_Relinquish=St.nd,w._Magick_Delegates_Get=St.od,w._Magick_Features_Get=St.pd,w._Magick_ImageMagickVersion_Get=St.qd,w._Magick_GetFonts=St.rd,w._Magick_GetFontFamily=St.sd,w._Magick_GetFontName=St.td,w._Magick_GetWindowsResource=St.ud,w._Magick_DisposeFonts=St.vd,w._Magick_ResetRandomSeed=St.wd,w._Magick_SetDefaultFontFile=St.xd,w._Magick_SetRandomSeed=St.yd,w._Magick_SetLogDelegate=St.zd,w._Magick_SetLogEvents=St.Ad,w._MagickFormatInfo_CreateList=St.Bd,w._MagickFormatInfo_DisposeList=St.Cd,w._MagickFormatInfo_CanReadMultithreaded_Get=St.Dd,w._MagickFormatInfo_CanWriteMultithreaded_Get=St.Ed,w._MagickFormatInfo_Description_Get=St.Fd,w._MagickFormatInfo_Format_Get=St.Gd,w._MagickFormatInfo_MimeType_Get=St.Hd,w._MagickFormatInfo_Module_Get=St.Id,w._MagickFormatInfo_SupportsMultipleFrames_Get=St.Jd,w._MagickFormatInfo_SupportsReading_Get=St.Kd,w._MagickFormatInfo_SupportsWriting_Get=St.Ld,w._MagickFormatInfo_GetInfo=St.Md,w._MagickFormatInfo_GetInfoByName=St.Nd,w._MagickFormatInfo_GetInfoWithBlob=St.Od,w._MagickFormatInfo_Unregister=St.Pd,w._MagickImage_Create=St.Qd,w._MagickImage_Dispose=St.Rd,w._MagickImage_AnimationDelay_Get=St.Sd,w._MagickImage_AnimationDelay_Set=St.Td,w._MagickImage_AnimationIterations_Get=St.Ud,w._MagickImage_AnimationIterations_Set=St.Vd,w._MagickImage_AnimationTicksPerSecond_Get=St.Wd,w._MagickImage_AnimationTicksPerSecond_Set=St.Xd,w._MagickImage_BackgroundColor_Get=St.Yd,w._MagickImage_BackgroundColor_Set=St.Zd,w._MagickImage_BaseHeight_Get=St._d,w._MagickImage_BaseWidth_Get=St.$d,w._MagickImage_BlackPointCompensation_Get=St.ae,w._MagickImage_BlackPointCompensation_Set=St.be,w._MagickImage_BorderColor_Get=St.ce,w._MagickImage_BorderColor_Set=St.de,w._MagickImage_BoundingBox_Get=St.ee,w._MagickRectangle_Create=St.fe,w._MagickImage_ChannelCount_Get=St.ge,w._MagickImage_ChromaBlue_Get=St.he,w._PrimaryInfo_Create=St.ie,w._MagickImage_ChromaBlue_Set=St.je,w._MagickImage_ChromaGreen_Get=St.ke,w._MagickImage_ChromaGreen_Set=St.le,w._MagickImage_ChromaRed_Get=St.me,w._MagickImage_ChromaRed_Set=St.ne,w._MagickImage_ChromaWhite_Get=St.oe,w._MagickImage_ChromaWhite_Set=St.pe,w._MagickImage_ClassType_Get=St.qe,w._MagickImage_ClassType_Set=St.re,w._QuantizeSettings_Create=St.se,w._QuantizeSettings_Dispose=St.te,w._MagickImage_ColorFuzz_Get=St.ue,w._MagickImage_ColorFuzz_Set=St.ve,w._MagickImage_ColormapSize_Get=St.we,w._MagickImage_ColormapSize_Set=St.xe,w._MagickImage_ColorSpace_Get=St.ye,w._MagickImage_ColorSpace_Set=St.ze,w._MagickImage_ColorType_Get=St.Ae,w._MagickImage_ColorType_Set=St.Be,w._MagickImage_Compose_Get=St.Ce,w._MagickImage_Compose_Set=St.De,w._MagickImage_Compression_Get=St.Ee,w._MagickImage_Compression_Set=St.Fe,w._MagickImage_Depth_Get=St.Ge,w._MagickImage_Depth_Set=St.He,w._MagickImage_EncodingGeometry_Get=St.Ie,w._MagickImage_Endian_Get=St.Je,w._MagickImage_Endian_Set=St.Ke,w._MagickImage_FileName_Get=St.Le,w._MagickImage_FileName_Set=St.Me,w._MagickImage_FilterType_Get=St.Ne,w._MagickImage_FilterType_Set=St.Oe,w._MagickImage_Format_Get=St.Pe,w._MagickImage_Format_Set=St.Qe,w._MagickImage_Gamma_Get=St.Re,w._MagickImage_GifDisposeMethod_Get=St.Se,w._MagickImage_GifDisposeMethod_Set=St.Te,w._MagickImage_HasAlpha_Get=St.Ue,w._MagickImage_HasAlpha_Set=St.Ve,w._MagickImage_Height_Get=St.We,w._MagickImage_Interlace_Get=St.Xe,w._MagickImage_Interlace_Set=St.Ye,w._MagickImage_Interpolate_Get=St.Ze,w._MagickImage_Interpolate_Set=St._e,w._MagickImage_IsOpaque_Get=St.$e,w._MagickImage_MatteColor_Get=St.af,w._MagickImage_MatteColor_Set=St.bf,w._MagickImage_MeanErrorPerPixel_Get=St.cf,w._MagickImage_MetaChannelCount_Get=St.df,w._MagickImage_MetaChannelCount_Set=St.ef,w._MagickImage_NormalizedMaximumError_Get=St.ff,w._MagickImage_NormalizedMeanError_Get=St.gf,w._MagickImage_Orientation_Get=St.hf,w._MagickImage_Orientation_Set=St.jf,w._MagickImage_Page_Get=St.kf,w._MagickImage_Page_Set=St.lf,w._MagickImage_Quality_Get=St.mf,w._MagickImage_Quality_Set=St.nf,w._MagickImage_RenderingIntent_Get=St.of,w._MagickImage_RenderingIntent_Set=St.pf,w._MagickImage_ResolutionUnits_Get=St.qf,w._MagickImage_ResolutionUnits_Set=St.rf,w._MagickImage_ResolutionX_Get=St.sf,w._MagickImage_ResolutionX_Set=St.tf,w._MagickImage_ResolutionY_Get=St.uf,w._MagickImage_ResolutionY_Set=St.vf,w._MagickImage_Signature_Get=St.wf,w._MagickImage_TotalColors_Get=St.xf,w._MagickImage_VirtualPixelMethod_Get=St.yf,w._MagickImage_VirtualPixelMethod_Set=St.zf,w._MagickImage_Width_Get=St.Af,w._MagickImage_AdaptiveBlur=St.Bf,w._MagickImage_AdaptiveResize=St.Cf,w._MagickImage_AdaptiveSharpen=St.Df,w._MagickImage_AdaptiveThreshold=St.Ef,w._MagickImage_AddNoise=St.Ff,w._MagickImage_AffineTransform=St.Gf,w._MagickImage_Annotate=St.Hf,w._MagickImage_AutoGamma=St.If,w._MagickImage_AutoLevel=St.Jf,w._MagickImage_AutoOrient=St.Kf,w._MagickImage_AutoThreshold=St.Lf,w._MagickImage_BilateralBlur=St.Mf,w._MagickImage_BlackThreshold=St.Nf,w._MagickImage_BlueShift=St.Of,w._MagickImage_Blur=St.Pf,w._MagickImage_Border=St.Qf,w._MagickImage_BrightnessContrast=St.Rf,w._MagickImage_CannyEdge=St.Sf,w._MagickImage_ChannelOffset=St.Tf,w._MagickImage_Charcoal=St.Uf,w._MagickImage_Chop=St.Vf,w._MagickImage_Clahe=St.Wf,w._MagickImage_Clamp=St.Xf,w._MagickImage_ClipPath=St.Yf,w._MagickImage_Clone=St.Zf,w._MagickImage_CloneArea=St._f,w._MagickImage_Clut=St.$f,w._MagickImage_ColorDecisionList=St.ag,w._MagickImage_Colorize=St.bg,w._MagickImage_ColorMatrix=St.cg,w._MagickImage_ColorThreshold=St.dg,w._MagickImage_Compare=St.eg,w._MagickImage_CompareDistortion=St.fg,w._MagickImage_Composite=St.gg,w._MagickImage_CompositeGravity=St.hg,w._MagickImage_ConnectedComponents=St.ig,w._MagickImage_Contrast=St.jg,w._MagickImage_ContrastStretch=St.kg,w._MagickImage_ConvexHull=St.lg,w._MagickImage_Convolve=St.mg,w._MagickImage_CopyPixels=St.ng,w._MagickImage_Crop=St.og,w._MagickImage_CropToTiles=St.pg,w._MagickImage_CycleColormap=St.qg,w._MagickImage_Decipher=St.rg,w._MagickImage_Deskew=St.sg,w._MagickImage_Despeckle=St.tg,w._MagickImage_DetermineBitDepth=St.ug,w._MagickImage_DetermineColorType=St.vg,w._MagickImage_Distort=St.wg,w._MagickImage_Edge=St.xg,w._MagickImage_Emboss=St.yg,w._MagickImage_Encipher=St.zg,w._MagickImage_Enhance=St.Ag,w._MagickImage_Equalize=St.Bg,w._MagickImage_Equals=St.Cg,w._MagickImage_EvaluateFunction=St.Dg,w._MagickImage_EvaluateGeometry=St.Eg,w._MagickImage_EvaluateOperator=St.Fg,w._MagickImage_Extent=St.Gg,w._MagickImage_Flip=St.Hg,w._MagickImage_FloodFill=St.Ig,w._MagickImage_Flop=St.Jg,w._MagickImage_FontTypeMetrics=St.Kg,w._MagickImage_FormatExpression=St.Lg,w._MagickImage_Frame=St.Mg,w._MagickImage_Fx=St.Ng,w._MagickImage_GammaCorrect=St.Og,w._MagickImage_GaussianBlur=St.Pg,w._MagickImage_GetArtifact=St.Qg,w._MagickImage_GetAttribute=St.Rg,w._MagickImage_GetColormapColor=St.Sg,w._MagickImage_GetNext=St.Tg,w._MagickImage_GetNextArtifactName=St.Ug,w._MagickImage_GetNextAttributeName=St.Vg,w._MagickImage_GetNextProfileName=St.Wg,w._MagickImage_GetProfile=St.Xg,w._MagickImage_GetReadMask=St.Yg,w._MagickImage_GetWriteMask=St.Zg,w._MagickImage_Grayscale=St._g,w._MagickImage_HaldClut=St.$g,w._MagickImage_HasChannel=St.ah,w._MagickImage_HasProfile=St.bh,w._MagickImage_Histogram=St.ch,w._MagickImage_HoughLine=St.dh,w._MagickImage_Implode=St.eh,w._MagickImage_ImportPixels=St.fh,w._MagickImage_Integral=St.gh,w._MagickImage_InterpolativeResize=St.hh,w._MagickImage_InverseLevel=St.ih,w._MagickImage_Kmeans=St.jh,w._MagickImage_Kuwahara=St.kh,w._MagickImage_Level=St.lh,w._MagickImage_LevelColors=St.mh,w._MagickImage_LinearStretch=St.nh,w._MagickImage_LiquidRescale=St.oh,w._MagickImage_LocalContrast=St.ph,w._MagickImage_Magnify=St.qh,w._MagickImage_MeanShift=St.rh,w._MagickImage_Minify=St.sh,w._MagickImage_MinimumBoundingBox=St.th,w._MagickImage_Modulate=St.uh,w._MagickImage_Moments=St.vh,w._MagickImage_Morphology=St.wh,w._MagickImage_MotionBlur=St.xh,w._MagickImage_Negate=St.yh,w._MagickImage_Normalize=St.zh,w._MagickImage_OilPaint=St.Ah,w._MagickImage_Opaque=St.Bh,w._MagickImage_OrderedDither=St.Ch,w._MagickImage_Perceptible=St.Dh,w._MagickImage_PerceptualHash=St.Eh,w._MagickImage_Quantize=St.Fh,w._MagickImage_Polaroid=St.Gh,w._MagickImage_Posterize=St.Hh,w._MagickImage_RaiseOrLower=St.Ih,w._MagickImage_RandomThreshold=St.Jh,w._MagickImage_RangeThreshold=St.Kh,w._MagickImage_ReadBlob=St.Lh,w._MagickImage_ReadFile=St.Mh,w._MagickImage_ReadPixels=St.Nh,w._MagickImage_ReadStream=St.Oh,w._MagickImage_RegionMask=St.Ph,w._MagickImage_Remap=St.Qh,w._MagickImage_RemoveArtifact=St.Rh,w._MagickImage_RemoveAttribute=St.Sh,w._MagickImage_RemoveProfile=St.Th,w._MagickImage_ResetArtifactIterator=St.Uh,w._MagickImage_ResetAttributeIterator=St.Vh,w._MagickImage_ResetProfileIterator=St.Wh,w._MagickImage_Resample=St.Xh,w._MagickImage_Resize=St.Yh,w._MagickImage_Roll=St.Zh,w._MagickImage_Rotate=St._h,w._MagickImage_RotationalBlur=St.$h,w._MagickImage_Sample=St.ai,w._MagickImage_Scale=St.bi,w._MagickImage_Segment=St.ci,w._MagickImage_SelectiveBlur=St.di,w._MagickImage_Separate=St.ei,w._MagickImage_SepiaTone=St.fi,w._MagickImage_SetAlpha=St.gi,w._MagickImage_SetArtifact=St.hi,w._MagickImage_SetAttribute=St.ii,w._MagickImage_SetBitDepth=St.ji,w._MagickImage_SetClientData=St.ki,w._MagickImage_SetColormapColor=St.li,w._MagickImage_SetColorMetric=St.mi,w._MagickImage_SetNext=St.ni,w._MagickImage_SetProfile=St.oi,w._MagickImage_SetProgressDelegate=St.pi,w._MagickImage_SetReadMask=St.qi,w._MagickImage_SetWriteMask=St.ri,w._MagickImage_Shade=St.si,w._MagickImage_Shadow=St.ti,w._MagickImage_Sharpen=St.ui,w._MagickImage_Shave=St.vi,w._MagickImage_Shear=St.wi,w._MagickImage_SigmoidalContrast=St.xi,w._MagickImage_SparseColor=St.yi,w._MagickImage_Spread=St.zi,w._MagickImage_Sketch=St.Ai,w._MagickImage_Solarize=St.Bi,w._MagickImage_SortPixels=St.Ci,w._MagickImage_Splice=St.Di,w._MagickImage_Statistic=St.Ei,w._MagickImage_Statistics=St.Fi,w._MagickImage_Stegano=St.Gi,w._MagickImage_Stereo=St.Hi,w._MagickImage_Strip=St.Ii,w._MagickImage_SubImageSearch=St.Ji,w._MagickImage_Swirl=St.Ki,w._MagickImage_Texture=St.Li,w._MagickImage_Threshold=St.Mi,w._MagickImage_Thumbnail=St.Ni,w._MagickImage_Tint=St.Oi,w._MagickImage_Transparent=St.Pi,w._MagickImage_TransparentChroma=St.Qi,w._MagickImage_Transpose=St.Ri,w._MagickImage_Transverse=St.Si,w._MagickImage_Trim=St.Ti,w._MagickImage_UniqueColors=St.Ui,w._MagickImage_UnsharpMask=St.Vi,w._MagickImage_Vignette=St.Wi,w._MagickImage_Wave=St.Xi,w._MagickImage_WaveletDenoise=St.Yi,w._MagickImage_WhiteBalance=St.Zi,w._MagickImage_WhiteThreshold=St._i,w._MagickImage_WriteBlob=St.$i,w._MagickImage_WriteFile=St.aj,w._MagickImage_WriteStream=St.bj,w._MagickImageCollection_Append=St.cj,w._MagickImageCollection_Coalesce=St.dj,w._MagickImageCollection_Combine=St.ej,w._MagickImageCollection_Complex=St.fj,w._MagickImageCollection_Deconstruct=St.gj,w._MagickImageCollection_Dispose=St.hj,w._MagickImageCollection_Evaluate=St.ij,w._MagickImageCollection_Fx=St.jj,w._MagickImageCollection_Merge=St.kj,w._MagickImageCollection_Montage=St.lj,w._MagickImageCollection_Morph=St.mj,w._MagickImageCollection_Optimize=St.nj,w._MagickImageCollection_OptimizePlus=St.oj,w._MagickImageCollection_OptimizeTransparency=St.pj,w._MagickImageCollection_Polynomial=St.qj,w._MagickImageCollection_Quantize=St.rj,w._MagickImageCollection_ReadBlob=St.sj,w._MagickImageCollection_ReadFile=St.tj,w._MagickImageCollection_ReadStream=St.uj,w._MagickImageCollection_Remap=St.vj,w._MagickImageCollection_Smush=St.wj,w._MagickImageCollection_WriteFile=St.xj,w._MagickImageCollection_WriteStream=St.yj,w._DoubleMatrix_Create=St.zj,w._DoubleMatrix_Dispose=St.Aj,w._OpenCL_GetDevices=St.Bj,w._OpenCL_GetDevice=St.Cj,w._OpenCL_GetEnabled=St.Dj,w._OpenCL_SetEnabled=St.Ej,w._OpenCLDevice_DeviceType_Get=St.Fj,w._OpenCLDevice_BenchmarkScore_Get=St.Gj,w._OpenCLDevice_IsEnabled_Get=St.Hj,w._OpenCLDevice_IsEnabled_Set=St.Ij,w._OpenCLDevice_Name_Get=St.Jj,w._OpenCLDevice_Version_Get=St.Kj,w._OpenCLDevice_GetKernelProfileRecords=St.Lj,w._OpenCLDevice_GetKernelProfileRecord=St.Mj,w._OpenCLDevice_SetProfileKernels=St.Nj,w._OpenCLKernelProfileRecord_Count_Get=St.Oj,w._OpenCLKernelProfileRecord_Name_Get=St.Pj,w._OpenCLKernelProfileRecord_MaximumDuration_Get=St.Qj,w._OpenCLKernelProfileRecord_MinimumDuration_Get=St.Rj,w._OpenCLKernelProfileRecord_TotalDuration_Get=St.Sj,w._JpegOptimizer_CompressFile=St.Tj,w._JpegOptimizer_CompressStream=St.Uj;var ca=w._malloc=St.Vj,Ln=w._free=St.Wj;w._PixelCollection_Create=St.Xj,w._PixelCollection_Dispose=St.Yj,w._PixelCollection_GetArea=St.Zj,w._PixelCollection_GetReadOnlyArea=St._j,w._PixelCollection_SetArea=St.$j,w._PixelCollection_ToByteArray=St.ak,w._PixelCollection_ToShortArray=St.bk,w._Quantum_Depth_Get=St.ck,w._Quantum_Max_Get=St.dk,w._ResourceLimits_Area_Get=St.ek,w._ResourceLimits_Area_Set=St.fk,w._ResourceLimits_Disk_Get=St.gk,w._ResourceLimits_Disk_Set=St.hk,w._ResourceLimits_Height_Get=St.ik,w._ResourceLimits_Height_Set=St.jk,w._ResourceLimits_ListLength_Get=St.kk,w._ResourceLimits_ListLength_Set=St.lk,w._ResourceLimits_MaxMemoryRequest_Get=St.mk,w._ResourceLimits_MaxMemoryRequest_Set=St.nk,w._ResourceLimits_MaxProfileSize_Get=St.ok,w._ResourceLimits_MaxProfileSize_Set=St.pk,w._ResourceLimits_Memory_Get=St.qk,w._ResourceLimits_Memory_Set=St.rk,w._ResourceLimits_Thread_Get=St.sk,w._ResourceLimits_Thread_Set=St.tk,w._ResourceLimits_Throttle_Get=St.uk,w._ResourceLimits_Throttle_Set=St.vk,w._ResourceLimits_Time_Get=St.wk,w._ResourceLimits_Time_Set=St.xk,w._ResourceLimits_Width_Get=St.yk,w._ResourceLimits_Width_Set=St.zk,w._ResourceLimits_LimitMemory=St.Ak,w._ResourceLimits_TrimMemory=St.Bk,w._DrawingSettings_Create=St.Ck,w._DrawingSettings_Dispose=St.Dk,w._DrawingSettings_BorderColor_Get=St.Ek,w._DrawingSettings_BorderColor_Set=St.Fk,w._DrawingSettings_FillColor_Get=St.Gk,w._DrawingSettings_FillColor_Set=St.Hk,w._DrawingSettings_FillRule_Get=St.Ik,w._DrawingSettings_FillRule_Set=St.Jk,w._DrawingSettings_Font_Get=St.Kk,w._DrawingSettings_Font_Set=St.Lk,w._DrawingSettings_FontFamily_Get=St.Mk,w._DrawingSettings_FontFamily_Set=St.Nk,w._DrawingSettings_FontPointsize_Get=St.Ok,w._DrawingSettings_FontPointsize_Set=St.Pk,w._DrawingSettings_FontStyle_Get=St.Qk,w._DrawingSettings_FontStyle_Set=St.Rk,w._DrawingSettings_FontWeight_Get=St.Sk,w._DrawingSettings_FontWeight_Set=St.Tk,w._DrawingSettings_StrokeAntiAlias_Get=St.Uk,w._DrawingSettings_StrokeAntiAlias_Set=St.Vk,w._DrawingSettings_StrokeColor_Get=St.Wk,w._DrawingSettings_StrokeColor_Set=St.Xk,w._DrawingSettings_StrokeDashOffset_Get=St.Yk,w._DrawingSettings_StrokeDashOffset_Set=St.Zk,w._DrawingSettings_StrokeLineCap_Get=St._k,w._DrawingSettings_StrokeLineCap_Set=St.$k,w._DrawingSettings_StrokeLineJoin_Get=St.al,w._DrawingSettings_StrokeLineJoin_Set=St.bl,w._DrawingSettings_StrokeMiterLimit_Get=St.cl,w._DrawingSettings_StrokeMiterLimit_Set=St.dl,w._DrawingSettings_StrokeWidth_Get=St.el,w._DrawingSettings_StrokeWidth_Set=St.fl,w._DrawingSettings_TextAntiAlias_Get=St.gl,w._DrawingSettings_TextAntiAlias_Set=St.hl,w._DrawingSettings_TextDirection_Get=St.il,w._DrawingSettings_TextDirection_Set=St.jl,w._DrawingSettings_TextEncoding_Get=St.kl,w._DrawingSettings_TextEncoding_Set=St.ll,w._DrawingSettings_TextGravity_Get=St.ml,w._DrawingSettings_TextGravity_Set=St.nl,w._DrawingSettings_TextInterlineSpacing_Get=St.ol,w._DrawingSettings_TextInterlineSpacing_Set=St.pl,w._DrawingSettings_TextInterwordSpacing_Get=St.ql,w._DrawingSettings_TextInterwordSpacing_Set=St.rl,w._DrawingSettings_TextKerning_Get=St.sl,w._DrawingSettings_TextKerning_Set=St.tl,w._DrawingSettings_TextUnderColor_Get=St.ul,w._DrawingSettings_TextUnderColor_Set=St.vl,w._DrawingSettings_SetAffine=St.wl,w._DrawingSettings_SetFillPattern=St.xl,w._DrawingSettings_SetStrokeDashArray=St.yl,w._DrawingSettings_SetStrokePattern=St.zl,w._DrawingSettings_SetText=St.Al,w._MagickSettings_Create=St.Bl,w._MagickSettings_Dispose=St.Cl,w._MagickSettings_AntiAlias_Get=St.Dl,w._MagickSettings_AntiAlias_Set=St.El,w._MagickSettings_BackgroundColor_Get=St.Fl,w._MagickSettings_BackgroundColor_Set=St.Gl,w._MagickSettings_ColorSpace_Get=St.Hl,w._MagickSettings_ColorSpace_Set=St.Il,w._MagickSettings_ColorType_Get=St.Jl,w._MagickSettings_ColorType_Set=St.Kl,w._MagickSettings_Compression_Get=St.Ll,w._MagickSettings_Compression_Set=St.Ml,w._MagickSettings_Debug_Get=St.Nl,w._MagickSettings_Debug_Set=St.Ol,w._MagickSettings_Density_Get=St.Pl,w._MagickSettings_Density_Set=St.Ql,w._MagickSettings_Depth_Get=St.Rl,w._MagickSettings_Depth_Set=St.Sl,w._MagickSettings_Endian_Get=St.Tl,w._MagickSettings_Endian_Set=St.Ul,w._MagickSettings_Extract_Get=St.Vl,w._MagickSettings_Extract_Set=St.Wl,w._MagickSettings_Format_Get=St.Xl,w._MagickSettings_Format_Set=St.Yl,w._MagickSettings_FontPointsize_Get=St.Zl,w._MagickSettings_FontPointsize_Set=St._l,w._MagickSettings_Interlace_Get=St.$l,w._MagickSettings_Interlace_Set=St.am,w._MagickSettings_Monochrome_Get=St.bm,w._MagickSettings_Monochrome_Set=St.cm,w._MagickSettings_Verbose_Get=St.dm,w._MagickSettings_Verbose_Set=St.em,w._MagickSettings_SetColorFuzz=St.fm,w._MagickSettings_SetFileName=St.gm,w._MagickSettings_SetFont=St.hm,w._MagickSettings_SetNumberScenes=St.im,w._MagickSettings_SetOption=St.jm,w._MagickSettings_SetPage=St.km,w._MagickSettings_SetPing=St.lm,w._MagickSettings_SetQuality=St.mm,w._MagickSettings_SetScenes=St.nm,w._MagickSettings_SetScene=St.om,w._MagickSettings_SetSize=St.pm,w._MontageSettings_Create=St.qm,w._MontageSettings_Dispose=St.rm,w._MontageSettings_SetBackgroundColor=St.sm,w._MontageSettings_SetBorderColor=St.tm,w._MontageSettings_SetBorderWidth=St.um,w._MontageSettings_SetFillColor=St.vm,w._MontageSettings_SetFont=St.wm,w._MontageSettings_SetFontPointsize=St.xm,w._MontageSettings_SetFrameGeometry=St.ym,w._MontageSettings_SetGeometry=St.zm,w._MontageSettings_SetGravity=St.Am,w._MontageSettings_SetShadow=St.Bm,w._MontageSettings_SetStrokeColor=St.Cm,w._MontageSettings_SetTextureFileName=St.Dm,w._MontageSettings_SetTileGeometry=St.Em,w._MontageSettings_SetTitle=St.Fm,w._QuantizeSettings_SetColors=St.Gm,w._QuantizeSettings_SetColorSpace=St.Hm,w._QuantizeSettings_SetDitherMethod=St.Im,w._QuantizeSettings_SetMeasureErrors=St.Jm,w._QuantizeSettings_SetTreeDepth=St.Km,w._ChannelMoments_Centroid_Get=St.Lm,w._ChannelMoments_EllipseAngle_Get=St.Mm,w._ChannelMoments_EllipseAxis_Get=St.Nm,w._ChannelMoments_EllipseEccentricity_Get=St.Om,w._ChannelMoments_EllipseIntensity_Get=St.Pm,w._ChannelMoments_GetHuInvariants=St.Qm,w._ChannelPerceptualHash_GetHuPhash=St.Rm,w._ChannelStatistics_Depth_Get=St.Sm,w._ChannelStatistics_Entropy_Get=St.Tm,w._ChannelStatistics_Kurtosis_Get=St.Um,w._ChannelStatistics_Maximum_Get=St.Vm,w._ChannelStatistics_Mean_Get=St.Wm,w._ChannelStatistics_Minimum_Get=St.Xm,w._ChannelStatistics_Skewness_Get=St.Ym,w._ChannelStatistics_StandardDeviation_Get=St.Zm,w._Moments_DisposeList=St._m,w._Moments_GetInstance=St.$m,w._PerceptualHash_DisposeList=St.an,w._PerceptualHash_GetInstance=St.bn,w._Statistics_DisposeList=St.cn,w._Statistics_GetInstance=St.dn,w._ConnectedComponent_DisposeList=St.en,w._ConnectedComponent_GetArea=St.fn,w._ConnectedComponent_GetCentroid=St.gn,w._ConnectedComponent_GetColor=St.hn,w._ConnectedComponent_GetHeight=St.jn,w._ConnectedComponent_GetId=St.kn,w._ConnectedComponent_GetWidth=St.ln,w._ConnectedComponent_GetX=St.mn,w._ConnectedComponent_GetY=St.nn,w._ConnectedComponent_GetInstance=St.on,w._MagickGeometry_Create=St.pn,w._MagickGeometry_Dispose=St.qn,w._MagickGeometry_X_Get=St.rn,w._MagickGeometry_Y_Get=St.sn,w._MagickGeometry_Width_Get=St.tn,w._MagickGeometry_Height_Get=St.un,w._MagickGeometry_Initialize=St.vn,w._MagickRectangle_Dispose=St.wn,w._MagickRectangle_X_Get=St.xn,w._MagickRectangle_X_Set=St.yn,w._MagickRectangle_Y_Get=St.zn,w._MagickRectangle_Y_Set=St.An,w._MagickRectangle_Width_Get=St.Bn,w._MagickRectangle_Width_Set=St.Cn,w._MagickRectangle_Height_Get=St.Dn,w._MagickRectangle_Height_Set=St.En,w._MagickRectangle_FromPageSize=St.Fn,w._OffsetInfo_Create=St.Gn,w._OffsetInfo_Dispose=St.Hn,w._OffsetInfo_SetX=St.In,w._OffsetInfo_SetY=St.Jn,w._PointInfo_X_Get=St.Kn,w._PointInfo_Y_Get=St.Ln,w._PointInfoCollection_Create=St.Mn,w._PointInfoCollection_Dispose=St.Nn,w._PointInfoCollection_GetX=St.On,w._PointInfoCollection_GetY=St.Pn,w._PointInfoCollection_Set=St.Qn,w._PrimaryInfo_Dispose=St.Rn,w._PrimaryInfo_X_Get=St.Sn,w._PrimaryInfo_X_Set=St.Tn,w._PrimaryInfo_Y_Get=St.Un,w._PrimaryInfo_Y_Set=St.Vn,w._PrimaryInfo_Z_Get=St.Wn,w._PrimaryInfo_Z_Set=St.Xn,w._StringInfo_Length_Get=St.Yn,w._StringInfo_Datum_Get=St.Zn,w._TypeMetric_Dispose=St._n,w._TypeMetric_Ascent_Get=St.$n,w._TypeMetric_Descent_Get=St.ao,w._TypeMetric_MaxHorizontalAdvance_Get=St.bo,w._TypeMetric_TextHeight_Get=St.co,w._TypeMetric_TextWidth_Get=St.eo,w._TypeMetric_UnderlinePosition_Get=St.fo,w._TypeMetric_UnderlineThickness_Get=St.go;var Fu=St.ho,Gi=St.io,vl=St.jo,Lu=St.ko,$n=St.lo,fn=St.mo;function ji(K,nt,ft,kt){var Zt=xe();try{We(K)(nt,ft,kt)}catch(ee){if(jt(Zt),ee!==ee+0)throw ee;Gi(1,0)}}function Za(K,nt,ft,kt){var Zt=xe();try{return We(K)(nt,ft,kt)}catch(ee){if(jt(Zt),ee!==ee+0)throw ee;Gi(1,0)}}function na(K,nt,ft){var kt=xe();try{return We(K)(nt,ft)}catch(Zt){if(jt(kt),Zt!==Zt+0)throw Zt;Gi(1,0)}}function wl(K,nt){var ft=xe();try{return We(K)(nt)}catch(kt){if(jt(ft),kt!==kt+0)throw kt;Gi(1,0)}}function Ha(K,nt){var ft=xe();try{We(K)(nt)}catch(kt){if(jt(ft),kt!==kt+0)throw kt;Gi(1,0)}}function Uu(K,nt,ft){var kt=xe();try{We(K)(nt,ft)}catch(Zt){if(jt(kt),Zt!==Zt+0)throw Zt;Gi(1,0)}}function Gu(K,nt,ft,kt,Zt){var ee=xe();try{We(K)(nt,ft,kt,Zt)}catch(ve){if(jt(ee),ve!==ve+0)throw ve;Gi(1,0)}}function Gr(K,nt,ft,kt,Zt){var ee=xe();try{return We(K)(nt,ft,kt,Zt)}catch(ve){if(jt(ee),ve!==ve+0)throw ve;Gi(1,0)}}function pr(K,nt,ft,kt){var Zt=xe();try{return We(K)(nt,ft,kt)}catch(ee){if(jt(Zt),ee!==ee+0)throw ee;return Gi(1,0),0n}}function xl(K,nt){var ft=xe();try{return We(K)(nt)}catch(kt){if(jt(ft),kt!==kt+0)throw kt;return Gi(1,0),0n}}function As(K,nt,ft,kt,Zt,ee,ve,we,Ze){var fi=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve,we,Ze)}catch(di){if(jt(fi),di!==di+0)throw di;Gi(1,0)}}function El(K,nt,ft,kt,Zt,ee,ve){var we=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve)}catch(Ze){if(jt(we),Ze!==Ze+0)throw Ze;Gi(1,0)}}function mr(K,nt,ft,kt,Zt){var ee=xe();try{return We(K)(nt,ft,kt,Zt)}catch(ve){if(jt(ee),ve!==ve+0)throw ve;Gi(1,0)}}function Ra(K){var nt=xe();try{return We(K)()}catch(ft){if(jt(nt),ft!==ft+0)throw ft;Gi(1,0)}}function qa(K,nt,ft){var kt=xe();try{return We(K)(nt,ft)}catch(Zt){if(jt(kt),Zt!==Zt+0)throw Zt;Gi(1,0)}}function Da(K,nt,ft){var kt=xe();try{We(K)(nt,ft)}catch(Zt){if(jt(kt),Zt!==Zt+0)throw Zt;Gi(1,0)}}function Sl(K,nt,ft,kt,Zt,ee){var ve=xe();try{return We(K)(nt,ft,kt,Zt,ee)}catch(we){if(jt(ve),we!==we+0)throw we;Gi(1,0)}}function Ml(K,nt,ft){var kt=xe();try{return We(K)(nt,ft)}catch(Zt){if(jt(kt),Zt!==Zt+0)throw Zt;Gi(1,0)}}function jr(K){var nt=xe();try{We(K)()}catch(ft){if(jt(nt),ft!==ft+0)throw ft;Gi(1,0)}}function Js(K,nt,ft,kt,Zt,ee){var ve=xe();try{We(K)(nt,ft,kt,Zt,ee)}catch(we){if(jt(ve),we!==we+0)throw we;Gi(1,0)}}function gr(K,nt,ft,kt,Zt,ee,ve,we){var Ze=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve,we)}catch(fi){if(jt(Ze),fi!==fi+0)throw fi;Gi(1,0)}}function Bn(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi){var di=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi)}catch(vi){if(jt(di),vi!==vi+0)throw vi;Gi(1,0)}}function bo(K,nt,ft,kt){var Zt=xe();try{We(K)(nt,ft,kt)}catch(ee){if(jt(Zt),ee!==ee+0)throw ee;Gi(1,0)}}function ju(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di){var vi=xe();try{We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi,di)}catch(xi){if(jt(vi),xi!==xi+0)throw xi;Gi(1,0)}}function hf(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di){var vi=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi,di)}catch(xi){if(jt(vi),xi!==xi+0)throw xi;Gi(1,0)}}function df(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi){var di=xe();try{We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi)}catch(vi){if(jt(di),vi!==vi+0)throw vi;Gi(1,0)}}function pf(K,nt,ft,kt,Zt,ee,ve){var we=xe();try{We(K)(nt,ft,kt,Zt,ee,ve)}catch(Ze){if(jt(we),Ze!==Ze+0)throw Ze;Gi(1,0)}}function wn(K,nt,ft,kt,Zt,ee,ve,we){var Ze=xe();try{We(K)(nt,ft,kt,Zt,ee,ve,we)}catch(fi){if(jt(Ze),fi!==fi+0)throw fi;Gi(1,0)}}function kl(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di,vi){var xi=xe();try{return We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi,di,vi)}catch(wi){if(jt(xi),wi!==wi+0)throw wi;Gi(1,0)}}function Cs(K,nt,ft,kt,Zt,ee){var ve=xe();try{return We(K)(nt,ft,kt,Zt,ee)}catch(we){if(jt(ve),we!==we+0)throw we;Gi(1,0)}}function Is(K,nt){var ft=xe();try{return We(K)(nt)}catch(kt){if(jt(ft),kt!==kt+0)throw kt;Gi(1,0)}}function Tl(K,nt,ft,kt,Zt,ee,ve,we,Ze){var fi=xe();try{We(K)(nt,ft,kt,Zt,ee,ve,we,Ze)}catch(di){if(jt(fi),di!==di+0)throw di;Gi(1,0)}}function Hr(K,nt,ft,kt,Zt,ee,ve,we,Ze,fi,di,vi){var xi=xe();try{We(K)(nt,ft,kt,Zt,ee,ve,we,Ze,fi,di,vi)}catch(wi){if(jt(xi),wi!==wi+0)throw wi;Gi(1,0)}}function Wr(K){K=Object.assign({},K);var nt=Zt=>ee=>Zt(ee)>>>0,ft=Zt=>(ee,ve)=>Zt(ee,ve)>>>0,kt=Zt=>()=>Zt()>>>0;return K.eb=nt(K.eb),K.Vj=nt(K.Vj),K.ho=ft(K.ho),K._emscripten_stack_alloc=nt(K._emscripten_stack_alloc),K.lo=kt(K.lo),K}function Al(){if(Qt>0){pe=Al;return}if(Ct(),Qt>0){pe=Al;return}function K(){w.calledRun=!0,!mt&&(Jt(),D(w),w.onRuntimeInitialized?.(),Kt())}w.setStatus?(w.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>w.setStatus(""),1),K()},1)):K()}function Zu(){if(w.preInit)for(typeof w.preInit=="function"&&(w.preInit=[w.preInit]);w.preInit.length>0;)w.preInit.shift()()}return Zu(),Al(),g=F,g}})();class Co{constructor(m){if(m instanceof URL){if(m.protocol!=="http:"&&m.protocol!=="https:")throw new Y$2("Only http/https protocol is supported");this.locateFile=()=>m.href}else m instanceof WebAssembly.Module?this.instantiateWasm=(g,w)=>{const D=new WebAssembly.Instance(m,g);w(D)}:this.wasmBinary=m}wasmBinary;instantiateWasm;locateFile}let l$1=class{loader;api;constructor(){this.loader=(m,g)=>new Promise((w,D)=>{if(this.api!==void 0){w();return}const P=new Co(m);So(P).then(F=>{try{this.writeConfigurationFiles(F,g),rr(F,"MAGICK_CONFIGURE_PATH",U=>{rr(F,"/xml",H=>{F._Environment_SetEnv(U,H),F._Environment_Initialize(),this.api=F,w()})})}catch(U){D(U)}})})}async _initialize(m,g){await this.loader(m,g)}static get _api(){if(!Dt.api)throw new Y$2("`await initializeImageMagick` should be called to initialize the library");return Dt.api}static set _api(m){Dt.api=m}static read(m,g,w,D){return ie._create(P=>{let F=D;if(typeof m!="string"&&!ti(m))typeof g=="number"&&typeof w=="number"&&P.read(m,g,w);else if(typeof g!="number"&&typeof w!="number"){F=w;let U;g instanceof be?U=g:typeof g=="string"?(U=new be,U.format=g):F=g,P.read(m,U)}return F(P)})}static readCollection(m,g,w){return ke.use(D=>{let P=w,F;return g instanceof be?F=g:typeof g=="string"?(F=new be,F.format=g):P=g,D.read(m,F),P(D)})}static readFromCanvas(m,g,w){return ie._create(D=>(D.readFromCanvas(m,w),g(D)))}writeConfigurationFiles(m,g){m.FS.analyzePath("/xml").exists||m.FS.mkdir("/xml");for(const w of g.all()){const D=m.FS.open(`/xml/${w.fileName}`,"w"),P=new TextEncoder().encode(w.data);m.FS.write(D,P,0,P.length),m.FS.close(D)}}};const Dt=new l$1;async function a_(d,m){await Dt._initialize(d,nr.default)}class Io{constructor(m,g,w){this.origin=m,this.progress=new re((g+1)/(w*100))}origin;progress;cancel=!1}class se{static _logDelegate=0;static _onLog;static _progressDelegate=0;static _images={};static setLogDelegate(m){se._logDelegate===0&&m!==void 0&&(se._logDelegate=l$1._api.addFunction(se.logDelegate,"vii")),l$1._api._Magick_SetLogDelegate(m===void 0?0:se._logDelegate),se._onLog=m}static setProgressDelegate(m){se._progressDelegate===0&&(this._progressDelegate=l$1._api.addFunction(se.progressDelegate,"iijji")),this._images[m._instance]=m,l$1._api._MagickImage_SetClientData(m._instance,m._instance),l$1._api._MagickImage_SetProgressDelegate(m._instance,se._progressDelegate)}static removeProgressDelegate(m){l$1._api._MagickImage_SetClientData(m._instance,0),l$1._api._MagickImage_SetProgressDelegate(m._instance,0),delete se._images[m._instance]}static logDelegate(m,g){if(se._onLog===void 0)return;const w=ce(g,"");se._onLog(new eo(m,w))}static progressDelegate(m,g,w,D){const P=se._images[D];if(P===void 0||P.onProgress===void 0)return 1;const F=Number(g),U=Number(w),H=ce(m),q=new Io(H,F,U);return P.onProgress(q),q.cancel?0:1}}class De{static _allFormats;constructor(m,g,w,D,P,F,U){this.format=m,this.description=g,this.mimeType=w,this.moduleFormat=D,this.supportsMultipleFrames=P,this.supportsReading=F,this.supportsWriting=U}description;format;mimeType;moduleFormat;supportsMultipleFrames;supportsReading;supportsWriting;static get all(){return De._allFormats===void 0&&(De._allFormats=De.loadFormats()),De._allFormats}static loadFormats(){return E$1.usePointer(m=>Re.use(g=>{const w=l$1._api._MagickFormatInfo_CreateList(g.ptr,m),D=g.value;try{const P=new Array(D),F=Object.values(Le);for(let U=0;U<D;U++){const H=l$1._api._MagickFormatInfo_GetInfo(w,U,m),q=ce(l$1._api._MagickFormatInfo_Format_Get(H)),X=De.convertFormat(q,F),V=ce(l$1._api._MagickFormatInfo_Description_Get(H),""),J=ce(l$1._api._MagickFormatInfo_MimeType_Get(H)),et=ce(l$1._api._MagickFormatInfo_Module_Get(H)),at=De.convertFormat(et,F),ot=l$1._api._MagickFormatInfo_SupportsMultipleFrames_Get(H)==1,ut=l$1._api._MagickFormatInfo_SupportsReading_Get(H)==1,yt=l$1._api._MagickFormatInfo_SupportsWriting_Get(H)==1;P[U]=new De(X,V,J,at,ot,ut,yt)}return P}finally{l$1._api._MagickFormatInfo_DisposeList(w,D)}}))}static convertFormat(m,g){return m===null?Le.Unknown:g.includes(m)?m:Le.Unknown}}const Q={None:0,Accelerate:1,Annotate:2,Blob:4,Cache:8,Coder:16,Configure:32,Deprecate:64,Draw:128,Exception:256,Image:512,Locale:1024,Module:2048,Pixel:4096,Policy:8192,Resource:16384,Trace:32768,Transform:65536,User:131072,Wand:262144,Detailed:2147450879,get All(){return this.Detailed|this.Trace}};class Ae{static get delegates(){return ce(l$1._api._Magick_Delegates_Get(),"Unknown")}static get features(){return ce(l$1._api._Magick_Features_Get()," ").slice(0,-1)}static get imageMagickVersion(){return ce(l$1._api._Magick_ImageMagickVersion_Get(),"Unknown")}static get supportedFormats(){return De.all}static onLog;static addFont(m,g){const w=l$1._api.FS;w.analyzePath("/fonts").exists||w.mkdir("/fonts");const D=w.open(`/fonts/${m}`,"w");w.write(D,g,0,g.length),w.close(D)}static resetRandomSeed=()=>l$1._api._Magick_ResetRandomSeed();static setRandomSeed=m=>l$1._api._Magick_SetRandomSeed(m);static setLogEvents(m){const g=m==Q.None?void 0:Ae.logDelegate;se.setLogDelegate(g);const w=Ae.getEventTypeString(m);A$1(w,D=>l$1._api._Magick_SetLogEvents(D))}static _getFontFileName(m){const g=`/fonts/${m}`;if(!l$1._api.FS.analyzePath(g).exists)throw`Unable to find a font with the name '${m}', register it with the addFont method of the Magick class.`;return g}static getEventTypeString(m){if(m==Q.All)return"All,Trace";if(m==Q.Detailed)return"All";switch(m){case Q.Accelerate:return"Accelerate";case Q.Annotate:return"Annotate";case Q.Blob:return"Blob";case Q.Cache:return"Cache";case Q.Coder:return"Coder";case Q.Configure:return"Configure";case Q.Deprecate:return"Deprecate";case Q.Draw:return"Draw";case Q.Exception:return"Exception";case Q.Image:return"Image";case Q.Locale:return"Locale";case Q.Module:return"Module";case Q.Pixel:return"Pixel";case Q.Policy:return"Policy";case Q.Resource:return"Resource";case Q.Trace:return"Trace";case Q.Transform:return"Transform";case Q.User:return"User";case Q.Wand:return"Wand";case Q.None:default:return"None"}}static logDelegate(m){Ae.onLog!==void 0&&Ae.onLog(m)}}class Uo{static get None(){return new k$1(0,0,0,0)}static get Transparent(){return new k$1(0,0,0,0)}static get AliceBlue(){return new k$1(240,248,255,255)}static get AntiqueWhite(){return new k$1(250,235,215,255)}static get Aqua(){return new k$1(0,255,255,255)}static get Aquamarine(){return new k$1(127,255,212,255)}static get Azure(){return new k$1(240,255,255,255)}static get Beige(){return new k$1(245,245,220,255)}static get Bisque(){return new k$1(255,228,196,255)}static get Black(){return new k$1(0,0,0,255)}static get BlanchedAlmond(){return new k$1(255,235,205,255)}static get Blue(){return new k$1(0,0,255,255)}static get BlueViolet(){return new k$1(138,43,226,255)}static get Brown(){return new k$1(165,42,42,255)}static get BurlyWood(){return new k$1(222,184,135,255)}static get CadetBlue(){return new k$1(95,158,160,255)}static get Chartreuse(){return new k$1(127,255,0,255)}static get Chocolate(){return new k$1(210,105,30,255)}static get Coral(){return new k$1(255,127,80,255)}static get CornflowerBlue(){return new k$1(100,149,237,255)}static get Cornsilk(){return new k$1(255,248,220,255)}static get Crimson(){return new k$1(220,20,60,255)}static get Cyan(){return new k$1(0,255,255,255)}static get DarkBlue(){return new k$1(0,0,139,255)}static get DarkCyan(){return new k$1(0,139,139,255)}static get DarkGoldenrod(){return new k$1(184,134,11,255)}static get DarkGray(){return new k$1(169,169,169,255)}static get DarkGreen(){return new k$1(0,100,0,255)}static get DarkKhaki(){return new k$1(189,183,107,255)}static get DarkMagenta(){return new k$1(139,0,139,255)}static get DarkOliveGreen(){return new k$1(85,107,47,255)}static get DarkOrange(){return new k$1(255,140,0,255)}static get DarkOrchid(){return new k$1(153,50,204,255)}static get DarkRed(){return new k$1(139,0,0,255)}static get DarkSalmon(){return new k$1(233,150,122,255)}static get DarkSeaGreen(){return new k$1(143,188,143,255)}static get DarkSlateBlue(){return new k$1(72,61,139,255)}static get DarkSlateGray(){return new k$1(47,79,79,255)}static get DarkTurquoise(){return new k$1(0,206,209,255)}static get DarkViolet(){return new k$1(148,0,211,255)}static get DeepPink(){return new k$1(255,20,147,255)}static get DeepSkyBlue(){return new k$1(0,191,255,255)}static get DimGray(){return new k$1(105,105,105,255)}static get DodgerBlue(){return new k$1(30,144,255,255)}static get Firebrick(){return new k$1(178,34,34,255)}static get FloralWhite(){return new k$1(255,250,240,255)}static get ForestGreen(){return new k$1(34,139,34,255)}static get Fuchsia(){return new k$1(255,0,255,255)}static get Gainsboro(){return new k$1(220,220,220,255)}static get GhostWhite(){return new k$1(248,248,255,255)}static get Gold(){return new k$1(255,215,0,255)}static get Goldenrod(){return new k$1(218,165,32,255)}static get Gray(){return new k$1(128,128,128,255)}static get Green(){return new k$1(0,128,0,255)}static get GreenYellow(){return new k$1(173,255,47,255)}static get Honeydew(){return new k$1(240,255,240,255)}static get HotPink(){return new k$1(255,105,180,255)}static get IndianRed(){return new k$1(205,92,92,255)}static get Indigo(){return new k$1(75,0,130,255)}static get Ivory(){return new k$1(255,255,240,255)}static get Khaki(){return new k$1(240,230,140,255)}static get Lavender(){return new k$1(230,230,250,255)}static get LavenderBlush(){return new k$1(255,240,245,255)}static get LawnGreen(){return new k$1(124,252,0,255)}static get LemonChiffon(){return new k$1(255,250,205,255)}static get LightBlue(){return new k$1(173,216,230,255)}static get LightCoral(){return new k$1(240,128,128,255)}static get LightCyan(){return new k$1(224,255,255,255)}static get LightGoldenrodYellow(){return new k$1(250,250,210,255)}static get LightGreen(){return new k$1(144,238,144,255)}static get LightGray(){return new k$1(211,211,211,255)}static get LightPink(){return new k$1(255,182,193,255)}static get LightSalmon(){return new k$1(255,160,122,255)}static get LightSeaGreen(){return new k$1(32,178,170,255)}static get LightSkyBlue(){return new k$1(135,206,250,255)}static get LightSlateGray(){return new k$1(119,136,153,255)}static get LightSteelBlue(){return new k$1(176,196,222,255)}static get LightYellow(){return new k$1(255,255,224,255)}static get Lime(){return new k$1(0,255,0,255)}static get LimeGreen(){return new k$1(50,205,50,255)}static get Linen(){return new k$1(250,240,230,255)}static get Magenta(){return new k$1(255,0,255,255)}static get Maroon(){return new k$1(128,0,0,255)}static get MediumAquamarine(){return new k$1(102,205,170,255)}static get MediumBlue(){return new k$1(0,0,205,255)}static get MediumOrchid(){return new k$1(186,85,211,255)}static get MediumPurple(){return new k$1(147,112,219,255)}static get MediumSeaGreen(){return new k$1(60,179,113,255)}static get MediumSlateBlue(){return new k$1(123,104,238,255)}static get MediumSpringGreen(){return new k$1(0,250,154,255)}static get MediumTurquoise(){return new k$1(72,209,204,255)}static get MediumVioletRed(){return new k$1(199,21,133,255)}static get MidnightBlue(){return new k$1(25,25,112,255)}static get MintCream(){return new k$1(245,255,250,255)}static get MistyRose(){return new k$1(255,228,225,255)}static get Moccasin(){return new k$1(255,228,181,255)}static get NavajoWhite(){return new k$1(255,222,173,255)}static get Navy(){return new k$1(0,0,128,255)}static get OldLace(){return new k$1(253,245,230,255)}static get Olive(){return new k$1(128,128,0,255)}static get OliveDrab(){return new k$1(107,142,35,255)}static get Orange(){return new k$1(255,165,0,255)}static get OrangeRed(){return new k$1(255,69,0,255)}static get Orchid(){return new k$1(218,112,214,255)}static get PaleGoldenrod(){return new k$1(238,232,170,255)}static get PaleGreen(){return new k$1(152,251,152,255)}static get PaleTurquoise(){return new k$1(175,238,238,255)}static get PaleVioletRed(){return new k$1(219,112,147,255)}static get PapayaWhip(){return new k$1(255,239,213,255)}static get PeachPuff(){return new k$1(255,218,185,255)}static get Peru(){return new k$1(205,133,63,255)}static get Pink(){return new k$1(255,192,203,255)}static get Plum(){return new k$1(221,160,221,255)}static get PowderBlue(){return new k$1(176,224,230,255)}static get Purple(){return new k$1(128,0,128,255)}static get RebeccaPurple(){return new k$1(102,51,153,255)}static get Red(){return new k$1(255,0,0,255)}static get RosyBrown(){return new k$1(188,143,143,255)}static get RoyalBlue(){return new k$1(65,105,225,255)}static get SaddleBrown(){return new k$1(139,69,19,255)}static get Salmon(){return new k$1(250,128,114,255)}static get SandyBrown(){return new k$1(244,164,96,255)}static get SeaGreen(){return new k$1(46,139,87,255)}static get SeaShell(){return new k$1(255,245,238,255)}static get Sienna(){return new k$1(160,82,45,255)}static get Silver(){return new k$1(192,192,192,255)}static get SkyBlue(){return new k$1(135,206,235,255)}static get SlateBlue(){return new k$1(106,90,205,255)}static get SlateGray(){return new k$1(112,128,144,255)}static get Snow(){return new k$1(255,250,250,255)}static get SpringGreen(){return new k$1(0,255,127,255)}static get SteelBlue(){return new k$1(70,130,180,255)}static get Tan(){return new k$1(210,180,140,255)}static get Teal(){return new k$1(0,128,128,255)}static get Thistle(){return new k$1(216,191,216,255)}static get Tomato(){return new k$1(255,99,71,255)}static get Turquoise(){return new k$1(64,224,208,255)}static get Violet(){return new k$1(238,130,238,255)}static get Wheat(){return new k$1(245,222,179,255)}static get White(){return new k$1(255,255,255,255)}static get WhiteSmoke(){return new k$1(245,245,245,255)}static get Yellow(){return new k$1(255,255,0,255)}static get YellowGreen(){return new k$1(154,205,50,255)}}const d_={Point:1},p_={Square:"Square"},m_={Dilate:4};class E_{constructor(m,g,w){this.method=m,this.kernel=g,w!==void 0&&(this.kernel+=`:${w}`)}channels=j.Composite;convolveBias;convolveScale;iterations=1;kernel;method}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach((function(w){var D=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,D.get?D:{enumerable:!0,get:function(){return d[w]}})})),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,D,P,F;inited||init();var U=d.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");P=d[U-2]==="="?2:d[U-1]==="="?1:0,F=new Arr(3*U/4-P),w=P>0?U-4:U;var H=0;for(m=0,g=0;m<w;m+=4,g+=3)D=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],F[H++]=D>>16&255,F[H++]=D>>8&255,F[H++]=255&D;return P===2?(D=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,F[H++]=255&D):P===1&&(D=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,F[H++]=D>>8&255,F[H++]=255&D),F}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,D=[],P=m;P<g;P+=3)w=(d[P]<<16)+(d[P+1]<<8)+d[P+2],D.push(tripletToBase64(w));return D.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,D="",P=[],F=16383,U=0,H=g-w;U<H;U+=F)P.push(encodeChunk(d,U,U+F>H?H:U+F));return w===1?(m=d[g-1],D+=lookup[m>>2],D+=lookup[m<<4&63],D+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],D+=lookup[m>>10],D+=lookup[m>>4&63],D+=lookup[m<<2&63],D+="="),P.push(D),P.join("")}function read(d,m,g,w,D){var P,F,U=8*D-w-1,H=(1<<U)-1,q=H>>1,X=-7,V=g?D-1:0,J=g?-1:1,et=d[m+V];for(V+=J,P=et&(1<<-X)-1,et>>=-X,X+=U;X>0;P=256*P+d[m+V],V+=J,X-=8);for(F=P&(1<<-X)-1,P>>=-X,X+=w;X>0;F=256*F+d[m+V],V+=J,X-=8);if(P===0)P=1-q;else{if(P===H)return F?NaN:1/0*(et?-1:1);F+=Math.pow(2,w),P-=q}return(et?-1:1)*F*Math.pow(2,P-w)}function write(d,m,g,w,D,P){var F,U,H,q=8*P-D-1,X=(1<<q)-1,V=X>>1,J=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,et=w?0:P-1,at=w?1:-1,ot=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(U=isNaN(m)?1:0,F=X):(F=Math.floor(Math.log(m)/Math.LN2),m*(H=Math.pow(2,-F))<1&&(F--,H*=2),(m+=F+V>=1?J/H:J*Math.pow(2,1-V))*H>=2&&(F++,H/=2),F+V>=X?(U=0,F=X):F+V>=1?(U=(m*H-1)*Math.pow(2,D),F+=V):(U=m*Math.pow(2,V-1)*Math.pow(2,D),F=0));D>=8;d[g+et]=255&U,et+=at,U/=256,D-=8);for(F=F<<D|U,q+=D;q>0;d[g+et]=255&F,et+=at,F/=256,q-=8);d[g+et-at]|=128*ot}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),D=(d=createBuffer(d,w)).write(m,g);return D!==w&&(d=d.slice(0,D)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,D){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=D?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(D)return-1;g=d.length-1}else if(g<0){if(!D)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,D);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,D);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,D){var P,F=1,U=d.length,H=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;F=2,U/=2,H/=2,g/=2}function q(et,at){return F===1?et[at]:et.readUInt16BE(at*F)}if(D){var X=-1;for(P=g;P<U;P++)if(q(d,P)===q(m,X===-1?0:P-X)){if(X===-1&&(X=P),P-X+1===H)return X*F}else X!==-1&&(P-=P-X),X=-1}else for(g+H>U&&(g=U-H),P=g;P>=0;P--){for(var V=!0,J=0;J<H;J++)if(q(d,P+J)!==q(m,J)){V=!1;break}if(V)return P}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var D=d.length-g;w?(w=Number(w))>D&&(w=D):w=D;var P=m.length;if(P%2!=0)throw new TypeError("Invalid hex string");w>P/2&&(w=P/2);for(var F=0;F<w;++F){var U=parseInt(m.substr(2*F,2),16);if(isNaN(U))return F;d[g+F]=U}return F}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],D=m;D<g;){var P,F,U,H,q=d[D],X=null,V=q>239?4:q>223?3:q>191?2:1;if(D+V<=g)switch(V){case 1:q<128&&(X=q);break;case 2:(192&(P=d[D+1]))==128&&(H=(31&q)<<6|63&P)>127&&(X=H);break;case 3:P=d[D+1],F=d[D+2],(192&P)==128&&(192&F)==128&&(H=(15&q)<<12|(63&P)<<6|63&F)>2047&&(H<55296||H>57343)&&(X=H);break;case 4:P=d[D+1],F=d[D+2],U=d[D+3],(192&P)==128&&(192&F)==128&&(192&U)==128&&(H=(15&q)<<18|(63&P)<<12|(63&F)<<6|63&U)>65535&&H<1114112&&(X=H)}X===null?(X=65533,V=1):X>65535&&(X-=65536,w.push(X>>>10&1023|55296),X=56320|1023&X),w.push(X),D+=V}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,D=0,P=Math.min(g,w);D<P;++D)if(d[D]!==m[D]){g=d[D],w=m[D];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),D=0;for(g=0;g<d.length;++g){var P=d[g];if(!internalIsBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(w,D),D+=P.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,D){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),D===void 0&&(D=this.length),m<0||g>d.length||w<0||D>this.length)throw new RangeError("out of range index");if(w>=D&&m>=g)return 0;if(w>=D)return-1;if(m>=g)return 1;if(this===d)return 0;for(var P=(D>>>=0)-(w>>>=0),F=(g>>>=0)-(m>>>=0),U=Math.min(P,F),H=this.slice(w,D),q=d.slice(m,g),X=0;X<U;++X)if(H[X]!==q[X]){P=H[X],F=q[X];break}return P<F?-1:F<P?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var D=this.length-m;if((g===void 0||g>D)&&(g=D),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var P=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(P)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),P=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(127&d[D]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(d[D]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var D="",P=m;P<g;++P)D+=toHex(d[P]);return D}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),D="",P=0;P<w.length;P+=2)D+=String.fromCharCode(w[P]+256*w[P+1]);return D}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,D,P){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>D||m<P)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var D=0,P=Math.min(d.length-g,2);D<P;++D)d[g+D]=(m&255<<8*(w?D:1-D))>>>8*(w?D:1-D)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var D=0,P=Math.min(d.length-g,4);D<P;++D)d[g+D]=m>>>8*(w?D:3-D)&255}function checkIEEE754(d,m,g,w,D,P){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,D){return D||checkIEEE754(d,m,g,4),write(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,D){return D||checkIEEE754(d,m,g,8),write(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var D=m-d;g=new Buffer(D,void 0);for(var P=0;P<D;++P)g[P]=this[P+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,P=0;++P<m&&(D*=256);)w+=this[d+P]*D;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],D=1;m>0&&(D*=256);)w+=this[d+--m]*D;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,P=0;++P<m&&(D*=256);)w+=this[d+P]*D;return w>=(D*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,D=1,P=this[d+--w];w>0&&(D*=256);)P+=this[d+--w]*D;return P>=(D*=128)&&(P-=Math.pow(2,8*m)),P},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=1,P=0;for(this[m]=255&d;++P<g&&(D*=256);)this[m+P]=d/D&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=g-1,P=1;for(this[m+D]=255&d;--D>=0&&(P*=256);)this[m+D]=d/P&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var P=0,F=1,U=0;for(this[m]=255&d;++P<g&&(F*=256);)d<0&&U===0&&this[m+P-1]!==0&&(U=1),this[m+P]=(d/F|0)-U&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var P=g-1,F=1,U=0;for(this[m+P]=255&d;--P>=0&&(F*=256);)d<0&&U===0&&this[m+P+1]!==0&&(U=1),this[m+P]=(d/F|0)-U&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var D,P=w-g;if(this===d&&g<m&&m<w)for(D=P-1;D>=0;--D)d[D+m]=this[D+g];else if(P<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(D=0;D<P;++D)d[D+m]=this[D+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+P),m);return P},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var D=d.charCodeAt(0);D<256&&(d=D)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var P;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(P=m;P<g;++P)this[P]=d;else{var F=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),U=F.length;for(P=0;P<g-m;++P)this[P+m]=F[P%U]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,D=null,P=[],F=0;F<w;++F){if((g=d.charCodeAt(F))>55295&&g<57344){if(!D){if(g>56319){(m-=3)>-1&&P.push(239,191,189);continue}if(F+1===w){(m-=3)>-1&&P.push(239,191,189);continue}D=g;continue}if(g<56320){(m-=3)>-1&&P.push(239,191,189),D=g;continue}g=65536+(D-55296<<10|g-56320)}else D&&(m-=3)>-1&&P.push(239,191,189);if(D=null,g<128){if((m-=1)<0)break;P.push(g)}else if(g<2048){if((m-=2)<0)break;P.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;P.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;P.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return P}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,D,P=[],F=0;F<d.length&&!((m-=2)<0);++F)w=(g=d.charCodeAt(F))>>8,D=g%256,P.push(D),P.push(w);return P}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var D=0;D<w&&!(D+g>=m.length||D>=d.length);++D)m[D+g]=d[D];return D}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const D=1+~d&d,P=1+~m&m,F=1+~g&g,U=1+~w&w,H=d/D+1,q=m/P+1,X=g/F+1,V=w/U+1;return{shiftRed:J=>(J&d)/D*256/H,shiftGreen:J=>(J&m)/P*256/q,shiftBlue:J=>(J&g)/F*256/X,shiftAlpha:w!==0?J=>(J&w)/U*256/V:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{flag;fileSize;reserved1;reserved2;offset;headerSize;width;height;planes;bitPP;compression;rawSize;hr;vr;colors;importantColors;palette;data;maskRed;maskGreen;maskBlue;maskAlpha;toRGBA;pos;bottomUp;buffer;locRed;locGreen;locBlue;locAlpha;shiftRed;shiftGreen;shiftBlue;shiftAlpha;constructor(m,{toRGBA:g}={toRGBA:!1}){if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const D=this.buffer.readUInt8(this.pos++),P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++),U=this.buffer.readUInt8(this.pos++);this.palette[w]={red:F,green:P,blue:D,quad:U}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,((D,P)=>{const F=this.buffer.readUInt8(this.pos++),U=P*this.width*4+8*D*4;for(let H=0;H<8&&8*D+H<this.width;H++){const q=this.palette[F>>7-H&1];this.data[U+H*this.locAlpha]=0,this.data[U+4*H+this.locBlue]=q.blue,this.data[U+4*H+this.locGreen]=q.green,this.data[U+4*H+this.locRed]=q.red}}))}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const D=this.buffer.readUInt8(this.pos++),P=this.buffer.readUInt8(this.pos++);if(D===0){if(P===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(P===1)break;if(P===2){const F=this.buffer.readUInt8(this.pos++),U=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-U:U,w+=U*this.width*4+4*F}else{let F=this.buffer.readUInt8(this.pos++);for(let U=0;U<P;U++)w=this.setPixelData(w,m?15&F:(240&F)>>4),1&U&&U+1<P&&(F=this.buffer.readUInt8(this.pos++)),m=!m;(P+1>>1&1)==1&&this.pos++}}else for(let F=0;F<D;F++)w=this.setPixelData(w,m?15&P:(240&P)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,((D,P)=>{const F=this.buffer.readUInt8(this.pos++),U=P*this.width*4+2*D*4,H=F>>4;let q=this.palette[H];if(this.data[U]=0,this.data[U+1]=q.blue,this.data[U+2]=q.green,this.data[U+3]=q.red,2*D+1>=this.width)return!1;const X=15&F;q=this.palette[X],this.data[U+4]=0,this.data[U+4+1]=q.blue,this.data[U+4+2]=q.green,this.data[U+4+3]=q.red}))}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);if(w===0){if(D===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(D===1)break;if(D===2){const P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-F:F,g+=F*this.width*4+4*P}else{for(let P=0;P<D;P++){const F=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,F)}!0&D&&this.pos++}}else for(let P=0;P<w;P++)g=this.setPixelData(g,D)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,((w,D)=>{const P=this.buffer.readUInt8(this.pos++),F=D*this.width*4+4*w;if(P<this.palette.length){const U=this.palette[P];this.data[F]=0,this.data[F+1]=U.blue,this.data[F+2]=U.green,this.data[F+3]=U.red}else this.data[F]=0,this.data[F+1]=255,this.data[F+2]=255,this.data[F+3]=255}))}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,((g,w)=>{const D=w*this.width*4+4*g,P=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[D+this.locRed]=this.shiftRed(P),this.data[D+this.locGreen]=this.shiftGreen(P),this.data[D+this.locBlue]=this.shiftBlue(P),this.data[D+this.locAlpha]=this.shiftAlpha(P)}))}bit24(){const m=this.width%4;this.scanImage(m,this.width,((g,w)=>{const D=w*this.width*4+4*g,P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++),U=this.buffer.readUInt8(this.pos++);this.data[D+this.locRed]=U,this.data[D+this.locGreen]=F,this.data[D+this.locBlue]=P,this.data[D+this.locAlpha]=0}))}bit32(){this.scanImage(0,this.width,((m,g)=>{const w=g*this.width*4+4*m,D=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(D),this.data[w+this.locGreen]=this.shiftGreen(D),this.data[w+this.locBlue]=this.shiftBlue(D),this.data[w+this.locAlpha]=this.shiftAlpha(D)}))}scanImage(m=0,g=this.width,w){for(let D=this.height-1;D>=0;D--){const P=this.bottomUp?D:this.height-1-D;for(let F=0;F<g;F++)if(w.call(this,F,P)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:D,red:P}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=D,this.data[m+3+this.locRed]=P,m+4}}function createInteger(d){return d.reduce(((m,g)=>m<<1|g),0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{fileSize;reserved1;reserved2;offset;width;flag;height;planes;bitPP;compress;hr;vr;colors;importantColors;rawSize;headerSize;data;palette;extraBytes;buffer;bytesInColor;pos;constructor(m){switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage(((g,w,D)=>{let P=w;P++;const F=this.buffer[P++],U=this.buffer[P++],H=.2126*this.buffer[P++]+.7152*U+.0722*F;return m.push(H>127?0:1),(D+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):D===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),P}))}bit4(){const m=this.initColors(4);let g=[];this.writeImage(((w,D,P)=>{let F=D;const U=createColor({quad:this.buffer[F++],blue:this.buffer[F++],green:this.buffer[F++],red:this.buffer[F++]}),H=m.findIndex((q=>q===U));return H!==-1?g.push(H):g.push(0),(P+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),F}))}bit8(){const m=this.initColors(8);this.writeImage(((g,w)=>{let D=w;const P=createColor({quad:this.buffer[D++],blue:this.buffer[D++],green:this.buffer[D++],red:this.buffer[D++]}),F=m.findIndex((U=>U===P));return this.data[g]=F!==-1?F:0,D}))}bit16(){this.writeImage(((m,g)=>{let w=g+1;const D=this.buffer[w++]/8,P=this.buffer[w++]/8,F=this.buffer[w++]/8<<10|P<<5|D;return this.data[m]=255&F,this.data[m+1]=(65280&F)>>8,w}))}bit24(){this.writeImage(((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w}))}bit32(){this.writeImage(((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w}))}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let D=0;D<this.height;D++)for(let P=0;P<this.width;P++){const F=Math.floor(this.pos+(this.height-1-D)*g+P*this.bytesInColor);w=m.call(this,F,w,P,D)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const D=createColor(this.palette[w]);this.writeUInt32LE(D),g.push(D)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,D=null,P=null,F=!1,U=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),F=!0,U=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),D=convertToPercentage(d.v),m=hsvToRgb(d.h,w,D),F=!0,U="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),P=convertToPercentage(d.l),m=hslToRgb(d.h,w,P),F=!0,U="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:F,format:d.format||U,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,P=Math.max(d,m,g),F=Math.min(d,m,g),U=(P+F)/2;if(P==F)w=D=0;else{var H=P-F;switch(D=U>.5?H/(2-P-F):H/(P+F),P){case d:w=(m-g)/H+(m<g?6:0);break;case m:w=(g-d)/H+2;break;case g:w=(d-m)/H+4}w/=6}return{h:w,s:D,l:U}}function hslToRgb(d,m,g){var w,D,P;function F(q,X,V){return V<0&&(V+=1),V>1&&(V-=1),V<1/6?q+6*(X-q)*V:V<.5?X:V<2/3?q+(X-q)*(2/3-V)*6:q}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=D=P=g;else{var U=g<.5?g*(1+m):g+m-g*m,H=2*g-U;w=F(H,U,d+1/3),D=F(H,U,d),P=F(H,U,d-1/3)}return{r:255*w,g:255*D,b:255*P}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,P=Math.max(d,m,g),F=Math.min(d,m,g),U=P,H=P-F;if(D=P===0?0:H/P,P==F)w=0;else{switch(P){case d:w=(m-g)/H+(m<g?6:0);break;case m:w=(g-d)/H+2;break;case g:w=(d-m)/H+4}w/=6}return{h:w,s:D,v:U}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),D=d-w,P=g*(1-m),F=g*(1-D*m),U=g*(1-(1-D)*m),H=w%6;return{r:255*[g,F,P,P,U,g][H],g:255*[U,g,g,F,P,P][H],b:255*[P,P,U,g,g,F][H]}}function rgbToHex(d,m,g,w){var D=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function rgbaToHex(d,m,g,w,D){var P=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return D&&P[0].charAt(0)==P[0].charAt(1)&&P[1].charAt(0)==P[1].charAt(1)&&P[2].charAt(0)==P[2].charAt(1)&&P[3].charAt(0)==P[3].charAt(1)?P[0].charAt(0)+P[1].charAt(0)+P[2].charAt(0)+P[3].charAt(0):P.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],D=360/m,P=1;P<m;P++)w.push(tinycolor({h:(g.h+P*D)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),D=360/g,P=[tinycolor(d)];for(w.h=(w.h-(D*m>>1)+720)%360;--m;)w.h=(w.h+D)%360,P.push(tinycolor(w));return P}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,D=g.s,P=g.v,F=[],U=1/m;m--;)F.push(tinycolor({h:w,s:D,v:P})),P=(P+U)%1;return F}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var D=tinycolor(d);g="#"+rgbaToArgbHex(D._r,D._g,D._b,D._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),D=tinycolor(m).toRgb(),P=g/100;return tinycolor({r:(D.r-w.r)*P+w.r,g:(D.g-w.g)*P+w.g,b:(D.b-w.b)*P+w.b,a:(D.a-w.a)*P+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,D,P=tinycolor.readability(d,m);switch(D=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":D=P>=4.5;break;case"AAlarge":D=P>=3;break;case"AAAsmall":D=P>=7}return D},tinycolor.mostReadable=function(d,m,g){var w,D,P,F,U=null,H=0;D=(g=g||{}).includeFallbackColors,P=g.level,F=g.size;for(var q=0;q<m.length;q++)(w=tinycolor.readability(d,m[q]))>H&&(H=w,U=tinycolor(m[q]));return tinycolor.isReadable(d,U,{level:P,size:F})||!D?U:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,D,P){let F,U,H,q,X;if(typeof m=="function")X=m,F=0,U=0,H=d.bitmap.width,q=d.bitmap.height;else{if(F=m,typeof g!="number")throw new Error("y must be a number");if(U=g,typeof w!="number")throw new Error("w must be a number");if(H=w,typeof D!="number")throw new Error("h must be a number");if(q=D,typeof P!="function")throw new Error("cb must be a function");X=P}F=Math.round(F),U=Math.round(U),H=Math.round(H),q=Math.round(q);const V=X.bind(d);for(let J=U;J<U+q;J++)for(let et=F;et<F+H;et++)V(et,J,d.bitmap.width*J+et<<2);return d}function*scanIterator(d,m,g,w,D){m=Math.round(m),g=Math.round(g),w=Math.round(w),D=Math.round(D);for(let P=g;P<g+D;P++)for(let F=m;F<m+w;F++){const U=d.bitmap.width*P+F<<2;yield{x:F,y:P,idx:U,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=F=>Math.pow(F,2),{max:w}=Math,D="a"in d?d.a:255,P="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-D+P))+w(g(d.g-m.g),g(d.g-m.g-D+P))+w(g(d.b-m.b),g(d.b-m.b-D+P)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,(function(g,w,D){const P=d.data[D+0],F=d.data[D+1],U=d.data[D+2],H=d.data[D+3];d.data[D+0]=H,d.data[D+1]=U,d.data[D+2]=F,d.data[D+3]=P})),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,(function(w,D,P){const F=g.data[P+1],U=g.data[P+2],H=g.data[P+3];g.data[P+0]=H,g.data[P+1]=U,g.data[P+2]=F,g.data[P+3]=255})),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var D=0,P=(w=w===void 0?{}:w).loop===void 0?null:w.loop,F=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function U(ot){var ut=ot.length;if(ut<2||ut>256||ut&ut-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return ut}d[D++]=71,d[D++]=73,d[D++]=70,d[D++]=56,d[D++]=57,d[D++]=97;var H=0,q=0;if(F!==null){for(var X=U(F);X>>=1;)++H;if(X=1<<H,--H,w.background!==void 0){if((q=w.background)>=X)throw new Error("Background index out of range.");if(q===0)throw new Error("Background index explicitly passed as 0.")}}if(d[D++]=255&m,d[D++]=m>>8&255,d[D++]=255&g,d[D++]=g>>8&255,d[D++]=(F!==null?128:0)|H,d[D++]=q,d[D++]=0,F!==null)for(var V=0,J=F.length;V<J;++V){var et=F[V];d[D++]=et>>16&255,d[D++]=et>>8&255,d[D++]=255&et}if(P!==null){if(P<0||P>65535)throw new Error("Loop count invalid.");d[D++]=33,d[D++]=255,d[D++]=11,d[D++]=78,d[D++]=69,d[D++]=84,d[D++]=83,d[D++]=67,d[D++]=65,d[D++]=80,d[D++]=69,d[D++]=50,d[D++]=46,d[D++]=48,d[D++]=3,d[D++]=1,d[D++]=255&P,d[D++]=P>>8&255,d[D++]=0}var at=!1;this.addFrame=function(ot,ut,yt,vt,mt,dt){if(at===!0&&(--D,at=!1),dt=dt===void 0?{}:dt,ot<0||ut<0||ot>65535||ut>65535)throw new Error("x/y invalid.");if(yt<=0||vt<=0||yt>65535||vt>65535)throw new Error("Width/Height invalid.");if(mt.length<yt*vt)throw new Error("Not enough pixels for the frame size.");var gt=!0,At=dt.palette;if(At==null&&(gt=!1,At=F),At==null)throw new Error("Must supply either a local or global palette.");for(var _t=U(At),Mt=0;_t>>=1;)++Mt;_t=1<<Mt;var wt=dt.delay===void 0?0:dt.delay,zt=dt.disposal===void 0?0:dt.disposal;if(zt<0||zt>3)throw new Error("Disposal out of range.");var ht=!1,It=0;if(dt.transparent!==void 0&&dt.transparent!==null&&(ht=!0,(It=dt.transparent)<0||It>=_t))throw new Error("Transparent color index.");if((zt!==0||ht||wt!==0)&&(d[D++]=33,d[D++]=249,d[D++]=4,d[D++]=zt<<2|(ht===!0?1:0),d[D++]=255&wt,d[D++]=wt>>8&255,d[D++]=It,d[D++]=0),d[D++]=44,d[D++]=255&ot,d[D++]=ot>>8&255,d[D++]=255&ut,d[D++]=ut>>8&255,d[D++]=255&yt,d[D++]=yt>>8&255,d[D++]=255&vt,d[D++]=vt>>8&255,d[D++]=gt===!0?128|Mt-1:0,gt===!0)for(var qt=0,Nt=At.length;qt<Nt;++qt){var Ot=At[qt];d[D++]=Ot>>16&255,d[D++]=Ot>>8&255,d[D++]=255&Ot}return D=GifWriterOutputLZWCodeStream(d,D,Mt<2?2:Mt,mt)},this.end=function(){return at===!1&&(d[D++]=59,at=!0),D},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(ot){d=ot},this.getOutputBufferPosition=function(){return D},this.setOutputBufferPosition=function(ot){D=ot}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var D=m++,P=1<<g,F=P-1,U=P+1,H=U+1,q=g+1,X=0,V=0;function J(gt){for(;X>=gt;)d[m++]=255&V,V>>=8,X-=8,m===D+256&&(d[D]=255,D=m++)}function et(gt){V|=gt<<X,X+=q,J(8)}var at=w[0]&F,ot={};et(P);for(var ut=1,yt=w.length;ut<yt;++ut){var vt=w[ut]&F,mt=at<<8|vt,dt=ot[mt];if(dt===void 0){for(V|=at<<X,X+=q;X>=8;)d[m++]=255&V,V>>=8,X-=8,m===D+256&&(d[D]=255,D=m++);H===4096?(et(P),H=U+1,q=g+1,ot={}):(H>=1<<q&&++q,ot[mt]=H++),at=vt}else at=dt}return et(at),et(U),J(1),D+1===m?d[D]=0:(d[D]=m-D-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,D=d[m++],P=D>>7,F=1<<(7&D)+1;d[m++],d[m++];var U=null,H=null;P&&(U=m,H=F,m+=3*F);var q=!0,X=[],V=0,J=null,et=0,at=null;for(this.width=g,this.height=w;q&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,at=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((ht=d[m++])>=0))throw Error("Invalid block size");if(ht===0)break;m+=ht}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var ot=d[m++];V=d[m++]|d[m++]<<8,J=d[m++],1&ot||(J=null),et=ot>>2&7,m++;break;case 254:for(;;){if(!((ht=d[m++])>=0))throw Error("Invalid block size");if(ht===0)break;m+=ht}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var ut=d[m++]|d[m++]<<8,yt=d[m++]|d[m++]<<8,vt=d[m++]|d[m++]<<8,mt=d[m++]|d[m++]<<8,dt=d[m++],gt=dt>>6&1,At=1<<(7&dt)+1,_t=U,Mt=H,wt=!1;dt>>7&&(wt=!0,_t=m,Mt=At,m+=3*At);var zt=m;for(m++;;){var ht;if(!((ht=d[m++])>=0))throw Error("Invalid block size");if(ht===0)break;m+=ht}X.push({x:ut,y:yt,width:vt,height:mt,has_local_palette:wt,palette_offset:_t,palette_size:Mt,data_offset:zt,data_length:m-zt,transparent_index:J,interlaced:!!gt,delay:V,disposal:et});break;case 59:q=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return X.length},this.loopCount=function(){return at},this.frameInfo=function(It){if(It<0||It>=X.length)throw new Error("Frame index out of range.");return X[It]},this.decodeAndBlitFrameBGRA=function(It,qt){var Nt=this.frameInfo(It),Ot=Nt.width*Nt.height,Ct=new Uint8Array(Ot);GifReaderLZWOutputIndexStream(d,Nt.data_offset,Ct,Ot);var Jt=Nt.palette_offset,Kt=Nt.transparent_index;Kt===null&&(Kt=256);var Qt=Nt.width,pe=g-Qt,$t=Qt,Wt=4*(Nt.y*g+Nt.x),fe=4*((Nt.y+Nt.height)*g+Nt.x),oe=Wt,Xt=4*pe;Nt.interlaced===!0&&(Xt+=4*g*7);for(var ne=8,ye=0,Ie=Ct.length;ye<Ie;++ye){var $e=Ct[ye];if($t===0&&($t=Qt,(oe+=Xt)>=fe&&(Xt=4*pe+4*g*(ne-1),oe=Wt+(Qt+pe)*(ne<<1),ne>>=1)),$e===Kt)oe+=4;else{var he=d[Jt+3*$e],xt=d[Jt+3*$e+1],ue=d[Jt+3*$e+2];qt[oe++]=ue,qt[oe++]=xt,qt[oe++]=he,qt[oe++]=255}--$t}},this.decodeAndBlitFrameRGBA=function(It,qt){var Nt=this.frameInfo(It),Ot=Nt.width*Nt.height,Ct=new Uint8Array(Ot);GifReaderLZWOutputIndexStream(d,Nt.data_offset,Ct,Ot);var Jt=Nt.palette_offset,Kt=Nt.transparent_index;Kt===null&&(Kt=256);var Qt=Nt.width,pe=g-Qt,$t=Qt,Wt=4*(Nt.y*g+Nt.x),fe=4*((Nt.y+Nt.height)*g+Nt.x),oe=Wt,Xt=4*pe;Nt.interlaced===!0&&(Xt+=4*g*7);for(var ne=8,ye=0,Ie=Ct.length;ye<Ie;++ye){var $e=Ct[ye];if($t===0&&($t=Qt,(oe+=Xt)>=fe&&(Xt=4*pe+4*g*(ne-1),oe=Wt+(Qt+pe)*(ne<<1),ne>>=1)),$e===Kt)oe+=4;else{var he=d[Jt+3*$e],xt=d[Jt+3*$e+1],ue=d[Jt+3*$e+2];qt[oe++]=he,qt[oe++]=xt,qt[oe++]=ue,qt[oe++]=255}--$t}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var D=d[m++],P=1<<D,F=P+1,U=F+1,H=D+1,q=(1<<H)-1,X=0,V=0,J=0,et=d[m++],at=new Int32Array(4096),ot=null;;){for(;X<16&&et!==0;)V|=d[m++]<<X,X+=8,et===1?et=d[m++]:--et;if(X<H)break;var ut=V&q;if(V>>=H,X-=H,ut!==P){if(ut===F)break;for(var yt=ut<U?ut:ot,vt=0,mt=yt;mt>P;)mt=at[mt]>>8,++vt;var dt=mt;if(J+vt+(yt!==ut?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[J++]=dt;var gt=J+=vt;for(yt!==ut&&(g[J++]=dt),mt=yt;vt--;)mt=at[mt],g[--gt]=255&mt,mt>>=8;ot!==null&&U<4096&&(at[U++]=ot<<8|dt,U>=q+1&&H<12&&(++H,q=q<<1|1)),ot=ut}else U=F+1,q=(1<<(H=D+1))-1,ot=null}return J!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Bc{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Bc){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,D=m[1],P=m[2];this.bitmap={width:w,height:D},Buffer.isBuffer(P)?this.bitmap.data=P:(this.bitmap.data=new Buffer(w*D*4),typeof P=="number"&&this.fillRGBA(P))}}}blit(m,g,w,D,P,F,U){if(D+F>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+F>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(P+U>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+U>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const H=this.bitmap.data,q=m.bitmap.data,X=4*this.bitmap.width,V=4*m.bitmap.width,J=4*F;let et=P*X+4*D,at=w*V+4*g;for(;--U>=0;)H.copy(q,at,et,et+J),et+=X,at+=V;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let D=0;for(;D<w;)g.writeUInt32BE(m,D),D+=4;for(;D<g.length;)g.copy(g,D,0,w),D+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,((g,w,D)=>{const P=Math.round(.299*m[D]+.587*m[D+1]+.114*m[D+2]);m[D]=P,m[D+1]=P,m[D+2]=P})),this}reframe(m,g,w,D,P){const F=m<0?0:m,U=g<0?0:g,H=w+F>this.bitmap.width?this.bitmap.width-F:w,q=D+U>this.bitmap.height?this.bitmap.height-U:D,X=m<0?-m:0,V=g<0?-g:0;let J;if(P===void 0){if(F!==m||U!=g||H!==w||q!==D)throw new GifError("fillRGBA required for this reframing");J=new Bc(w,D)}else J=new Bc(w,D,P);return this.blit(J,X,V,F,U,H,q),this.bitmap=J.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,D=g*m*4,P=this.bitmap.data,F=new Buffer(w*D*m);let U,H=0,q=0;for(let X=0;X<w;++X){U=q;for(let V=0;V<g;++V){const J=P.readUInt32BE(H,!0);for(let et=0;et<m;++et)F.writeUInt32BE(J,q),q+=4;H+=4}for(let V=1;V<m;++V)F.copy(F,q,U,q),q+=D,U+=D}return this.bitmap={width:g*m,height:w*m,data:F},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let D=0,P=0;for(let F=0;F<w;F+=4)m(D,P,F),++D===g&&(D=0,++P)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let D of __getOwnPropNames(m))!__hasOwnProp.call(d,D)&&g&&__defProp$3(d,D,{get:()=>m[D],enumerable:!(w=__getOwnPropDesc(m,D))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let P=0,F=d.length;P<F;P++){const U=d[P];D[U]||D[U]===0||(D[U]=P)}w=d.sort(((P,F)=>m(P,F)||D[P]-D[F]))}else{const D=d.slice(0);w=d.sort(((P,F)=>m(P,F)||D.indexOf(P)-D.indexOf(F)))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),D=max3$1(d,m,g),P=D-w,F=(w+D)/510;let U=0;F>0&&F<1&&(U=P/(F<.5?D+w:510-D-w));let H=0;return P>0&&(H=D===d?(m-g)/P:D===m?2+(g-d)/P:4+(d-m)/P,H*=60,H<0&&(H+=360)),{h:H,s:U,l:F}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(D)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),P=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*D),b:inRange0to255Rounded$1(255*P)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,P,F,U){const H=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),q=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(P*this._whitePoint.g),inRange0to255$1(F*this._whitePoint.b)),X=H.L-q.L,V=H.a-q.a,J=H.b-q.b,et=Math.sqrt(H.a*H.a+H.b*H.b),at=et-Math.sqrt(q.a*q.a+q.b*q.b);let ot=V*V+J*J-at*at;ot=ot<0?0:Math.sqrt(ot);const ut=(U-w)*this._whitePoint.a*this._kA;return Math.sqrt((X/this._Kl)**2+(at/(1+this._K1*et))**2+(ot/(1+this._K2*et))**2+ut**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),D=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000$1._deg180InRad?D/2:D<_CIEDE2000$1._deg360InRad?(D+_CIEDE2000$1._deg360InRad)/2:(D-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,P,F,U){const H=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),q=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(P*this._whitePoint.g),inRange0to255$1(F*this._whitePoint.b)),X=(U-w)*this._whitePoint.a*_CIEDE2000$1._kA,V=this.calculateRawInLab(H,q);return Math.sqrt(V+X*X)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,P=m.L,F=m.a,U=m.b,H=((Math.sqrt(w*w+D*D)+Math.sqrt(F*F+U*U))/2)**7,q=.5*(1-Math.sqrt(H/(H+_CIEDE2000$1._pow25to7))),X=(1+q)*w,V=(1+q)*F,J=Math.sqrt(X*X+D*D),et=Math.sqrt(V*V+U*U),at=J*et,ot=_CIEDE2000$1._calculatehp(D,X),ut=_CIEDE2000$1._calculatehp(U,V),yt=Math.abs(ot-ut),vt=P-g,mt=et-J,dt=_CIEDE2000$1._calculate_dHp(at,yt,ut,ot),gt=_CIEDE2000$1._calculate_ahp(at,yt,ot,ut),At=(J+et)/2,_t=((g+P)/2-50)**2,Mt=mt/(1+.045*At),wt=dt/(1+.015*_CIEDE2000$1._calculateT(gt)*At);return(vt/(1+.015*_t/Math.sqrt(20+_t)))**2+Mt**2+wt**2+_CIEDE2000$1._calculateRT(gt,At)*Mt*wt}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,P,F,U){const H=(d+D)/2*this._whitePoint.r,q=(d-D)*this._whitePoint.r,X=(m-P)*this._whitePoint.g,V=(g-F)*this._whitePoint.b,J=((512+H)*q*q>>8)+4*X*X+((767-H)*V*V>>8),et=(U-w)*this._whitePoint.a;return Math.sqrt(J+et*et)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,P,F,U){const H=D-d,q=P-m,X=F-g,V=U-w;return Math.sqrt(this._kR*H*H+this._kG*q*q+this._kB*X*X+this._kA*V*V)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,P,F,U){let H=D-d,q=P-m,X=F-g,V=U-w;return H<0&&(H=0-H),q<0&&(q=0-q),X<0&&(X=0-X),V<0&&(V=0-V),this._kR*H+this._kG*q+this._kB*X+this._kA*V}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,P,F,U){const H=(U-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,H)+this._colordifferenceCh(m*this._whitePoint.g,P*this._whitePoint.g,H)+this._colordifferenceCh(g*this._whitePoint.b,F*this._whitePoint.b,H)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point$1;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let D=0,P=d.length;D<P;D++)w._pointArray[D]=Point$1.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,P=this._pointArray.length;D<P;D++){const F=this._pointArray[D],U=d.calculateRaw(m.r,m.g,m.b,m.a,F.r,F.g,F.b,F.a);U<w&&(w=U,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort(((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),P=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-D;if(P)return-P;const F=d.getLuminosity(!0),U=m.getLuminosity(!0);if(U-F!=0)return U-F;const H=(100*w.s|0)-(100*g.s|0);return H?-H:0}))}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),P=this._stats[D],F=this._minCols;P.num++,P.num>F||(P.num===F&&this._groupsFull++,P.num<=F&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach((g=>{d[g]?d[g]++:d[g]=1}))}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach((g=>{d.indexOf(g)===-1&&d.push(g)}))}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,P=w/_NeuQuant$1._nCycles|0,F=_NeuQuant$1._initAlpha,U=(this._networkSize>>3)*_NeuQuant$1._radiusBias,H=U>>_NeuQuant$1._radiusBiasShift;H<=1&&(H=0);for(let X=0;X<H;X++)this._radPower[X]=F*((H*H-X*X)*_NeuQuant$1._radBias/(H*H))>>>0;D=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const q=new ProgressTracker$1(w,99);for(let X=0,V=0;X<w;){q.shouldNotify(X)&&(yield{progress:q.progress});const J=this._pointArray[V],et=J.b<<networkBiasShift$1,at=J.g<<networkBiasShift$1,ot=J.r<<networkBiasShift$1,ut=J.a<<networkBiasShift$1,yt=this._contest(et,at,ot,ut);if(this._alterSingle(F,yt,et,at,ot,ut),H!==0&&this._alterNeighbour(H,yt,et,at,ot,ut),V+=D,V>=m&&(V-=m),X++,P===0&&(P=1),X%P==0){F-=F/g|0,U-=U/_NeuQuant$1._radiusDecrease|0,H=U>>_NeuQuant$1._radiusBiasShift,H<=1&&(H=0);for(let vt=0;vt<H;vt++)this._radPower[vt]=F*((H*H-vt*vt)*_NeuQuant$1._radBias/(H*H))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach((m=>{d.add(m.toPoint())})),d.sort(),d}_alterNeighbour(d,m,g,w,D,P){let F=m-d;F<-1&&(F=-1);let U=m+d;U>this._networkSize&&(U=this._networkSize);let H=m+1,q=m-1,X=1;for(;H<U||q>F;){const V=this._radPower[X++]/_NeuQuant$1._alphaRadBias;if(H<U){const J=this._network[H++];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}if(q>F){const J=this._network[q--];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}}}_alterSingle(d,m,g,w,D,P){d/=_NeuQuant$1._initAlpha;const F=this._network[m];F.subtract(d*(F.r-D),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const D=1020<<networkBiasShift$1;let P=2147483647,F=P,U=-1,H=U;for(let q=0;q<this._networkSize;q++){const X=this._network[q],V=this._distance.calculateNormalized(X,{r:g,g:m,b:d,a:w})*D|0;V<P&&(P=V,U=q);const J=V-(this._bias[q]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);J<F&&(F=J,H=q);const et=this._freq[q]>>_NeuQuant$1._betaShift;this._freq[q]-=et,this._bias[q]+=et<<_NeuQuant$1._gammaShift}return this._freq[U]+=_NeuQuant$1._beta,this._bias[U]-=_NeuQuant$1._betaGamma,H}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,P=w/_NeuQuantFloat$1._nCycles|0,F=_NeuQuantFloat$1._initAlpha,U=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,H=U>>_NeuQuantFloat$1._radiusBiasShift;H<=1&&(H=0);for(let X=0;X<H;X++)this._radPower[X]=F*((H*H-X*X)*_NeuQuantFloat$1._radBias/(H*H));D=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const q=new ProgressTracker$1(w,99);for(let X=0,V=0;X<w;){q.shouldNotify(X)&&(yield{progress:q.progress});const J=this._pointArray[V],et=J.b<<networkBiasShift2$1,at=J.g<<networkBiasShift2$1,ot=J.r<<networkBiasShift2$1,ut=J.a<<networkBiasShift2$1,yt=this._contest(et,at,ot,ut);if(this._alterSingle(F,yt,et,at,ot,ut),H!==0&&this._alterNeighbour(H,yt,et,at,ot,ut),V+=D,V>=m&&(V-=m),X++,P===0&&(P=1),X%P==0){F-=F/g,U-=U/_NeuQuantFloat$1._radiusDecrease,H=U>>_NeuQuantFloat$1._radiusBiasShift,H<=1&&(H=0);for(let vt=0;vt<H;vt++)this._radPower[vt]=F*((H*H-vt*vt)*_NeuQuantFloat$1._radBias/(H*H))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach((m=>{d.add(m.toPoint())})),d.sort(),d}_alterNeighbour(d,m,g,w,D,P){let F=m-d;F<-1&&(F=-1);let U=m+d;U>this._networkSize&&(U=this._networkSize);let H=m+1,q=m-1,X=1;for(;H<U||q>F;){const V=this._radPower[X++]/_NeuQuantFloat$1._alphaRadBias;if(H<U){const J=this._network[H++];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}if(q>F){const J=this._network[q--];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}}}_alterSingle(d,m,g,w,D,P){d/=_NeuQuantFloat$1._initAlpha;const F=this._network[m];F.subtract(d*(F.r-D),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const D=1020<<networkBiasShift2$1;let P=2147483647,F=P,U=-1,H=U;for(let q=0;q<this._networkSize;q++){const X=this._network[q],V=this._distance.calculateNormalized(X,{r:g,g:m,b:d,a:w})*D;V<P&&(P=V,U=q);const J=V-(this._bias[q]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);J<F&&(F=J,H=q);const et=this._freq[q]>>_NeuQuantFloat$1._betaShift;this._freq[q]-=et,this._bias[q]+=et<<_NeuQuantFloat$1._gammaShift}return this._freq[U]+=_NeuQuantFloat$1._beta,this._bias[U]-=_NeuQuantFloat$1._betaGamma,H}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),((g,w)=>this._histogram[w]-this._histogram[g]));if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let P=g;const F=d.length;for(;P<F&&this._histogram[d[P]]===D;)m.push(d[P++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map((g=>+g))}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const P=g[D].uint32;this._hueStats.check(P),P in m?m[P]++:m[P]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram$1._boxSize[0],P=_ColorHistogram$1._boxSize[1],F=D*P,U=this._makeBoxes(m,g,D,P),H=this._histogram;U.forEach((q=>{let X=Math.round(q.w*q.h/F)*_ColorHistogram$1._boxPixels;X<2&&(X=2);const V={};this._iterateBox(q,m,(J=>{const et=w[J].uint32;this._hueStats.check(et),et in H?H[et]++:et in V?++V[et]>=X&&(H[et]=V[et]):V[et]=1}))})),this._hueStats.injectIntoDictionary(H)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,P=(w.y+w.h-1)*m+(w.x+w.w-1),F=m-w.w+1;let U=0,H=D;do g.call(this,H),H+=++U%w.w==0?F:1;while(H<=P)}_makeBoxes(d,m,g,w){const D=d%g,P=m%w,F=d-D,U=m-P,H=[];for(let q=0;q<m;q+=w)for(let X=0;X<d;X+=g)H.push({x:X,y:q,w:X===F?D:g,h:q===U?P:w});return H}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let X=0;X<d.length;X++)g.push(Point$1.createByUint32(d[X])),w[X]=1;const D=g.length,P=[];let F=D,U=this._initialDistance;const H=new ProgressTracker$1(F-this._colors,99);for(;F>this._colors;){P.length=0;for(let X=0;X<D;X++){if(H.shouldNotify(D-F)&&(yield{progress:H.progress}),w[X]===0)continue;const V=g[X];for(let J=X+1;J<D;J++){if(w[J]===0)continue;const et=g[J],at=this._distance.calculateNormalized(V,et);at<U&&(P.push(new RemovedColor$1(J,et,at)),w[J]=0,F--)}}U+=F>3*this._colors?this._initialDistance:this._distanceIncrement}if(F<this._colors){stableSort$1(P,((V,J)=>J.distance-V.distance));let X=0;for(;F<this._colors&&X<P.length;)w[P[X].index]=1,F++,X++}let q=g.length;for(let X=q-1;X>=0;X--)w[X]===0&&(X!==q-1&&(g[X]=g[q-1]),--q);g.length=q,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const D=new Array(d);for(let P=0;P<d;P++){D[P]=new Array(m);for(let F=0;F<m;F++){D[P][F]=new Array(g);for(let U=0;U<g;U++){D[P][F][U]=new Array(w);for(let H=0;H<w;H++)D[P][F][U][H]=0}}}return D}function createArray3D$1(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let P=0;P<m;P++){w[D][P]=new Array(g);for(let F=0;F<g;F++)w[D][P][F]=0}}return w}function fillArray3D$1(d,m,g,w,D){for(let P=0;P<m;P++){d[P]=[];for(let F=0;F<g;F++){d[P][F]=[];for(let U=0;U<w;U++)d[P][F][U]=D}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,P=this._blues[m]/g,F=this._alphas[m]/g,U=Point$1.createByRGBA(0|w,0|D,0|P,0|F);d.add(U)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let F=1;F<this._colors;++F){this._cut(this._cubes[d],this._cubes[F])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[F]=this._cubes[F].volume>1?this._calculateVariance(this._cubes[F]):0):(m[d]=0,F--),d=0;let U=m[0];for(let H=1;H<=F;++H)m[H]>U&&(U=m[H],d=H);if(U<=0){this._colors=F+1;break}}const g=[],w=[],D=[],P=[];for(let F=0;F<this._colors;++F){const U=_WuQuant$1._volume(this._cubes[F],this._weights);U>0?(g[F]=_WuQuant$1._volume(this._cubes[F],this._momentsRed)/U|0,w[F]=_WuQuant$1._volume(this._cubes[F],this._momentsGreen)/U|0,D[F]=_WuQuant$1._volume(this._cubes[F],this._momentsBlue)/U|0,P[F]=_WuQuant$1._volume(this._cubes[F],this._momentsAlpha)/U|0):(g[F]=0,w[F]=0,D[F]=0,P[F]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let F=0,U=this._pixels.length;F<U;F++){const H=this._pixels[F];let q=-1,X=Number.MAX_VALUE;for(let V=0;V<this._colors;V++){const J=g[V],et=w[V],at=D[V],ot=P[V],ut=this._distance.calculateRaw(J,et,at,ot,H.r,H.g,H.b,H.a);ut<X&&(X=ut,q=V)}this._reds[q]+=H.r,this._greens[q]+=H.g,this._blues[q]+=H.b,this._alphas[q]+=H.a,this._sums[q]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),P=1+(d.a>>m);this._weights[P][g][w][D]++,this._momentsRed[P][g][w][D]+=d.r,this._momentsGreen[P][g][w][D]+=d.g,this._momentsBlue[P][g][w][D]+=d.b,this._momentsAlpha[P][g][w][D]+=d.a,this._moments[P][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],P=[],F=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),U=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),H=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),q=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),X=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),V=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let J=0;const et=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let at=1;at<=this._alphaMaxSideIndex;++at){fillArray3D$1(F,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(U,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(H,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(X,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(V,this._sideSize,this._sideSize,this._sideSize,0);for(let ot=1;ot<=this._maxSideIndex;++ot,++J){et.shouldNotify(J)&&(yield{progress:et.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(D,this._sideSize,0),fillArray1D$1(P,this._sideSize,0);for(let ut=1;ut<=this._maxSideIndex;++ut){let yt=0,vt=0,mt=0,dt=0,gt=0,At=0;for(let _t=1;_t<=this._maxSideIndex;++_t)yt+=this._weights[at][ot][ut][_t],vt+=this._momentsRed[at][ot][ut][_t],mt+=this._momentsGreen[at][ot][ut][_t],dt+=this._momentsBlue[at][ot][ut][_t],gt+=this._momentsAlpha[at][ot][ut][_t],At+=this._moments[at][ot][ut][_t],d[_t]+=yt,m[_t]+=vt,g[_t]+=mt,w[_t]+=dt,D[_t]+=gt,P[_t]+=At,F[ot][ut][_t]=F[ot-1][ut][_t]+d[_t],U[ot][ut][_t]=U[ot-1][ut][_t]+m[_t],H[ot][ut][_t]=H[ot-1][ut][_t]+g[_t],q[ot][ut][_t]=q[ot-1][ut][_t]+w[_t],X[ot][ut][_t]=X[ot-1][ut][_t]+D[_t],V[ot][ut][_t]=V[ot-1][ut][_t]+P[_t],this._weights[at][ot][ut][_t]=this._weights[at-1][ot][ut][_t]+F[ot][ut][_t],this._momentsRed[at][ot][ut][_t]=this._momentsRed[at-1][ot][ut][_t]+U[ot][ut][_t],this._momentsGreen[at][ot][ut][_t]=this._momentsGreen[at-1][ot][ut][_t]+H[ot][ut][_t],this._momentsBlue[at][ot][ut][_t]=this._momentsBlue[at-1][ot][ut][_t]+q[ot][ut][_t],this._momentsAlpha[at][ot][ut][_t]=this._momentsAlpha[at-1][ot][ut][_t]+X[ot][ut][_t],this._moments[at][ot][ut][_t]=this._moments[at-1][ot][ut][_t]+V[ot][ut][_t]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant$1._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),D=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,D,P,F,U,H){const q=0|_WuQuant$1._bottom(d,m,this._momentsRed),X=0|_WuQuant$1._bottom(d,m,this._momentsGreen),V=0|_WuQuant$1._bottom(d,m,this._momentsBlue),J=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),et=0|_WuQuant$1._bottom(d,m,this._weights);let at=0,ot=-1;for(let ut=g;ut<w;++ut){let yt=q+_WuQuant$1._top(d,m,ut,this._momentsRed),vt=X+_WuQuant$1._top(d,m,ut,this._momentsGreen),mt=V+_WuQuant$1._top(d,m,ut,this._momentsBlue),dt=J+_WuQuant$1._top(d,m,ut,this._momentsAlpha),gt=et+_WuQuant$1._top(d,m,ut,this._weights);if(gt!==0){let At=yt*yt+vt*vt+mt*mt+dt*dt,_t=At/gt;yt=D-yt,vt=P-vt,mt=F-mt,dt=U-dt,gt=H-gt,gt!==0&&(At=yt*yt+vt*vt+mt*mt+dt*dt,_t+=At/gt,_t>at&&(at=_t,ot=ut))}}return{max:at,position:ot}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),D=_WuQuant$1._volume(d,this._momentsGreen),P=_WuQuant$1._volume(d,this._momentsBlue),F=_WuQuant$1._volume(d,this._momentsAlpha),U=_WuQuant$1._volume(d,this._weights),H=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,D,P,F,U),q=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,D,P,F,U),X=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,D,P,F,U),V=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,P,F,U);if(V.max>=H.max&&V.max>=q.max&&V.max>=X.max){if(g=_WuQuant$1._alpha,V.position<0)return!1}else g=H.max>=V.max&&H.max>=q.max&&H.max>=X.max?_WuQuant$1._red:q.max>=V.max&&q.max>=H.max&&q.max>=X.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=H.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=q.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=X.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=V.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),P=new ProgressTracker$1(D,99);for(let F=0;F<D;F++){P.shouldNotify(F)&&(yield{progress:P.progress});for(let U=0,H=F*w;U<w;U++,H++){const q=g[H];q.from(m.getNearestColor(this._distance,q))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,D=d.getWidth(),P=d.getHeight(),F=[];let U=1,H=1;for(const X of this._kernel){const V=X[2]+1;H<V&&(H=V)}for(let X=0;X<H;X++)this._fillErrorLine(F[X]=[],D);const q=new ProgressTracker$1(P,99);for(let X=0;X<P;X++){q.shouldNotify(X)&&(yield{progress:q.progress}),this._serpentine&&(U*=-1);const V=X*D,J=U===1?0:D-1,et=U===1?D:-1;this._fillErrorLine(F[0],D),F.push(F.shift());const at=F[0];for(let ot=J,ut=V+J;ot!==et;ot+=U,ut+=U){const yt=g[ut],vt=at[ot];w.from(yt);const mt=Point$1.createByRGBA(inRange0to255Rounded$1(yt.r+vt[0]),inRange0to255Rounded$1(yt.g+vt[1]),inRange0to255Rounded$1(yt.b+vt[2]),inRange0to255Rounded$1(yt.a+vt[3])),dt=m.getNearestColor(this._distance,mt);if(yt.from(dt),this._minColorDistance&&this._distance.calculateNormalized(w,dt)<this._minColorDistance)continue;let gt,At,_t,Mt;this._calculateErrorLikeGIMP?(gt=mt.r-dt.r,At=mt.g-dt.g,_t=mt.b-dt.b,Mt=mt.a-dt.a):(gt=w.r-dt.r,At=w.g-dt.g,_t=w.b-dt.b,Mt=w.a-dt.a);const wt=U===1?0:this._kernel.length-1,zt=U===1?this._kernel.length:-1;for(let ht=wt;ht!==zt;ht+=U){const It=this._kernel[ht][1]*U,qt=this._kernel[ht][2];if(It+ot>=0&&It+ot<D&&qt+X>=0&&qt+X<P){const Nt=this._kernel[ht][0],Ot=F[qt][It+ot];Ot[0]+=gt*Nt,Ot[1]+=At*Nt,Ot[2]+=_t*Nt,Ot[3]+=Mt*Nt}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(D,1),visit$1(D,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),P=[];let F=0;for(let U=0;U<this._errorQueueSize;U++)P[U]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,D,((U,H)=>{const q=g[U+H*w];let{r:X,g:V,b:J,a:et}=q;for(let yt=0;yt<this._errorQueueSize;yt++){const vt=this._weights[yt],mt=P[(yt+F)%this._errorQueueSize];X+=mt.r*vt,V+=mt.g*vt,J+=mt.b*vt,et+=mt.a*vt}const at=Point$1.createByRGBA(inRange0to255Rounded$1(X),inRange0to255Rounded$1(V),inRange0to255Rounded$1(J),inRange0to255Rounded$1(et)),ot=m.getNearestColor(this._distance,at);F=(F+1)%this._errorQueueSize;const ut=(F+this._errorQueueSize-1)%this._errorQueueSize;P[ut].r=q.r-ot.r,P[ut].g=q.g-ot.g,P[ut].b=q.b-ot.b,P[ut].a=q.a-ot.a,q.from(ot)})),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,P=1;D<m;D++)g[D]=(P+.5|0)/m*d,P*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let D=0,P=0;return iterate$1(d,m,((F,U,H,q)=>{let X=0,V=0,J=0;for(let at=0;at<F.length;at++)V+=(F[at]-H)**2,J+=(U[at]-q)**2,X+=(F[at]-H)*(U[at]-q);const et=F.length-1;V/=et,J/=et,X/=et,P+=(2*H*q+g)*(2*X+w)/((H**2+q**2+g)*(V+J+w)),D++})),P/D}function iterate$1(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let P=0;P<D;P+=8)for(let F=0;F<w;F+=8){const U=Math.min(8,w-F),H=Math.min(8,D-P),q=calculateLumaValuesForWindow$1(d,F,P,U,H),X=calculateLumaValuesForWindow$1(m,F,P,U,H);g(q,X,calculateAverageLuma$1(q),calculateAverageLuma$1(X))}}function calculateLumaValuesForWindow$1(d,m,g,w,D){const P=d.getPointArray(),F=[];let U=0;for(let H=g;H<g+D;H++){const q=H*d.getWidth();for(let X=m;X<m+w;X++){const V=P[q+X];F[U]=.2126*V.r+.7152*V.g+.0722*V.b,U++}}return F}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach((P=>D.sample(P))),D.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:D}={}){return new Promise(((P,F)=>{const U=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let H;d.forEach((V=>U.sample(V)));const q=U.quantize(),X=()=>{try{const V=q.next();V.done?P(H):(V.value.palette&&(H=V.value.palette),D&&D(V.value.progress),setImmediateImpl(X))}catch(V){F(V)}};setImmediateImpl(X)}))}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:D}={}){return new Promise(((P,F)=>{let U;const H=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),q=()=>{try{const X=H.next();X.done?P(U):(X.value.pointContainer&&(U=X.value.pointContainer),D&&D(X.value.progress),setImmediateImpl(q))}catch(X){F(X)}};setImmediateImpl(q)}))}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Fh extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Fh){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Fh.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,D=!1;for(;w<g.length;){if(g[w+3]===0)D=!0;else{const H=g.readUInt32BE(w,!0)>>8&16777215;m.add(H)}w+=4}const P=new Array(m.size),F=m.values();for(w=0;w<P.length;++w)P[w]=F.next().value;P.sort(((H,q)=>H-q));let U=P.length;return D&&++U,{colors:P,usesTransparency:D,indexCount:U}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,(function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:D}=gifframe,{GifError:P}=gif$1,{GifCodec:F}=requireGifcodec(),U=[".jpg",".jpeg",".png",".bmp"],H=new F;function q(X,V,J,et,at){const ot=Array.isArray(X)?X:[X];if(at){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(at.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${at.ditherAlgorithm}'`);at.serpentine===void 0&&(at.serpentine=!0),at.minimumColorDistanceToDither===void 0&&(at.minimumColorDistanceToDither=0),at.calculateErrorLikeGIMP===void 0&&(at.calculateErrorLikeGIMP=!1)}const ut=new g.distance.Euclidean,yt=new g.palette[V](ut,J,et);let vt;vt=at?new g.image.ErrorDiffusionArray(ut,g.image.ErrorDiffusionArrayKernel[at.ditherAlgorithm],at.serpentine,at.minimumColorDistanceToDither,at.calculateErrorLikeGIMP):new g.image.NearestColor(ut);const mt=[];ot.forEach((gt=>{const At=gt.bitmap.data,_t=new ArrayBuffer(At.length),Mt=new Uint32Array(_t);for(let zt=0,ht=0;zt<At.length;zt+=4,++ht)Mt[ht]=At.readUInt32LE(zt,!0);const wt=g.utils.PointContainer.fromUint32Array(Mt,gt.bitmap.width,gt.bitmap.height);yt.sample(wt),mt.push(wt)}));const dt=yt.quantizeSync();for(let gt=0;gt<ot.length;++gt){const At=ot[gt].bitmap.data,_t=vt.quantizeSync(mt[gt],dt).toUint32Array();for(let Mt=0,wt=0;Mt<At.length;Mt+=4,++wt)At.writeUInt32LE(_t[wt],Mt)}}d.cloneFrames=function(X){let V=[];return X.forEach((J=>{V.push(new D(J))})),V},d.getColorInfo=function(X,V){let J=!1;const et=[];for(let vt=0;vt<X.length;++vt){let mt=X[vt].getPalette();if(mt.usesTransparency&&(J=!0),mt.indexCount>256)throw new P(`Frame ${vt} uses more than 256 color indexes`);et.push(mt)}if(V===0)return{usesTransparency:J,palettes:et};const at=new Set;et.forEach((vt=>{vt.colors.forEach((mt=>{at.add(mt)}))}));let ot=at.size;if(J&&++ot,V&&ot>V)return{usesTransparency:J,palettes:et};const ut=new Array(at.size),yt=at.values();for(let vt=0;vt<ut.length;++vt)ut[vt]=yt.next().value;return ut.sort(((vt,mt)=>vt-mt)),{colors:ut,indexCount:ot,usesTransparency:J,palettes:et}},d.copyAsJimp=function(X,V){return d.shareAsJimp(X,new w(V))},d.getMaxDimensions=function(X){let V=0,J=0;return X.forEach((et=>{const at=et.xOffset+et.bitmap.width;at>V&&(V=at);const ot=et.yOffset+et.bitmap.height;ot>J&&(J=ot)})),{maxWidth:V,maxHeight:J}},d.quantizeDekker=function(X,V,J){q(X,"NeuQuantFloat",V=V||256,0,J)},d.quantizeSorokin=function(X,V,J,et){let at;switch(V=V||256,J=J||"min-pop"){case"min-pop":at=2;break;case"top-pop":at=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${J}'`)}q(X,"RGBQuant",V,at,et)},d.quantizeWu=function(X,V,J,et){if(V=V||256,(J=J||5)<1||J>8)throw new Error("Invalid quantization quality");q(X,"WuQuant",V,J,et)},d.read=function(X,V){return V=V||H,Buffer.isBuffer(X)?V.decodeGif(X):(function(J){return new Promise(((et,at)=>{m.readFile(J,((ot,ut)=>ot?at(ot):et(ut)))}))})(X).then((J=>V.decodeGif(J)))},d.shareAsJimp=function(X,V){const J=new X(V.bitmap.width,V.bitmap.height,0);return J.bitmap.data=V.bitmap.data,J},d.write=function(X,V,J,et){et=et||H;const at=X.match(/\.[a-zA-Z]+$/);if(at!==null&&U.includes(at[0].toLowerCase()))throw new Error(`GIF '${X}' has an unexpected suffix`);return et.encodeGif(V,J).then((ot=>(function(ut,yt){return new Promise(((vt,mt)=>{m.writeFile(ut,yt,(dt=>dt?mt(dt):vt()))}))})(X,ot.buffer).then((()=>ot))))}})(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const V=requireGifutil();return w=function(){return V},V}const{GifFrame:D}=gifframe;function P(V,J){const et=V.indexOf(J);return et===-1?null:et}function F(V,J){for(var et,at=0,ot=V.length-1;at<=ot;)if(V[et=Math.floor((at+ot)/2)]>J)ot=et-1;else{if(!(V[et]<J))return et;at=et+1}return null}function U(V){const J=V.colors;V.usesTransparency&&J.push(0);const et=J.length;let at=2;for(;et>at;)at<<=1;J.length=at,J.fill(0,et)}function H(V,J){let et=V.bitmap.width*V.bitmap.height;return et=Math.ceil(et*J/8),et+=Math.ceil(et/255),100+et+768}function q(V){let J=V.indexCount,et=0;for(--J;J;)++et,J>>=1;return et>0?et:1}function X(V,J,et,at,ot){if(et.interlaced)throw new g("writing interlaced GIFs is not supported");const ut=(function(vt,mt,dt){const gt=dt.colors,At=gt.length<=8?P:F,_t=mt.bitmap.data,Mt=new Buffer(_t.length/4);let wt=gt.length,zt=0,ht=0;for(;zt<_t.length;){if(_t[zt+3]!==0){const It=_t.readUInt32BE(zt,!0)>>8&16777215;Mt[ht]=At(gt,It)}else Mt[ht]=wt;zt+=4,++ht}if(dt.usesTransparency){if(wt===256)throw new g(`Frame ${vt} already has 256 colorsand so can't use transparency`)}else wt=null;return{buffer:Mt,transparentIndex:wt}})(J,et,at),yt={delay:et.delayCentisecs,disposal:et.disposalMethod,transparent:ut.transparentIndex};ot&&(U(at),yt.palette=at.colors);try{let vt,mt=V.getOutputBuffer(),dt=V.getOutputBufferPosition(),gt=!0;for(;gt;)if(vt=V.addFrame(et.xOffset,et.yOffset,et.bitmap.width,et.bitmap.height,ut.buffer,yt),gt=!1,vt>=mt.length-1){const At=new Buffer(1.5*mt.length);mt.copy(At),V.setOutputBuffer(At),V.setOutputBufferPosition(dt),mt=At,gt=!0}return mt}catch(vt){throw new g(vt)}}return gifcodec.GifCodec=class{constructor(V={}){this._transparentRGB=null,typeof V.transparentRGB=="number"&&V.transparentRGB!==0&&(this._transparentRGBA=256*V.transparentRGB),this._testInitialBufferSize=0}decodeGif(V){try{let J;try{J=new d.GifReader(V)}catch(ut){throw new g(ut)}const et=J.numFrames(),at=[],ot={width:J.width,height:J.height,loops:J.loopCount(),usesTransparency:!1};for(let ut=0;ut<et;++ut){const yt=this._decodeFrame(J,ut,ot.usesTransparency);at.push(yt.frame),yt.usesTransparency&&(ot.usesTransparency=!0)}return Promise.resolve(new m(V,at,ot))}catch(J){return Promise.reject(J)}}encodeGif(V,J={}){try{if(V===null||V.length===0)throw new g("there are no frames");const et=w().getMaxDimensions(V);return(J=Object.assign({},J)).width=et.maxWidth,J.height=et.maxHeight,J.loops===void 0&&(J.loops=0),J.colorScope=J.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(V,J))}catch(et){return Promise.reject(et)}}_decodeFrame(V,J,et){let at,ot;try{if(at=V.frameInfo(J),ot=new Buffer(V.width*V.height*4),V.decodeAndBlitFrameRGBA(J,ot),at.width!==V.width||at.height!==V.height){if(at.y&&(ot=ot.slice(at.y*V.width*4)),V.width>at.width)for(let yt=0;yt<at.height;++yt)ot.copy(ot,yt*at.width*4,4*(at.x+yt*V.width),4*(at.x+yt*V.width)+4*at.width);ot=ot.slice(0,at.width*at.height*4)}}catch(yt){throw new g(yt)}let ut=!1;if(this._transparentRGBA===null){if(!et)for(let yt=3;yt<ot.length;yt+=4)ot[yt]===0&&(ut=!0,yt=ot.length)}else for(let yt=3;yt<ot.length;yt+=4)ot[yt]===0&&(ot.writeUInt32BE(this._transparentRGBA,yt-3),ut=!0);return{frame:new D(at.width,at.height,ot,{xOffset:at.x,yOffset:at.y,disposalMethod:at.disposal,interlaced:at.interlaced,delayCentisecs:at.delay}),usesTransparency:ut}}_encodeGif(V,J){let et;if(J.colorScope===m.LocalColorsOnly)et=w().getColorInfo(V,0);else if(et=w().getColorInfo(V,256),!et.colors){if(J.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");J.colorScope=m.LocalColorsOnly}J.usesTransparency=et.usesTransparency;const at=et.palettes;return J.colorScope===m.LocalColorsOnly?(function(ot,ut,yt,vt){const mt={loop:ut.loops};let dt,gt=new Buffer(yt);try{dt=new d.GifWriter(gt,ut.width,ut.height,mt)}catch(At){throw new g(At)}for(let At=0;At<ot.length;++At)gt=X(dt,At,ot[At],vt[At],!0);return new m(gt.slice(0,dt.end()),ot,ut)})(V,J,2e3,at):(function(ot,ut,yt,vt){const mt={colors:vt.colors.slice(),usesTransparency:vt.usesTransparency};U(mt);const dt={palette:mt.colors,loop:ut.loops};let gt,At=new Buffer(yt);try{gt=new d.GifWriter(At,ut.width,ut.height,dt)}catch(_t){throw new g(_t)}for(let _t=0;_t<ot.length;++_t)At=X(gt,_t,ot[_t],vt,!1);return new m(At.slice(0,gt.end()),ot,ut)})(V,J,2e3,et)}_getSizeEstimateGlobal(V,J){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let et=968;const at=q(V);return J.forEach((ot=>{et+=H(ot,at)})),et}_getSizeEstimateLocal(V,J){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let et=200;for(let at=0;at<J.length;++at){const ot=q(V[at]);et+=H(J[at],ot)}return et}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,GifCodec,GifFrame,GifUtil};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,D,P,F,U,H=Math.floor,q=new Array(64),X=new Array(64),V=new Array(64),J=new Array(64),et=new Array(65535),at=new Array(65535),ot=new Array(64),ut=new Array(64),yt=[],vt=0,mt=7,dt=new Array(64),gt=new Array(64),At=new Array(64),_t=new Array(256),Mt=new Array(2048),wt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],zt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ht=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],qt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Nt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],Ct=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Jt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Kt(oe,Xt){for(var ne=0,ye=0,Ie=new Array,$e=1;$e<=16;$e++){for(var he=1;he<=oe[$e];he++)Ie[Xt[ye]]=[],Ie[Xt[ye]][0]=ne,Ie[Xt[ye]][1]=$e,ye++,ne++;ne*=2}return Ie}function Qt(oe){for(var Xt=oe[0],ne=oe[1]-1;ne>=0;)Xt&1<<ne&&(vt|=1<<mt),ne--,--mt<0&&(vt==255?(pe(255),pe(0)):pe(vt),mt=7,vt=0)}function pe(oe){yt.push(oe)}function $t(oe){pe(oe>>8&255),pe(255&oe)}function Wt(oe,Xt,ne,ye,Ie){for(var $e,he=Ie[0],xt=Ie[240],ue=(function(jt,xe){var Be,oi,mi,li,gi,We,Ii,Si,Ti,Bi,Ei=0;for(Ti=0;Ti<8;++Ti){Be=jt[Ei],oi=jt[Ei+1],mi=jt[Ei+2],li=jt[Ei+3],gi=jt[Ei+4],We=jt[Ei+5],Ii=jt[Ei+6];var _e=Be+(Si=jt[Ei+7]),hi=Be-Si,Ce=oi+Ii,Ne=oi-Ii,te=mi+We,ui=mi-We,Ai=li+gi,Bt=li-gi,Ye=_e+Ai,Oe=_e-Ai,Se=Ce+te,Ge=Ce-te;jt[Ei]=Ye+Se,jt[Ei+4]=Ye-Se;var Qe=.707106781*(Ge+Oe);jt[Ei+2]=Oe+Qe,jt[Ei+6]=Oe-Qe;var Ri=.382683433*((Ye=Bt+ui)-(Ge=Ne+hi)),bi=.5411961*Ye+Ri,Mi=1.306562965*Ge+Ri,Ni=.707106781*(Se=ui+Ne),Tn=hi+Ni,ki=hi-Ni;jt[Ei+5]=ki+bi,jt[Ei+3]=ki-bi,jt[Ei+1]=Tn+Mi,jt[Ei+7]=Tn-Mi,Ei+=8}for(Ei=0,Ti=0;Ti<8;++Ti){Be=jt[Ei],oi=jt[Ei+8],mi=jt[Ei+16],li=jt[Ei+24],gi=jt[Ei+32],We=jt[Ei+40],Ii=jt[Ei+48];var rn=Be+(Si=jt[Ei+56]),dn=Be-Si,cn=oi+Ii,_a=oi-Ii,ga=mi+We,Wi=mi-We,Ui=li+gi,Yt=li-gi,pn=rn+Ui,Ci=rn-Ui,_n=cn+ga,Oa=cn-ga;jt[Ei]=pn+_n,jt[Ei+32]=pn-_n;var ps=.707106781*(Oa+Ci);jt[Ei+16]=Ci+ps,jt[Ei+48]=Ci-ps;var Pa=.382683433*((pn=Yt+Wi)-(Oa=_a+dn)),Cr=.5411961*pn+Pa,Kn=1.306562965*Oa+Pa,Zn=.707106781*(_n=Wi+_a),Na=dn+Zn,xa=dn-Zn;jt[Ei+40]=xa+Cr,jt[Ei+24]=xa-Cr,jt[Ei+8]=Na+Kn,jt[Ei+56]=Na-Kn,Ei++}for(Ti=0;Ti<64;++Ti)Bi=jt[Ti]*xe[Ti],ot[Ti]=Bi>0?Bi+.5|0:Bi-.5|0;return ot})(oe,Xt),Ft=0;Ft<64;++Ft)ut[wt[Ft]]=ue[Ft];var Ut=ut[0]-ne;ne=ut[0],Ut==0?Qt(ye[0]):(Qt(ye[at[$e=32767+Ut]]),Qt(et[$e]));for(var Lt=63;Lt>0&&ut[Lt]==0;Lt--);if(Lt==0)return Qt(he),ne;for(var Vt,ge=1;ge<=Lt;){for(var pt=ge;ut[ge]==0&&ge<=Lt;++ge);var Rt=ge-pt;if(Rt>=16){Vt=Rt>>4;for(var Gt=1;Gt<=Vt;++Gt)Qt(xt);Rt&=15}$e=32767+ut[ge],Qt(Ie[(Rt<<4)+at[$e]]),Qt(et[$e]),ge++}return Lt!=63&&Qt(he),ne}function fe(oe){oe<=0&&(oe=1),oe>100&&(oe=100),U!=oe&&((function(Xt){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ye=0;ye<64;ye++){var Ie=H((ne[ye]*Xt+50)/100);Ie<1?Ie=1:Ie>255&&(Ie=255),q[wt[ye]]=Ie}for(var $e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var xt=H(($e[he]*Xt+50)/100);xt<1?xt=1:xt>255&&(xt=255),X[wt[he]]=xt}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ft=0,Ut=0;Ut<8;Ut++)for(var Lt=0;Lt<8;Lt++)V[Ft]=1/(q[wt[Ft]]*ue[Ut]*ue[Lt]*8),J[Ft]=1/(X[wt[Ft]]*ue[Ut]*ue[Lt]*8),Ft++})(oe<50?Math.floor(5e3/oe):Math.floor(200-2*oe)),U=oe)}this.encode=function(oe,Xt){var ne;new Date().getTime(),Xt&&fe(Xt),yt=new Array,vt=0,mt=7,$t(65496),$t(65504),$t(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),$t(1),$t(1),pe(0),pe(0),(ne=oe.comments)!==void 0&&ne.constructor===Array&&ne.forEach((mi=>{if(typeof mi=="string"){$t(65534);var li,gi=mi.length;for($t(gi+2),li=0;li<gi;li++)pe(mi.charCodeAt(li))}})),(function(mi){if(mi){$t(65505),mi[0]===69&&mi[1]===120&&mi[2]===105&&mi[3]===102?$t(mi.length+2):($t(mi.length+5+2),pe(69),pe(120),pe(105),pe(102),pe(0));for(var li=0;li<mi.length;li++)pe(mi[li])}})(oe.exifBuffer),(function(){$t(65499),$t(132),pe(0);for(var mi=0;mi<64;mi++)pe(q[mi]);pe(1);for(var li=0;li<64;li++)pe(X[li])})(),(function(mi,li){$t(65472),$t(17),pe(8),$t(li),$t(mi),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(oe.width,oe.height),(function(){$t(65476),$t(418),pe(0);for(var mi=0;mi<16;mi++)pe(zt[mi+1]);for(var li=0;li<=11;li++)pe(ht[li]);pe(16);for(var gi=0;gi<16;gi++)pe(It[gi+1]);for(var We=0;We<=161;We++)pe(qt[We]);pe(1);for(var Ii=0;Ii<16;Ii++)pe(Nt[Ii+1]);for(var Si=0;Si<=11;Si++)pe(Ot[Si]);pe(17);for(var Ti=0;Ti<16;Ti++)pe(Ct[Ti+1]);for(var Bi=0;Bi<=161;Bi++)pe(Jt[Bi])})(),$t(65498),$t(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ye=0,Ie=0,$e=0;vt=0,mt=7,this.encode.displayName="_encode_";for(var he,xt,ue,Ft,Ut,Lt,Vt,ge,pt,Rt=oe.data,Gt=oe.width,jt=oe.height,xe=4*Gt,Be=0;Be<jt;){for(he=0;he<xe;){for(Lt=Ut=xe*Be+he,Vt=-1,ge=0,pt=0;pt<64;pt++)Lt=Ut+(ge=pt>>3)*xe+(Vt=4*(7&pt)),Be+ge>=jt&&(Lt-=xe*(Be+1+ge-jt)),he+Vt>=xe&&(Lt-=he+Vt-xe+4),xt=Rt[Lt++],ue=Rt[Lt++],Ft=Rt[Lt++],dt[pt]=(Mt[xt]+Mt[ue+256|0]+Mt[Ft+512|0]>>16)-128,gt[pt]=(Mt[xt+768|0]+Mt[ue+1024|0]+Mt[Ft+1280|0]>>16)-128,At[pt]=(Mt[xt+1280|0]+Mt[ue+1536|0]+Mt[Ft+1792|0]>>16)-128;ye=Wt(dt,V,ye,w,P),Ie=Wt(gt,J,Ie,D,F),$e=Wt(At,J,$e,D,F),he+=32}Be+=8}if(mt>=0){var oi=[];oi[1]=mt+1,oi[0]=(1<<mt+1)-1,Qt(oi)}return $t(65497),Buffer.from(yt)},new Date().getTime(),g||(g=50),(function(){for(var oe=String.fromCharCode,Xt=0;Xt<256;Xt++)_t[Xt]=oe(Xt)})(),w=Kt(zt,ht),D=Kt(Nt,Ot),P=Kt(It,qt),F=Kt(Ct,Jt),(function(){for(var oe=1,Xt=2,ne=1;ne<=15;ne++){for(var ye=oe;ye<Xt;ye++)at[32767+ye]=ne,et[32767+ye]=[],et[32767+ye][1]=ne,et[32767+ye][0]=ye;for(var Ie=-(Xt-1);Ie<=-oe;Ie++)at[32767+Ie]=ne,et[32767+Ie]=[],et[32767+Ie][1]=ne,et[32767+Ie][0]=Xt-1+Ie;oe<<=1,Xt<<=1}})(),(function(){for(var oe=0;oe<256;oe++)Mt[oe]=19595*oe,Mt[oe+256|0]=38470*oe,Mt[oe+512|0]=7471*oe+32768,Mt[oe+768|0]=-11059*oe,Mt[oe+1024|0]=-21709*oe,Mt[oe+1280|0]=32768*oe+8421375,Mt[oe+1536|0]=-27439*oe,Mt[oe+1792|0]=-5329*oe})(),fe(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var D=new m(w),P=D.encode(g,w);return{data:P,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module$1,JpegImage;module$1=decoder,JpegImage=(function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,D=2276,P=1567,F=3784,U=5793,H=2896;function q(){}function X(yt,vt){for(var mt,dt,gt=0,At=[],_t=16;_t>0&&!yt[_t-1];)_t--;At.push({children:[],index:0});var Mt,wt=At[0];for(mt=0;mt<_t;mt++){for(dt=0;dt<yt[mt];dt++){for((wt=At.pop()).children[wt.index]=vt[gt];wt.index>0;){if(At.length===0)throw new Error("Could not recreate Huffman Table");wt=At.pop()}for(wt.index++,At.push(wt);At.length<=mt;)At.push(Mt={children:[],index:0}),wt.children[wt.index]=Mt.children,wt=Mt;gt++}mt+1<_t&&(At.push(Mt={children:[],index:0}),wt.children[wt.index]=Mt.children,wt=Mt)}return At[0].children}function V(yt,vt,mt,dt,gt,At,_t,Mt,wt,zt){mt.precision,mt.samplesPerLine,mt.scanLines;var ht=mt.mcusPerLine,It=mt.progressive;mt.maxH,mt.maxV;var qt=vt,Nt=0,Ot=0;function Ct(){if(Ot>0)return Ot--,Nt>>Ot&1;if((Nt=yt[vt++])==255){var ge=yt[vt++];if(ge)throw new Error("unexpected marker: "+(Nt<<8|ge).toString(16))}return Ot=7,Nt>>>7}function Jt(ge){for(var pt,Rt=ge;(pt=Ct())!==null;){if(typeof(Rt=Rt[pt])=="number")return Rt;if(typeof Rt!="object")throw new Error("invalid huffman sequence")}return null}function Kt(ge){for(var pt=0;ge>0;){var Rt=Ct();if(Rt===null)return;pt=pt<<1|Rt,ge--}return pt}function Qt(ge){var pt=Kt(ge);return pt>=1<<ge-1?pt:pt+(-1<<ge)+1}var pe,$t=0,Wt=0;function fe(ge,pt,Rt,Gt,jt){var xe=Rt%ht,Be=(Rt/ht|0)*ge.v+Gt,oi=xe*ge.h+jt;ge.blocks[Be]===void 0&&zt.tolerantDecoding||pt(ge,ge.blocks[Be][oi])}function oe(ge,pt,Rt){var Gt=Rt/ge.blocksPerLine|0,jt=Rt%ge.blocksPerLine;ge.blocks[Gt]===void 0&&zt.tolerantDecoding||pt(ge,ge.blocks[Gt][jt])}var Xt,ne,ye,Ie,$e,he,xt=dt.length;he=It?At===0?Mt===0?function(ge,pt){var Rt=Jt(ge.huffmanTableDC),Gt=Rt===0?0:Qt(Rt)<<wt;pt[0]=ge.pred+=Gt}:function(ge,pt){pt[0]|=Ct()<<wt}:Mt===0?function(ge,pt){if($t>0)$t--;else for(var Rt=At,Gt=_t;Rt<=Gt;){var jt=Jt(ge.huffmanTableAC),xe=15&jt,Be=jt>>4;if(xe!==0)pt[d[Rt+=Be]]=Qt(xe)*(1<<wt),Rt++;else{if(Be<15){$t=Kt(Be)+(1<<Be)-1;break}Rt+=16}}}:function(ge,pt){for(var Rt=At,Gt=_t,jt=0;Rt<=Gt;){var xe=d[Rt],Be=pt[xe]<0?-1:1;switch(Wt){case 0:var oi=Jt(ge.huffmanTableAC),mi=15&oi;if(jt=oi>>4,mi===0)jt<15?($t=Kt(jt)+(1<<jt),Wt=4):(jt=16,Wt=1);else{if(mi!==1)throw new Error("invalid ACn encoding");pe=Qt(mi),Wt=jt?2:3}continue;case 1:case 2:pt[xe]?pt[xe]+=(Ct()<<wt)*Be:--jt==0&&(Wt=Wt==2?3:0);break;case 3:pt[xe]?pt[xe]+=(Ct()<<wt)*Be:(pt[xe]=pe<<wt,Wt=0);break;case 4:pt[xe]&&(pt[xe]+=(Ct()<<wt)*Be)}Rt++}Wt===4&&--$t==0&&(Wt=0)}:function(ge,pt){var Rt=Jt(ge.huffmanTableDC),Gt=Rt===0?0:Qt(Rt);pt[0]=ge.pred+=Gt;for(var jt=1;jt<64;){var xe=Jt(ge.huffmanTableAC),Be=15&xe,oi=xe>>4;if(Be!==0)pt[d[jt+=oi]]=Qt(Be),jt++;else{if(oi<15)break;jt+=16}}};var ue,Ft,Ut,Lt,Vt=0;for(Ft=xt==1?dt[0].blocksPerLine*dt[0].blocksPerColumn:ht*mt.mcusPerColumn,gt||(gt=Ft);Vt<Ft;){for(ne=0;ne<xt;ne++)dt[ne].pred=0;if($t=0,xt==1)for(Xt=dt[0],$e=0;$e<gt;$e++)oe(Xt,he,Vt),Vt++;else for($e=0;$e<gt;$e++){for(ne=0;ne<xt;ne++)for(Ut=(Xt=dt[ne]).h,Lt=Xt.v,ye=0;ye<Lt;ye++)for(Ie=0;Ie<Ut;Ie++)fe(Xt,he,Vt,ye,Ie);if(++Vt===Ft)break}if(Vt===Ft)do{if(yt[vt]===255&&yt[vt+1]!==0)break;vt+=1}while(vt<yt.length-2);if(Ot=0,(ue=yt[vt]<<8|yt[vt+1])<65280)throw new Error("marker was not found");if(!(ue>=65488&&ue<=65495))break;vt+=2}return vt-qt}function J(yt,vt){var mt,dt,gt=[],At=vt.blocksPerLine,_t=vt.blocksPerColumn,Mt=At<<3,wt=new Int32Array(64),zt=new Uint8Array(64);function ht(Kt,Qt,pe){var $t,Wt,fe,oe,Xt,ne,ye,Ie,$e,he,xt=vt.quantizationTable,ue=pe;for(he=0;he<64;he++)ue[he]=Kt[he]*xt[he];for(he=0;he<8;++he){var Ft=8*he;ue[1+Ft]!=0||ue[2+Ft]!=0||ue[3+Ft]!=0||ue[4+Ft]!=0||ue[5+Ft]!=0||ue[6+Ft]!=0||ue[7+Ft]!=0?($t=U*ue[0+Ft]+128>>8,Wt=U*ue[4+Ft]+128>>8,fe=ue[2+Ft],oe=ue[6+Ft],Xt=H*(ue[1+Ft]-ue[7+Ft])+128>>8,Ie=H*(ue[1+Ft]+ue[7+Ft])+128>>8,ne=ue[3+Ft]<<4,ye=ue[5+Ft]<<4,$e=$t-Wt+1>>1,$t=$t+Wt+1>>1,Wt=$e,$e=fe*F+oe*P+128>>8,fe=fe*P-oe*F+128>>8,oe=$e,$e=Xt-ye+1>>1,Xt=Xt+ye+1>>1,ye=$e,$e=Ie+ne+1>>1,ne=Ie-ne+1>>1,Ie=$e,$e=$t-oe+1>>1,$t=$t+oe+1>>1,oe=$e,$e=Wt-fe+1>>1,Wt=Wt+fe+1>>1,fe=$e,$e=Xt*D+Ie*w+2048>>12,Xt=Xt*w-Ie*D+2048>>12,Ie=$e,$e=ne*g+ye*m+2048>>12,ne=ne*m-ye*g+2048>>12,ye=$e,ue[0+Ft]=$t+Ie,ue[7+Ft]=$t-Ie,ue[1+Ft]=Wt+ye,ue[6+Ft]=Wt-ye,ue[2+Ft]=fe+ne,ue[5+Ft]=fe-ne,ue[3+Ft]=oe+Xt,ue[4+Ft]=oe-Xt):($e=U*ue[0+Ft]+512>>10,ue[0+Ft]=$e,ue[1+Ft]=$e,ue[2+Ft]=$e,ue[3+Ft]=$e,ue[4+Ft]=$e,ue[5+Ft]=$e,ue[6+Ft]=$e,ue[7+Ft]=$e)}for(he=0;he<8;++he){var Ut=he;ue[8+Ut]!=0||ue[16+Ut]!=0||ue[24+Ut]!=0||ue[32+Ut]!=0||ue[40+Ut]!=0||ue[48+Ut]!=0||ue[56+Ut]!=0?($t=U*ue[0+Ut]+2048>>12,Wt=U*ue[32+Ut]+2048>>12,fe=ue[16+Ut],oe=ue[48+Ut],Xt=H*(ue[8+Ut]-ue[56+Ut])+2048>>12,Ie=H*(ue[8+Ut]+ue[56+Ut])+2048>>12,ne=ue[24+Ut],ye=ue[40+Ut],$e=$t-Wt+1>>1,$t=$t+Wt+1>>1,Wt=$e,$e=fe*F+oe*P+2048>>12,fe=fe*P-oe*F+2048>>12,oe=$e,$e=Xt-ye+1>>1,Xt=Xt+ye+1>>1,ye=$e,$e=Ie+ne+1>>1,ne=Ie-ne+1>>1,Ie=$e,$e=$t-oe+1>>1,$t=$t+oe+1>>1,oe=$e,$e=Wt-fe+1>>1,Wt=Wt+fe+1>>1,fe=$e,$e=Xt*D+Ie*w+2048>>12,Xt=Xt*w-Ie*D+2048>>12,Ie=$e,$e=ne*g+ye*m+2048>>12,ne=ne*m-ye*g+2048>>12,ye=$e,ue[0+Ut]=$t+Ie,ue[56+Ut]=$t-Ie,ue[8+Ut]=Wt+ye,ue[48+Ut]=Wt-ye,ue[16+Ut]=fe+ne,ue[40+Ut]=fe-ne,ue[24+Ut]=oe+Xt,ue[32+Ut]=oe-Xt):($e=U*pe[he+0]+8192>>14,ue[0+Ut]=$e,ue[8+Ut]=$e,ue[16+Ut]=$e,ue[24+Ut]=$e,ue[32+Ut]=$e,ue[40+Ut]=$e,ue[48+Ut]=$e,ue[56+Ut]=$e)}for(he=0;he<64;++he){var Lt=128+(ue[he]+8>>4);Qt[he]=Lt<0?0:Lt>255?255:Lt}}ut(Mt*_t*8);for(var It=0;It<_t;It++){var qt=It<<3;for(mt=0;mt<8;mt++)gt.push(new Uint8Array(Mt));for(var Nt=0;Nt<At;Nt++){ht(vt.blocks[It][Nt],zt,wt);var Ot=0,Ct=Nt<<3;for(dt=0;dt<8;dt++){var Jt=gt[qt+dt];for(mt=0;mt<8;mt++)Jt[Ct+mt]=zt[Ot++]}}}return gt}function et(yt){return yt<0?0:yt>255?255:yt}q.prototype={load:function(yt){var vt=new XMLHttpRequest;vt.open("GET",yt,!0),vt.responseType="arraybuffer",vt.onload=(function(){var mt=new Uint8Array(vt.response||vt.mozResponseArrayBuffer);this.parse(mt),this.onload&&this.onload()}).bind(this),vt.send(null)},parse:function(yt){var vt=1e3*this.opts.maxResolutionInMP*1e3,mt=0;function dt(){var li=yt[mt]<<8|yt[mt+1];return mt+=2,li}function gt(li){var gi,We,Ii=1,Si=1;for(We in li.components)li.components.hasOwnProperty(We)&&(Ii<(gi=li.components[We]).h&&(Ii=gi.h),Si<gi.v&&(Si=gi.v));var Ti=Math.ceil(li.samplesPerLine/8/Ii),Bi=Math.ceil(li.scanLines/8/Si);for(We in li.components)if(li.components.hasOwnProperty(We)){gi=li.components[We];var Ei=Math.ceil(Math.ceil(li.samplesPerLine/8)*gi.h/Ii),_e=Math.ceil(Math.ceil(li.scanLines/8)*gi.v/Si),hi=Ti*gi.h,Ce=Bi*gi.v,Ne=[];ut(Ce*hi*256);for(var te=0;te<Ce;te++){for(var ui=[],Ai=0;Ai<hi;Ai++)ui.push(new Int32Array(64));Ne.push(ui)}gi.blocksPerLine=Ei,gi.blocksPerColumn=_e,gi.blocks=Ne}li.maxH=Ii,li.maxV=Si,li.mcusPerLine=Ti,li.mcusPerColumn=Bi}yt.length;var At,_t,Mt,wt,zt=null,ht=null,It=[],qt=[],Nt=[],Ot=[],Ct=dt(),Jt=-1;if(this.comments=[],Ct!=65496)throw new Error("SOI not found");for(Ct=dt();Ct!=65497;){switch(Ct){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Kt=(Mt=void 0,wt=void 0,Mt=dt(),wt=yt.subarray(mt,mt+Mt-2),mt+=wt.length,wt);if(Ct===65534){var Qt=String.fromCharCode.apply(null,Kt);this.comments.push(Qt)}Ct===65504&&Kt[0]===74&&Kt[1]===70&&Kt[2]===73&&Kt[3]===70&&Kt[4]===0&&(zt={version:{major:Kt[5],minor:Kt[6]},densityUnits:Kt[7],xDensity:Kt[8]<<8|Kt[9],yDensity:Kt[10]<<8|Kt[11],thumbWidth:Kt[12],thumbHeight:Kt[13],thumbData:Kt.subarray(14,14+3*Kt[12]*Kt[13])}),Ct===65505&&Kt[0]===69&&Kt[1]===120&&Kt[2]===105&&Kt[3]===102&&Kt[4]===0&&(this.exifBuffer=Kt.subarray(5,Kt.length)),Ct===65518&&Kt[0]===65&&Kt[1]===100&&Kt[2]===111&&Kt[3]===98&&Kt[4]===101&&Kt[5]===0&&(ht={version:Kt[6],flags0:Kt[7]<<8|Kt[8],flags1:Kt[9]<<8|Kt[10],transformCode:Kt[11]});break;case 65499:for(var pe=dt()+mt-2;mt<pe;){var $t=yt[mt++];ut(256);var Wt=new Int32Array(64);if($t>>4){if($t>>4!=1)throw new Error("DQT: invalid table spec");for(oi=0;oi<64;oi++)Wt[d[oi]]=dt()}else for(oi=0;oi<64;oi++)Wt[d[oi]]=yt[mt++];It[15&$t]=Wt}break;case 65472:case 65473:case 65474:dt(),(At={}).extended=Ct===65473,At.progressive=Ct===65474,At.precision=yt[mt++],At.scanLines=dt(),At.samplesPerLine=dt(),At.components={},At.componentsOrder=[];var fe=At.scanLines*At.samplesPerLine;if(fe>vt){var oe=Math.ceil((fe-vt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${oe}MP`)}var Xt,ne=yt[mt++];for(xe=0;xe<ne;xe++){Xt=yt[mt];var ye=yt[mt+1]>>4,Ie=15&yt[mt+1],$e=yt[mt+2];if(ye<=0||Ie<=0)throw new Error("Invalid sampling factor, expected values above 0");At.componentsOrder.push(Xt),At.components[Xt]={h:ye,v:Ie,quantizationIdx:$e},mt+=3}gt(At),qt.push(At);break;case 65476:var he=dt();for(xe=2;xe<he;){var xt=yt[mt++],ue=new Uint8Array(16),Ft=0;for(oi=0;oi<16;oi++,mt++)Ft+=ue[oi]=yt[mt];ut(16+Ft);var Ut=new Uint8Array(Ft);for(oi=0;oi<Ft;oi++,mt++)Ut[oi]=yt[mt];xe+=17+Ft,(xt>>4?Nt:Ot)[15&xt]=X(ue,Ut)}break;case 65501:dt(),_t=dt();break;case 65500:dt(),dt();break;case 65498:dt();var Lt=yt[mt++],Vt=[];for(xe=0;xe<Lt;xe++){mi=At.components[yt[mt++]];var ge=yt[mt++];mi.huffmanTableDC=Ot[ge>>4],mi.huffmanTableAC=Nt[15&ge],Vt.push(mi)}var pt=yt[mt++],Rt=yt[mt++],Gt=yt[mt++],jt=V(yt,mt,At,Vt,_t,pt,Rt,Gt>>4,15&Gt,this.opts);mt+=jt;break;case 65535:yt[mt]!==255&&mt--;break;default:if(yt[mt-3]==255&&yt[mt-2]>=192&&yt[mt-2]<=254){mt-=3;break}if(Ct===224||Ct==225){if(Jt!==-1)throw new Error(`first unknown JPEG marker at offset ${Jt.toString(16)}, second unknown JPEG marker ${Ct.toString(16)} at offset ${(mt-1).toString(16)}`);Jt=mt-1;const li=dt();if(yt[mt+li-2]===255){mt+=li-2;break}}throw new Error("unknown JPEG marker "+Ct.toString(16))}Ct=dt()}if(qt.length!=1)throw new Error("only single frame JPEGs supported");for(var xe=0;xe<qt.length;xe++){var Be=qt[xe].components;for(var oi in Be)Be[oi].quantizationTable=It[Be[oi].quantizationIdx],delete Be[oi].quantizationIdx}for(this.width=At.samplesPerLine,this.height=At.scanLines,this.jfif=zt,this.adobe=ht,this.components=[],xe=0;xe<At.componentsOrder.length;xe++){var mi=At.components[At.componentsOrder[xe]];this.components.push({lines:J(0,mi),scaleX:mi.h/At.maxH,scaleY:mi.v/At.maxV})}},getData:function(yt,vt){var mt,dt,gt,At,_t,Mt,wt,zt,ht,It,qt,Nt,Ot,Ct,Jt,Kt,Qt,pe,$t,Wt,fe,oe=this.width/yt,Xt=this.height/vt,ne=0,ye=yt*vt*this.components.length;ut(ye);var Ie=new Uint8Array(ye);switch(this.components.length){case 1:for(mt=this.components[0],It=0;It<vt;It++)for(_t=mt.lines[0|It*mt.scaleY*Xt],ht=0;ht<yt;ht++)qt=_t[0|ht*mt.scaleX*oe],Ie[ne++]=qt;break;case 2:for(mt=this.components[0],dt=this.components[1],It=0;It<vt;It++)for(_t=mt.lines[0|It*mt.scaleY*Xt],Mt=dt.lines[0|It*dt.scaleY*Xt],ht=0;ht<yt;ht++)qt=_t[0|ht*mt.scaleX*oe],Ie[ne++]=qt,qt=Mt[0|ht*dt.scaleX*oe],Ie[ne++]=qt;break;case 3:for(fe=!0,this.adobe&&this.adobe.transformCode?fe=!0:this.opts.colorTransform!==void 0&&(fe=!!this.opts.colorTransform),mt=this.components[0],dt=this.components[1],gt=this.components[2],It=0;It<vt;It++)for(_t=mt.lines[0|It*mt.scaleY*Xt],Mt=dt.lines[0|It*dt.scaleY*Xt],wt=gt.lines[0|It*gt.scaleY*Xt],ht=0;ht<yt;ht++)fe?(qt=_t[0|ht*mt.scaleX*oe],Nt=Mt[0|ht*dt.scaleX*oe],pe=et(qt+1.402*((Ot=wt[0|ht*gt.scaleX*oe])-128)),$t=et(qt-.3441363*(Nt-128)-.71413636*(Ot-128)),Wt=et(qt+1.772*(Nt-128))):(pe=_t[0|ht*mt.scaleX*oe],$t=Mt[0|ht*dt.scaleX*oe],Wt=wt[0|ht*gt.scaleX*oe]),Ie[ne++]=pe,Ie[ne++]=$t,Ie[ne++]=Wt;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(fe=!1,this.adobe&&this.adobe.transformCode?fe=!0:this.opts.colorTransform!==void 0&&(fe=!!this.opts.colorTransform),mt=this.components[0],dt=this.components[1],gt=this.components[2],At=this.components[3],It=0;It<vt;It++)for(_t=mt.lines[0|It*mt.scaleY*Xt],Mt=dt.lines[0|It*dt.scaleY*Xt],wt=gt.lines[0|It*gt.scaleY*Xt],zt=At.lines[0|It*At.scaleY*Xt],ht=0;ht<yt;ht++)fe?(qt=_t[0|ht*mt.scaleX*oe],Nt=Mt[0|ht*dt.scaleX*oe],Ot=wt[0|ht*gt.scaleX*oe],Ct=zt[0|ht*At.scaleX*oe],Jt=255-et(qt+1.402*(Ot-128)),Kt=255-et(qt-.3441363*(Nt-128)-.71413636*(Ot-128)),Qt=255-et(qt+1.772*(Nt-128))):(Jt=_t[0|ht*mt.scaleX*oe],Kt=Mt[0|ht*dt.scaleX*oe],Qt=wt[0|ht*gt.scaleX*oe],Ct=zt[0|ht*At.scaleX*oe]),Ie[ne++]=255-Jt,Ie[ne++]=255-Kt,Ie[ne++]=255-Qt,Ie[ne++]=255-Ct;break;default:throw new Error("Unsupported color mode")}return Ie},copyToImageData:function(yt,vt){var mt,dt,gt,At,_t,Mt,wt,zt,ht,It=yt.width,qt=yt.height,Nt=yt.data,Ot=this.getData(It,qt),Ct=0,Jt=0;switch(this.components.length){case 1:for(dt=0;dt<qt;dt++)for(mt=0;mt<It;mt++)gt=Ot[Ct++],Nt[Jt++]=gt,Nt[Jt++]=gt,Nt[Jt++]=gt,vt&&(Nt[Jt++]=255);break;case 3:for(dt=0;dt<qt;dt++)for(mt=0;mt<It;mt++)wt=Ot[Ct++],zt=Ot[Ct++],ht=Ot[Ct++],Nt[Jt++]=wt,Nt[Jt++]=zt,Nt[Jt++]=ht,vt&&(Nt[Jt++]=255);break;case 4:for(dt=0;dt<qt;dt++)for(mt=0;mt<It;mt++)_t=Ot[Ct++],Mt=Ot[Ct++],gt=Ot[Ct++],wt=255-et(_t*(1-(At=Ot[Ct++])/255)+At),zt=255-et(Mt*(1-At/255)+At),ht=255-et(gt*(1-At/255)+At),Nt[Jt++]=wt,Nt[Jt++]=zt,Nt[Jt++]=ht,vt&&(Nt[Jt++]=255);break;default:throw new Error("Unsupported color mode")}}};var at=0,ot=0;function ut(yt=0){var vt=at+yt;if(vt>ot){var mt=Math.ceil((vt-ot)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${mt}MB`)}at=vt}return q.resetMaxMemoryUsage=function(yt){at=0,ot=yt},q.getBytesAllocated=function(){return at},q.requestMemoryAllocation=ut,q})(),module$1.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),D=new JpegImage;D.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),D.parse(w);var P=g.formatAsRGBA?4:3,F=D.width*D.height*P;try{JpegImage.requestMemoryAllocation(F);var U={width:D.width,height:D.height,exifBuffer:D.exifBuffer,data:g.useTArray?new Uint8Array(F):Buffer.alloc(F)};D.comments.length>0&&(U.comments=D.comments)}catch(H){throw H instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+F):H instanceof ReferenceError&&H.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):H}return D.copyToImageData(U,g.formatAsRGBA),U};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=(function(){function d(m,g,w){function D(U,H){if(!g[U]){if(!m[U]){var q=typeof commonjsRequire=="function"&&commonjsRequire;if(!H&&q)return q(U,!0);if(P)return P(U,!0);var X=new Error("Cannot find module '"+U+"'");throw X.code="MODULE_NOT_FOUND",X}var V=g[U]={exports:{}};m[U][0].call(V.exports,(function(J){return D(m[U][1][J]||J)}),V,V.exports,d,m,g,w)}return g[U].exports}for(var P=typeof commonjsRequire=="function"&&commonjsRequire,F=0;F<w.length;F++)D(w[F]);return D}return d})()({1:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),P=[function(){},function(X,V,J,et){if(et===V.length)throw new Error("Ran out of data");let at=V[et];X[J]=at,X[J+1]=at,X[J+2]=at,X[J+3]=255},function(X,V,J,et){if(et+1>=V.length)throw new Error("Ran out of data");let at=V[et];X[J]=at,X[J+1]=at,X[J+2]=at,X[J+3]=V[et+1]},function(X,V,J,et){if(et+2>=V.length)throw new Error("Ran out of data");X[J]=V[et],X[J+1]=V[et+1],X[J+2]=V[et+2],X[J+3]=255},function(X,V,J,et){if(et+3>=V.length)throw new Error("Ran out of data");X[J]=V[et],X[J+1]=V[et+1],X[J+2]=V[et+2],X[J+3]=V[et+3]}],F=[function(){},function(X,V,J,et){let at=V[0];X[J]=at,X[J+1]=at,X[J+2]=at,X[J+3]=et},function(X,V,J){let et=V[0];X[J]=et,X[J+1]=et,X[J+2]=et,X[J+3]=V[1]},function(X,V,J,et){X[J]=V[0],X[J+1]=V[1],X[J+2]=V[2],X[J+3]=et},function(X,V,J){X[J]=V[0],X[J+1]=V[1],X[J+2]=V[2],X[J+3]=V[3]}];function U(X,V){let J=[],et=0;function at(){if(et===X.length)throw new Error("Ran out of data");let ot,ut,yt,vt,mt,dt,gt,At,_t=X[et];switch(et++,V){default:throw new Error("unrecognised depth");case 16:gt=X[et],et++,J.push((_t<<8)+gt);break;case 4:gt=15&_t,At=_t>>4,J.push(At,gt);break;case 2:mt=3&_t,dt=_t>>2&3,gt=_t>>4&3,At=_t>>6&3,J.push(At,gt,dt,mt);break;case 1:ot=1&_t,ut=_t>>1&1,yt=_t>>2&1,vt=_t>>3&1,mt=_t>>4&1,dt=_t>>5&1,gt=_t>>6&1,At=_t>>7&1,J.push(At,gt,dt,mt,vt,yt,ut,ot)}}return{get:function(ot){for(;J.length<ot;)at();let ut=J.slice(0,ot);return J=J.slice(ot),ut},resetAfterLine:function(){J.length=0},end:function(){if(et!==X.length)throw new Error("extra data found")}}}function H(X,V,J,et,at,ot){let ut=X.width,yt=X.height,vt=X.index;for(let mt=0;mt<yt;mt++)for(let dt=0;dt<ut;dt++){let gt=J(dt,mt,vt);P[et](V,at,gt,ot),ot+=et}return ot}function q(X,V,J,et,at,ot){let ut=X.width,yt=X.height,vt=X.index;for(let mt=0;mt<yt;mt++){for(let dt=0;dt<ut;dt++){let gt=at.get(et),At=J(dt,mt,vt);F[et](V,gt,At,ot)}at.resetAfterLine()}}g.dataToBitMap=function(X,V){let J,et,at=V.width,ot=V.height,ut=V.depth,yt=V.bpp,vt=V.interlace;ut!==8&&(J=U(X,ut)),et=ut<=8?w.alloc(at*ot*4):new Uint16Array(at*ot*4);let mt,dt,gt=Math.pow(2,ut)-1,At=0;if(vt)mt=D.getImagePasses(at,ot),dt=D.getInterlaceIterator(at,ot);else{let _t=0;dt=function(){let Mt=_t;return _t+=4,Mt},mt=[{width:at,height:ot}]}for(let _t=0;_t<mt.length;_t++)ut===8?At=H(mt[_t],et,dt,yt,X,At):q(mt[_t],et,dt,yt,J,gt);if(ut===8){if(At!==X.length)throw new Error("extra data found")}else J.end();return et}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let D=d("./constants");m.exports=function(P,F,U,H){let q=[D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(H.colorType)!==-1;if(H.colorType===H.inputColorType){let mt=(function(){let dt=new ArrayBuffer(2);return new DataView(dt).setInt16(0,256,!0),new Int16Array(dt)[0]!==256})();if(H.bitDepth===8||H.bitDepth===16&&mt)return P}let X=H.bitDepth!==16?P:new Uint16Array(P.buffer),V=255,J=D.COLORTYPE_TO_BPP_MAP[H.inputColorType];J!==4||H.inputHasAlpha||(J=3);let et=D.COLORTYPE_TO_BPP_MAP[H.colorType];H.bitDepth===16&&(V=65535,et*=2);let at=w.alloc(F*U*et),ot=0,ut=0,yt=H.bgColor||{};function vt(){let mt,dt,gt,At=V;switch(H.inputColorType){case D.COLORTYPE_COLOR_ALPHA:At=X[ot+3],mt=X[ot],dt=X[ot+1],gt=X[ot+2];break;case D.COLORTYPE_COLOR:mt=X[ot],dt=X[ot+1],gt=X[ot+2];break;case D.COLORTYPE_ALPHA:At=X[ot+1],mt=X[ot],dt=mt,gt=mt;break;case D.COLORTYPE_GRAYSCALE:mt=X[ot],dt=mt,gt=mt;break;default:throw new Error("input color type:"+H.inputColorType+" is not supported at present")}return H.inputHasAlpha&&(q||(At/=V,mt=Math.min(Math.max(Math.round((1-At)*yt.red+At*mt),0),V),dt=Math.min(Math.max(Math.round((1-At)*yt.green+At*dt),0),V),gt=Math.min(Math.max(Math.round((1-At)*yt.blue+At*gt),0),V))),{red:mt,green:dt,blue:gt,alpha:At}}yt.red===void 0&&(yt.red=V),yt.green===void 0&&(yt.green=V),yt.blue===void 0&&(yt.blue=V);for(let mt=0;mt<U;mt++)for(let dt=0;dt<F;dt++){let gt=vt();switch(H.colorType){case D.COLORTYPE_COLOR_ALPHA:case D.COLORTYPE_COLOR:H.bitDepth===8?(at[ut]=gt.red,at[ut+1]=gt.green,at[ut+2]=gt.blue,q&&(at[ut+3]=gt.alpha)):(at.writeUInt16BE(gt.red,ut),at.writeUInt16BE(gt.green,ut+2),at.writeUInt16BE(gt.blue,ut+4),q&&at.writeUInt16BE(gt.alpha,ut+6));break;case D.COLORTYPE_ALPHA:case D.COLORTYPE_GRAYSCALE:{let At=(gt.red+gt.green+gt.blue)/3;H.bitDepth===8?(at[ut]=At,q&&(at[ut+1]=gt.alpha)):(at.writeUInt16BE(At,ut),q&&at.writeUInt16BE(gt.alpha,ut+2));break}default:throw new Error("unrecognised color Type "+H.colorType)}ot+=J,ut+=et}return at}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,D){(function(){let P=d("util"),F=d("stream"),U=m.exports=function(){F.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};P.inherits(U,F),U.prototype.read=function(H,q){this._reads.push({length:Math.abs(H),allowLess:H<0,func:q}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},U.prototype.write=function(H,q){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let X;return X=D.isBuffer(H)?H:D.from(H,q||this._encoding),this._buffers.push(X),this._buffered+=X.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},U.prototype.end=function(H,q){H&&this.write(H,q),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},U.prototype.destroySoon=U.prototype.end,U.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},U.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},U.prototype._processReadAllowingLess=function(H){this._reads.shift();let q=this._buffers[0];q.length>H.length?(this._buffered-=H.length,this._buffers[0]=q.slice(H.length),H.func.call(this,q.slice(0,H.length))):(this._buffered-=q.length,this._buffers.shift(),H.func.call(this,q))},U.prototype._processRead=function(H){this._reads.shift();let q=0,X=0,V=D.alloc(H.length);for(;q<H.length;){let J=this._buffers[X++],et=Math.min(J.length,H.length-q);J.copy(V,q,0,et),q+=et,et!==J.length&&(this._buffers[--X]=J.slice(et))}X>0&&this._buffers.splice(0,X),this._buffered-=H.length,H.func.call(this,V)},U.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let H=this._reads[0];if(H.allowLess)this._processReadAllowingLess(H);else{if(!(this._buffered>=H.length))break;this._processRead(H)}}this._buffers&&!this.writable&&this._end()}catch(H){this.emit("error",H)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let P=0;P<256;P++){let F=P;for(let U=0;U<8;U++)1&F?F=3988292384^F>>>1:F>>>=1;w[P]=F}})();let D=m.exports=function(){this._crc=-1};D.prototype.write=function(P){for(let F=0;F<P.length;F++)this._crc=w[255&(this._crc^P[F])]^this._crc>>>8;return!0},D.prototype.crc32=function(){return~this._crc},D.crc32=function(P){let F=-1;for(let U=0;U<P.length;U++)F=w[255&(F^P[U])]^F>>>8;return~F}},{}],6:[function(d,m,g){(function(w){(function(){let D=d("./paeth-predictor");function P(yt,vt,mt,dt,gt){for(let At=0;At<mt;At++)dt[gt+At]=yt[vt+At]}function F(yt,vt,mt){let dt=0,gt=vt+mt;for(let At=vt;At<gt;At++)dt+=Math.abs(yt[At]);return dt}function U(yt,vt,mt,dt,gt,At){for(let _t=0;_t<mt;_t++){let Mt=_t>=At?yt[vt+_t-At]:0,wt=yt[vt+_t]-Mt;dt[gt+_t]=wt}}function H(yt,vt,mt,dt){let gt=0;for(let At=0;At<mt;At++){let _t=At>=dt?yt[vt+At-dt]:0,Mt=yt[vt+At]-_t;gt+=Math.abs(Mt)}return gt}function q(yt,vt,mt,dt,gt){for(let At=0;At<mt;At++){let _t=vt>0?yt[vt+At-mt]:0,Mt=yt[vt+At]-_t;dt[gt+At]=Mt}}function X(yt,vt,mt){let dt=0,gt=vt+mt;for(let At=vt;At<gt;At++){let _t=vt>0?yt[At-mt]:0,Mt=yt[At]-_t;dt+=Math.abs(Mt)}return dt}function V(yt,vt,mt,dt,gt,At){for(let _t=0;_t<mt;_t++){let Mt=_t>=At?yt[vt+_t-At]:0,wt=vt>0?yt[vt+_t-mt]:0,zt=yt[vt+_t]-(Mt+wt>>1);dt[gt+_t]=zt}}function J(yt,vt,mt,dt){let gt=0;for(let At=0;At<mt;At++){let _t=At>=dt?yt[vt+At-dt]:0,Mt=vt>0?yt[vt+At-mt]:0,wt=yt[vt+At]-(_t+Mt>>1);gt+=Math.abs(wt)}return gt}function et(yt,vt,mt,dt,gt,At){for(let _t=0;_t<mt;_t++){let Mt=_t>=At?yt[vt+_t-At]:0,wt=vt>0?yt[vt+_t-mt]:0,zt=vt>0&&_t>=At?yt[vt+_t-(mt+At)]:0,ht=yt[vt+_t]-D(Mt,wt,zt);dt[gt+_t]=ht}}function at(yt,vt,mt,dt){let gt=0;for(let At=0;At<mt;At++){let _t=At>=dt?yt[vt+At-dt]:0,Mt=vt>0?yt[vt+At-mt]:0,wt=vt>0&&At>=dt?yt[vt+At-(mt+dt)]:0,zt=yt[vt+At]-D(_t,Mt,wt);gt+=Math.abs(zt)}return gt}let ot={0:P,1:U,2:q,3:V,4:et},ut={0:F,1:H,2:X,3:J,4:at};m.exports=function(yt,vt,mt,dt,gt){let At;if("filterType"in dt&&dt.filterType!==-1){if(typeof dt.filterType!="number")throw new Error("unrecognised filter types");At=[dt.filterType]}else At=[0,1,2,3,4];dt.bitDepth===16&&(gt*=2);let _t=vt*gt,Mt=0,wt=0,zt=w.alloc((_t+1)*mt),ht=At[0];for(let It=0;It<mt;It++){if(At.length>1){let qt=1/0;for(let Nt=0;Nt<At.length;Nt++){let Ot=ut[At[Nt]](yt,wt,_t,gt);Ot<qt&&(ht=At[Nt],qt=Ot)}}zt[Mt]=ht,Mt++,ot[ht](yt,wt,_t,zt,Mt,gt),Mt+=_t,wt+=_t}return zt}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let D=d("util"),P=d("./chunkstream"),F=d("./filter-parse"),U=m.exports=function(H){P.call(this);let q=[],X=this;this._filter=new F(H,{read:this.read.bind(this),write:function(V){q.push(V)},complete:function(){X.emit("complete",w.concat(q))}}),this._filter.start()};D.inherits(U,P)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let D=d("./sync-reader"),P=d("./filter-parse");g.process=function(F,U){let H=[],q=new D(F);return new P(U,{read:q.read.bind(q),write:function(X){H.push(X)},complete:function(){}}).start(),q.process(),w.concat(H)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),P=d("./paeth-predictor");function F(H,q,X){let V=H*q;return X!==8&&(V=Math.ceil(V/(8/X))),V}let U=m.exports=function(H,q){let X=H.width,V=H.height,J=H.interlace,et=H.bpp,at=H.depth;if(this.read=q.read,this.write=q.write,this.complete=q.complete,this._imageIndex=0,this._images=[],J){let ot=D.getImagePasses(X,V);for(let ut=0;ut<ot.length;ut++)this._images.push({byteWidth:F(ot[ut].width,et,at),height:ot[ut].height,lineIndex:0})}else this._images.push({byteWidth:F(X,et,at),height:V,lineIndex:0});this._xComparison=at===8?et:at===16?2*et:1};U.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},U.prototype._unFilterType1=function(H,q,X){let V=this._xComparison,J=V-1;for(let et=0;et<X;et++){let at=H[1+et],ot=et>J?q[et-V]:0;q[et]=at+ot}},U.prototype._unFilterType2=function(H,q,X){let V=this._lastLine;for(let J=0;J<X;J++){let et=H[1+J],at=V?V[J]:0;q[J]=et+at}},U.prototype._unFilterType3=function(H,q,X){let V=this._xComparison,J=V-1,et=this._lastLine;for(let at=0;at<X;at++){let ot=H[1+at],ut=et?et[at]:0,yt=at>J?q[at-V]:0,vt=Math.floor((yt+ut)/2);q[at]=ot+vt}},U.prototype._unFilterType4=function(H,q,X){let V=this._xComparison,J=V-1,et=this._lastLine;for(let at=0;at<X;at++){let ot=H[1+at],ut=et?et[at]:0,yt=at>J?q[at-V]:0,vt=at>J&&et?et[at-V]:0,mt=P(yt,ut,vt);q[at]=ot+mt}},U.prototype._reverseFilterLine=function(H){let q,X=H[0],V=this._images[this._imageIndex],J=V.byteWidth;if(X===0)q=H.slice(1,J+1);else switch(q=w.alloc(J),X){case 1:this._unFilterType1(H,q,J);break;case 2:this._unFilterType2(H,q,J);break;case 3:this._unFilterType3(H,q,J);break;case 4:this._unFilterType4(H,q,J);break;default:throw new Error("Unrecognised filter type - "+X)}this.write(q),V.lineIndex++,V.lineIndex>=V.height?(this._lastLine=null,this._imageIndex++,V=this._images[this._imageIndex]):this._lastLine=q,V?this.read(V.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function D(U,H,q,X,V){let J=0;for(let et=0;et<X;et++)for(let at=0;at<q;at++){let ot=V[U[J]];if(!ot)throw new Error("index "+U[J]+" not in palette");for(let ut=0;ut<4;ut++)H[J+ut]=ot[ut];J+=4}}function P(U,H,q,X,V){let J=0;for(let et=0;et<X;et++)for(let at=0;at<q;at++){let ot=!1;if(V.length===1?V[0]===U[J]&&(ot=!0):V[0]===U[J]&&V[1]===U[J+1]&&V[2]===U[J+2]&&(ot=!0),ot)for(let ut=0;ut<4;ut++)H[J+ut]=0;J+=4}}function F(U,H,q,X,V){let J=255,et=Math.pow(2,V)-1,at=0;for(let ot=0;ot<X;ot++)for(let ut=0;ut<q;ut++){for(let yt=0;yt<4;yt++)H[at+yt]=Math.floor(U[at+yt]*J/et+.5);at+=4}}m.exports=function(U,H,q=!1){let X=H.depth,V=H.width,J=H.height,et=H.colorType,at=H.transColor,ot=H.palette,ut=U;return et===3?D(U,ut,V,J,ot):(at&&P(U,ut,V,J,at),X===8||q||(X===16&&(ut=w.alloc(V*J*4)),F(U,ut,V,J,X))),ut}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(D,P){let F=[],U=D%8,H=P%8,q=(D-U)/8,X=(P-H)/8;for(let V=0;V<w.length;V++){let J=w[V],et=q*J.x.length,at=X*J.y.length;for(let ot=0;ot<J.x.length&&J.x[ot]<U;ot++)et++;for(let ot=0;ot<J.y.length&&J.y[ot]<H;ot++)at++;et>0&&at>0&&F.push({width:et,height:at,index:V})}return F},g.getInterlaceIterator=function(D){return function(P,F,U){let H=P%w[U].x.length,q=(P-H)/w[U].x.length*8+w[U].x[H],X=F%w[U].y.length;return 4*q+((F-X)/w[U].y.length*8+w[U].y[X])*D*4}}},{}],12:[function(d,m,g){(function(w){(function(){let D=d("util"),P=d("stream"),F=d("./constants"),U=d("./packer"),H=m.exports=function(q){P.call(this);let X=q||{};this._packer=new U(X),this._deflate=this._packer.createDeflate(),this.readable=!0};D.inherits(H,P),H.prototype.pack=function(q,X,V,J){this.emit("data",w.from(F.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(X,V)),J&&this.emit("data",this._packer.packGAMA(J));let et=this._packer.filterData(q,X,V);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(at){this.emit("data",this._packer.packIDAT(at))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(et)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let D=!0,P=d("zlib");P.deflateSync||(D=!1);let F=d("./constants"),U=d("./packer");m.exports=function(H,q){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let X=new U(q||{}),V=[];V.push(w.from(F.PNG_SIGNATURE)),V.push(X.packIHDR(H.width,H.height)),H.gamma&&V.push(X.packGAMA(H.gamma));let J=X.filterData(H.data,H.width,H.height),et=P.deflateSync(J,X.getDeflateOptions());if(J=null,!et||!et.length)throw new Error("bad png - invalid compressed data response");return V.push(X.packIDAT(et)),V.push(X.packIEND()),w.concat(V)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let D=d("./constants"),P=d("./crc"),F=d("./bitpacker"),U=d("./filter-pack"),H=d("zlib"),q=m.exports=function(X){if(this._options=X,X.deflateChunkSize=X.deflateChunkSize||32768,X.deflateLevel=X.deflateLevel!=null?X.deflateLevel:9,X.deflateStrategy=X.deflateStrategy!=null?X.deflateStrategy:3,X.inputHasAlpha=X.inputHasAlpha==null||X.inputHasAlpha,X.deflateFactory=X.deflateFactory||H.createDeflate,X.bitDepth=X.bitDepth||8,X.colorType=typeof X.colorType=="number"?X.colorType:D.COLORTYPE_COLOR_ALPHA,X.inputColorType=typeof X.inputColorType=="number"?X.inputColorType:D.COLORTYPE_COLOR_ALPHA,[D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(X.colorType)===-1)throw new Error("option color type:"+X.colorType+" is not supported at present");if([D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(X.inputColorType)===-1)throw new Error("option input color type:"+X.inputColorType+" is not supported at present");if(X.bitDepth!==8&&X.bitDepth!==16)throw new Error("option bit depth:"+X.bitDepth+" is not supported at present")};q.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},q.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},q.prototype.filterData=function(X,V,J){let et=F(X,V,J,this._options),at=D.COLORTYPE_TO_BPP_MAP[this._options.colorType];return U(et,V,J,this._options,at)},q.prototype._packChunk=function(X,V){let J=V?V.length:0,et=w.alloc(J+12);return et.writeUInt32BE(J,0),et.writeUInt32BE(X,4),V&&V.copy(et,8),et.writeInt32BE(P.crc32(et.slice(4,et.length-4)),et.length-4),et},q.prototype.packGAMA=function(X){let V=w.alloc(4);return V.writeUInt32BE(Math.floor(X*D.GAMMA_DIVISION),0),this._packChunk(D.TYPE_gAMA,V)},q.prototype.packIHDR=function(X,V){let J=w.alloc(13);return J.writeUInt32BE(X,0),J.writeUInt32BE(V,4),J[8]=this._options.bitDepth,J[9]=this._options.colorType,J[10]=0,J[11]=0,J[12]=0,this._packChunk(D.TYPE_IHDR,J)},q.prototype.packIDAT=function(X){return this._packChunk(D.TYPE_IDAT,X)},q.prototype.packIEND=function(){return this._packChunk(D.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,D,P){let F=w+D-P,U=Math.abs(F-w),H=Math.abs(F-D),q=Math.abs(F-P);return U<=H&&U<=q?w:H<=q?D:P}},{}],16:[function(d,m,g){let w=d("util"),D=d("zlib"),P=d("./chunkstream"),F=d("./filter-parse-async"),U=d("./parser"),H=d("./bitmapper"),q=d("./format-normaliser"),X=m.exports=function(V){P.call(this),this._parser=new U(V,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=V,this.writable=!0,this._parser.start()};w.inherits(X,P),X.prototype._handleError=function(V){this.emit("error",V),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},X.prototype._inflateData=function(V){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=D.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let J=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,et=Math.max(J,D.Z_MIN_CHUNK);this._inflate=D.createInflate({chunkSize:et});let at=J,ot=this.emit.bind(this,"error");this._inflate.on("error",(function(yt){at&&ot(yt)})),this._filter.on("complete",this._complete.bind(this));let ut=this._filter.write.bind(this._filter);this._inflate.on("data",(function(yt){at&&(yt.length>at&&(yt=yt.slice(0,at)),at-=yt.length,ut(yt))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(V)},X.prototype._handleMetaData=function(V){this._metaData=V,this._bitmapInfo=Object.create(V),this._filter=new F(this._bitmapInfo)},X.prototype._handleTransColor=function(V){this._bitmapInfo.transColor=V},X.prototype._handlePalette=function(V){this._bitmapInfo.palette=V},X.prototype._simpleTransparency=function(){this._metaData.alpha=!0},X.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},X.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},X.prototype._complete=function(V){if(this.errord)return;let J;try{let et=H.dataToBitMap(V,this._bitmapInfo);J=q(et,this._bitmapInfo,this._options.skipRescale),et=null}catch(et){return void this._handleError(et)}this.emit("parsed",J)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let D=!0,P=d("zlib"),F=d("./sync-inflate");P.deflateSync||(D=!1);let U=d("./sync-reader"),H=d("./filter-parse-sync"),q=d("./parser"),X=d("./bitmapper"),V=d("./format-normaliser");m.exports=function(J,et){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let at,ot,ut;function yt(Ot){at=Ot}function vt(Ot){ot=Ot}function mt(Ot){ot.transColor=Ot}function dt(Ot){ot.palette=Ot}function gt(){ot.alpha=!0}function At(Ot){ut=Ot}let _t=[];function Mt(Ot){_t.push(Ot)}let wt=new U(J);if(new q(et,{read:wt.read.bind(wt),error:yt,metadata:vt,gamma:At,palette:dt,transColor:mt,inflateData:Mt,simpleTransparency:gt}).start(),wt.process(),at)throw at;let zt,ht=w.concat(_t);if(_t.length=0,ot.interlace)zt=P.inflateSync(ht);else{let Ot=(1+(ot.width*ot.bpp*ot.depth+7>>3))*ot.height;zt=F(ht,{chunkSize:Ot,maxLength:Ot})}if(ht=null,!zt||!zt.length)throw new Error("bad png - invalid inflate data response");let It=H.process(zt,ot);ht=null;let qt=X.dataToBitMap(It,ot);It=null;let Nt=V(qt,ot,et.skipRescale);return ot.data=Nt,ot.gamma=ut||0,ot}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let D=d("./constants"),P=d("./crc"),F=m.exports=function(U,H){this._options=U,U.checkCRC=U.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[D.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[D.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[D.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[D.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[D.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[D.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=H.read,this.error=H.error,this.metadata=H.metadata,this.gamma=H.gamma,this.transColor=H.transColor,this.palette=H.palette,this.parsed=H.parsed,this.inflateData=H.inflateData,this.finished=H.finished,this.simpleTransparency=H.simpleTransparency,this.headersFinished=H.headersFinished||function(){}};F.prototype.start=function(){this.read(D.PNG_SIGNATURE.length,this._parseSignature.bind(this))},F.prototype._parseSignature=function(U){let H=D.PNG_SIGNATURE;for(let q=0;q<H.length;q++)if(U[q]!==H[q])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},F.prototype._parseChunkBegin=function(U){let H=U.readUInt32BE(0),q=U.readUInt32BE(4),X="";for(let J=4;J<8;J++)X+=String.fromCharCode(U[J]);let V=!!(32&U[4]);if(this._hasIHDR||q===D.TYPE_IHDR){if(this._crc=new P,this._crc.write(w.from(X)),this._chunks[q])return this._chunks[q](H);V?this.read(H+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+X))}else this.error(new Error("Expected IHDR on beggining"))},F.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},F.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},F.prototype._parseChunkEnd=function(U){let H=U.readInt32BE(0),q=this._crc.crc32();this._options.checkCRC&&q!==H?this.error(new Error("Crc error - "+H+" - "+q)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},F.prototype._handleIHDR=function(U){this.read(U,this._parseIHDR.bind(this))},F.prototype._parseIHDR=function(U){this._crc.write(U);let H=U.readUInt32BE(0),q=U.readUInt32BE(4),X=U[8],V=U[9],J=U[10],et=U[11],at=U[12];if(X!==8&&X!==4&&X!==2&&X!==1&&X!==16)return void this.error(new Error("Unsupported bit depth "+X));if(!(V in D.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(J!==0)return void this.error(new Error("Unsupported compression method"));if(et!==0)return void this.error(new Error("Unsupported filter method"));if(at!==0&&at!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=V;let ot=D.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:H,height:q,depth:X,interlace:!!at,palette:!!(V&D.COLORTYPE_PALETTE),color:!!(V&D.COLORTYPE_COLOR),alpha:!!(V&D.COLORTYPE_ALPHA),bpp:ot,colorType:V}),this._handleChunkEnd()},F.prototype._handlePLTE=function(U){this.read(U,this._parsePLTE.bind(this))},F.prototype._parsePLTE=function(U){this._crc.write(U);let H=Math.floor(U.length/3);for(let q=0;q<H;q++)this._palette.push([U[3*q],U[3*q+1],U[3*q+2],255]);this.palette(this._palette),this._handleChunkEnd()},F.prototype._handleTRNS=function(U){this.simpleTransparency(),this.read(U,this._parseTRNS.bind(this))},F.prototype._parseTRNS=function(U){if(this._crc.write(U),this._colorType===D.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(U.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let H=0;H<U.length;H++)this._palette[H][3]=U[H];this.palette(this._palette)}this._colorType===D.COLORTYPE_GRAYSCALE&&this.transColor([U.readUInt16BE(0)]),this._colorType===D.COLORTYPE_COLOR&&this.transColor([U.readUInt16BE(0),U.readUInt16BE(2),U.readUInt16BE(4)]),this._handleChunkEnd()},F.prototype._handleGAMA=function(U){this.read(U,this._parseGAMA.bind(this))},F.prototype._parseGAMA=function(U){this._crc.write(U),this.gamma(U.readUInt32BE(0)/D.GAMMA_DIVISION),this._handleChunkEnd()},F.prototype._handleIDAT=function(U){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-U,this._parseIDAT.bind(this,U))},F.prototype._parseIDAT=function(U,H){if(this._crc.write(H),this._colorType===D.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(H);let q=U-H.length;q>0?this._handleIDAT(q):this._handleChunkEnd()},F.prototype._handleIEND=function(U){this.read(U,this._parseIEND.bind(this))},F.prototype._parseIEND=function(U){this._crc.write(U),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),D=d("./packer-sync");g.read=function(P,F){return w(P,F||{})},g.write=function(P,F){return D(P,F)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,D){(function(){let P=d("util"),F=d("stream"),U=d("./parser-async"),H=d("./packer-async"),q=d("./png-sync"),X=g.PNG=function(V){F.call(this),V=V||{},this.width=0|V.width,this.height=0|V.height,this.data=this.width>0&&this.height>0?D.alloc(4*this.width*this.height):null,V.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new U(V),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(J){this.data=J,this.emit("parsed",J)}).bind(this)),this._packer=new H(V),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};P.inherits(X,F),X.sync=q,X.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},X.prototype.parse=function(V,J){if(J){let et,at;et=(function(ot){this.removeListener("error",at),this.data=ot,J(null,this)}).bind(this),at=(function(ot){this.removeListener("parsed",et),J(ot,null)}).bind(this),this.once("parsed",et),this.once("error",at)}return this.end(V),this},X.prototype.write=function(V){return this._parser.write(V),!0},X.prototype.end=function(V){this._parser.end(V)},X.prototype._metadata=function(V){this.width=V.width,this.height=V.height,this.emit("metadata",V)},X.prototype._gamma=function(V){this.gamma=V},X.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},X.bitblt=function(V,J,et,at,ot,ut,yt,vt){if(at|=0,ot|=0,ut|=0,yt|=0,vt|=0,(et|=0)>V.width||at>V.height||et+ot>V.width||at+ut>V.height)throw new Error("bitblt reading outside image");if(yt>J.width||vt>J.height||yt+ot>J.width||vt+ut>J.height)throw new Error("bitblt writing outside image");for(let mt=0;mt<ut;mt++)V.data.copy(J.data,(vt+mt)*J.width+yt<<2,(at+mt)*V.width+et<<2,(at+mt)*V.width+et+ot<<2)},X.prototype.bitblt=function(V,J,et,at,ot,ut,yt){return X.bitblt(this,V,J,et,at,ot,ut,yt),this},X.adjustGamma=function(V){if(V.gamma){for(let J=0;J<V.height;J++)for(let et=0;et<V.width;et++){let at=V.width*J+et<<2;for(let ot=0;ot<3;ot++){let ut=V.data[at+ot]/255;ut=Math.pow(ut,1/2.2/V.gamma),V.data[at+ot]=Math.round(255*ut)}}V.gamma=0}},X.prototype.adjustGamma=function(){X.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,D){(function(){let P=d("assert").ok,F=d("zlib"),U=d("util"),H=d("buffer").kMaxLength;function q(at){if(!(this instanceof q))return new q(at);at&&at.chunkSize<F.Z_MIN_CHUNK&&(at.chunkSize=F.Z_MIN_CHUNK),F.Inflate.call(this,at),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,at&&at.maxLength!=null&&(this._maxLength=at.maxLength)}function X(at){return new q(at)}function V(at,ot){at._handle&&(at._handle.close(),at._handle=null)}function J(at,ot){if(typeof ot=="string"&&(ot=D.from(ot)),!(ot instanceof D))throw new TypeError("Not a string or buffer");let ut=at._finishFlushFlag;return ut==null&&(ut=F.Z_FINISH),at._processChunk(ot,ut)}function et(at,ot){return J(new q(ot),at)}q.prototype._processChunk=function(at,ot,ut){if(typeof ut=="function")return F.Inflate._processChunk.call(this,at,ot,ut);let yt,vt,mt=this,dt=at&&at.length,gt=this._chunkSize-this._offset,At=this._maxLength,_t=0,Mt=[],wt=0;function zt(It,qt){if(mt._hadError)return;let Nt=gt-qt;if(P(Nt>=0,"have should not go down"),Nt>0){let Ot=mt._buffer.slice(mt._offset,mt._offset+Nt);if(mt._offset+=Nt,Ot.length>At&&(Ot=Ot.slice(0,At)),Mt.push(Ot),wt+=Ot.length,At-=Ot.length,At===0)return!1}return(qt===0||mt._offset>=mt._chunkSize)&&(gt=mt._chunkSize,mt._offset=0,mt._buffer=D.allocUnsafe(mt._chunkSize)),qt===0&&(_t+=dt-It,dt=It,!0)}this.on("error",(function(It){yt=It})),P(this._handle,"zlib binding closed");do vt=this._handle.writeSync(ot,at,_t,dt,this._buffer,this._offset,gt),vt=vt||this._writeState;while(!this._hadError&&zt(vt[0],vt[1]));if(this._hadError)throw yt;if(wt>=H)throw V(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+H.toString(16)+" bytes");let ht=D.concat(Mt,wt);return V(this),ht},U.inherits(q,F.Inflate),m.exports=g=et,g.Inflate=q,g.createInflate=X,g.inflateSync=et}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(D){this._buffer=D,this._reads=[]};w.prototype.read=function(D,P){this._reads.push({length:Math.abs(D),allowLess:D<0,func:P})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let D=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=D.length||D.allowLess))break;{this._reads.shift();let P=this._buffer;this._buffer=P.slice(D.length),D.func.call(this,P.slice(0,D.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var D=d("object-assign");function P(Nt,Ot){if(Nt===Ot)return 0;for(var Ct=Nt.length,Jt=Ot.length,Kt=0,Qt=Math.min(Ct,Jt);Kt<Qt;++Kt)if(Nt[Kt]!==Ot[Kt]){Ct=Nt[Kt],Jt=Ot[Kt];break}return Ct<Jt?-1:Jt<Ct?1:0}function F(Nt){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(Nt):!(Nt==null||!Nt._isBuffer)}var U=d("util/"),H=Object.prototype.hasOwnProperty,q=Array.prototype.slice,X=(function(){}).name==="foo";function V(Nt){return Object.prototype.toString.call(Nt)}function J(Nt){return!F(Nt)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Nt):!!Nt&&(Nt instanceof DataView||!!(Nt.buffer&&Nt.buffer instanceof ArrayBuffer)))}var et=m.exports=dt,at=/\s*function\s+([^\(\s]*)\s*/;function ot(Nt){if(U.isFunction(Nt)){if(X)return Nt.name;var Ot=Nt.toString().match(at);return Ot&&Ot[1]}}function ut(Nt,Ot){return typeof Nt=="string"?Nt.length<Ot?Nt:Nt.slice(0,Ot):Nt}function yt(Nt){if(X||!U.isFunction(Nt))return U.inspect(Nt);var Ot=ot(Nt);return"[Function"+(Ot?": "+Ot:"")+"]"}function vt(Nt){return ut(yt(Nt.actual),128)+" "+Nt.operator+" "+ut(yt(Nt.expected),128)}function mt(Nt,Ot,Ct,Jt,Kt){throw new et.AssertionError({message:Ct,actual:Nt,expected:Ot,operator:Jt,stackStartFunction:Kt})}function dt(Nt,Ot){Nt||mt(Nt,!0,Ot,"==",et.ok)}function gt(Nt,Ot,Ct,Jt){if(Nt===Ot)return!0;if(F(Nt)&&F(Ot))return P(Nt,Ot)===0;if(U.isDate(Nt)&&U.isDate(Ot))return Nt.getTime()===Ot.getTime();if(U.isRegExp(Nt)&&U.isRegExp(Ot))return Nt.source===Ot.source&&Nt.global===Ot.global&&Nt.multiline===Ot.multiline&&Nt.lastIndex===Ot.lastIndex&&Nt.ignoreCase===Ot.ignoreCase;if(Nt!==null&&typeof Nt=="object"||Ot!==null&&typeof Ot=="object"){if(J(Nt)&&J(Ot)&&V(Nt)===V(Ot)&&!(Nt instanceof Float32Array||Nt instanceof Float64Array))return P(new Uint8Array(Nt.buffer),new Uint8Array(Ot.buffer))===0;if(F(Nt)!==F(Ot))return!1;var Kt=(Jt=Jt||{actual:[],expected:[]}).actual.indexOf(Nt);return Kt!==-1&&Kt===Jt.expected.indexOf(Ot)||(Jt.actual.push(Nt),Jt.expected.push(Ot),_t(Nt,Ot,Ct,Jt))}return Ct?Nt===Ot:Nt==Ot}function At(Nt){return Object.prototype.toString.call(Nt)=="[object Arguments]"}function _t(Nt,Ot,Ct,Jt){if(Nt==null||Ot==null)return!1;if(U.isPrimitive(Nt)||U.isPrimitive(Ot))return Nt===Ot;if(Ct&&Object.getPrototypeOf(Nt)!==Object.getPrototypeOf(Ot))return!1;var Kt=At(Nt),Qt=At(Ot);if(Kt&&!Qt||!Kt&&Qt)return!1;if(Kt)return gt(Nt=q.call(Nt),Ot=q.call(Ot),Ct);var pe,$t,Wt=qt(Nt),fe=qt(Ot);if(Wt.length!==fe.length)return!1;for(Wt.sort(),fe.sort(),$t=Wt.length-1;$t>=0;$t--)if(Wt[$t]!==fe[$t])return!1;for($t=Wt.length-1;$t>=0;$t--)if(!gt(Nt[pe=Wt[$t]],Ot[pe],Ct,Jt))return!1;return!0}function Mt(Nt,Ot,Ct){gt(Nt,Ot,!0)&&mt(Nt,Ot,Ct,"notDeepStrictEqual",Mt)}function wt(Nt,Ot){if(!Nt||!Ot)return!1;if(Object.prototype.toString.call(Ot)=="[object RegExp]")return Ot.test(Nt);try{if(Nt instanceof Ot)return!0}catch{}return!Error.isPrototypeOf(Ot)&&Ot.call({},Nt)===!0}function zt(Nt){var Ot;try{Nt()}catch(Ct){Ot=Ct}return Ot}function ht(Nt,Ot,Ct,Jt){var Kt;if(typeof Ot!="function")throw new TypeError('"block" argument must be a function');typeof Ct=="string"&&(Jt=Ct,Ct=null),Kt=zt(Ot),Jt=(Ct&&Ct.name?" ("+Ct.name+").":".")+(Jt?" "+Jt:"."),Nt&&!Kt&&mt(Kt,Ct,"Missing expected exception"+Jt);var Qt=typeof Jt=="string",pe=!Nt&&Kt&&!Ct;if((!Nt&&U.isError(Kt)&&Qt&&wt(Kt,Ct)||pe)&&mt(Kt,Ct,"Got unwanted exception"+Jt),Nt&&Kt&&Ct&&!wt(Kt,Ct)||!Nt&&Kt)throw Kt}function It(Nt,Ot){Nt||mt(Nt,!0,Ot,"==",It)}et.AssertionError=function(Nt){this.name="AssertionError",this.actual=Nt.actual,this.expected=Nt.expected,this.operator=Nt.operator,Nt.message?(this.message=Nt.message,this.generatedMessage=!1):(this.message=vt(this),this.generatedMessage=!0);var Ot=Nt.stackStartFunction||mt;if(Error.captureStackTrace)Error.captureStackTrace(this,Ot);else{var Ct=new Error;if(Ct.stack){var Jt=Ct.stack,Kt=ot(Ot),Qt=Jt.indexOf(`
`+Kt);if(Qt>=0){var pe=Jt.indexOf(`
`,Qt+1);Jt=Jt.substring(pe+1)}this.stack=Jt}}},U.inherits(et.AssertionError,Error),et.fail=mt,et.ok=dt,et.equal=function(Nt,Ot,Ct){Nt!=Ot&&mt(Nt,Ot,Ct,"==",et.equal)},et.notEqual=function(Nt,Ot,Ct){Nt==Ot&&mt(Nt,Ot,Ct,"!=",et.notEqual)},et.deepEqual=function(Nt,Ot,Ct){gt(Nt,Ot,!1)||mt(Nt,Ot,Ct,"deepEqual",et.deepEqual)},et.deepStrictEqual=function(Nt,Ot,Ct){gt(Nt,Ot,!0)||mt(Nt,Ot,Ct,"deepStrictEqual",et.deepStrictEqual)},et.notDeepEqual=function(Nt,Ot,Ct){gt(Nt,Ot,!1)&&mt(Nt,Ot,Ct,"notDeepEqual",et.notDeepEqual)},et.notDeepStrictEqual=Mt,et.strictEqual=function(Nt,Ot,Ct){Nt!==Ot&&mt(Nt,Ot,Ct,"===",et.strictEqual)},et.notStrictEqual=function(Nt,Ot,Ct){Nt===Ot&&mt(Nt,Ot,Ct,"!==",et.notStrictEqual)},et.throws=function(Nt,Ot,Ct){ht(!0,Nt,Ot,Ct)},et.doesNotThrow=function(Nt,Ot,Ct){ht(!1,Nt,Ot,Ct)},et.ifError=function(Nt){if(Nt)throw Nt},et.strict=D(It,et,{equal:et.strictEqual,deepEqual:et.deepStrictEqual,notEqual:et.notStrictEqual,notDeepEqual:et.notDeepStrictEqual}),et.strict.strict=et.strict;var qt=Object.keys||function(Nt){var Ot=[];for(var Ct in Nt)H.call(Nt,Ct)&&Ot.push(Ct);return Ot}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,D){w.super_=D;var P=function(){};P.prototype=D.prototype,w.prototype=new P,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,D){(function(){var P=/%[sdj%]/g;g.format=function($t){if(!_t($t)){for(var Wt=[],fe=0;fe<arguments.length;fe++)Wt.push(H(arguments[fe]));return Wt.join(" ")}fe=1;for(var oe=arguments,Xt=oe.length,ne=String($t).replace(P,(function(Ie){if(Ie==="%%")return"%";if(fe>=Xt)return Ie;switch(Ie){case"%s":return String(oe[fe++]);case"%d":return Number(oe[fe++]);case"%j":try{return JSON.stringify(oe[fe++])}catch{return"[Circular]"}default:return Ie}})),ye=oe[fe];fe<Xt;ye=oe[++fe])dt(ye)||!ht(ye)?ne+=" "+ye:ne+=" "+H(ye);return ne},g.deprecate=function($t,Wt){if(wt(D.process))return function(){return g.deprecate($t,Wt).apply(this,arguments)};if(w.noDeprecation===!0)return $t;var fe=!1;function oe(){if(!fe){if(w.throwDeprecation)throw new Error(Wt);w.traceDeprecation?console.trace(Wt):console.error(Wt),fe=!0}return $t.apply(this,arguments)}return oe};var F,U={};function H($t,Wt){var fe={seen:[],stylize:X};return arguments.length>=3&&(fe.depth=arguments[2]),arguments.length>=4&&(fe.colors=arguments[3]),mt(Wt)?fe.showHidden=Wt:Wt&&g._extend(fe,Wt),wt(fe.showHidden)&&(fe.showHidden=!1),wt(fe.depth)&&(fe.depth=2),wt(fe.colors)&&(fe.colors=!1),wt(fe.customInspect)&&(fe.customInspect=!0),fe.colors&&(fe.stylize=q),J(fe,$t,fe.depth)}function q($t,Wt){var fe=H.styles[Wt];return fe?"\x1B["+H.colors[fe][0]+"m"+$t+"\x1B["+H.colors[fe][1]+"m":$t}function X($t,Wt){return $t}function V($t){var Wt={};return $t.forEach((function(fe,oe){Wt[fe]=!0})),Wt}function J($t,Wt,fe){if($t.customInspect&&Wt&&Nt(Wt.inspect)&&Wt.inspect!==g.inspect&&(!Wt.constructor||Wt.constructor.prototype!==Wt)){var oe=Wt.inspect(fe,$t);return _t(oe)||(oe=J($t,oe,fe)),oe}var Xt=et($t,Wt);if(Xt)return Xt;var ne=Object.keys(Wt),ye=V(ne);if($t.showHidden&&(ne=Object.getOwnPropertyNames(Wt)),qt(Wt)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return at(Wt);if(ne.length===0){if(Nt(Wt)){var Ie=Wt.name?": "+Wt.name:"";return $t.stylize("[Function"+Ie+"]","special")}if(zt(Wt))return $t.stylize(RegExp.prototype.toString.call(Wt),"regexp");if(It(Wt))return $t.stylize(Date.prototype.toString.call(Wt),"date");if(qt(Wt))return at(Wt)}var $e,he="",xt=!1,ue=["{","}"];return vt(Wt)&&(xt=!0,ue=["[","]"]),Nt(Wt)&&(he=" [Function"+(Wt.name?": "+Wt.name:"")+"]"),zt(Wt)&&(he=" "+RegExp.prototype.toString.call(Wt)),It(Wt)&&(he=" "+Date.prototype.toUTCString.call(Wt)),qt(Wt)&&(he=" "+at(Wt)),ne.length!==0||xt&&Wt.length!=0?fe<0?zt(Wt)?$t.stylize(RegExp.prototype.toString.call(Wt),"regexp"):$t.stylize("[Object]","special"):($t.seen.push(Wt),$e=xt?ot($t,Wt,fe,ye,ne):ne.map((function(Ft){return ut($t,Wt,fe,ye,Ft,xt)})),$t.seen.pop(),yt($e,he,ue)):ue[0]+he+ue[1]}function et($t,Wt){if(wt(Wt))return $t.stylize("undefined","undefined");if(_t(Wt)){var fe="'"+JSON.stringify(Wt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $t.stylize(fe,"string")}return At(Wt)?$t.stylize(""+Wt,"number"):mt(Wt)?$t.stylize(""+Wt,"boolean"):dt(Wt)?$t.stylize("null","null"):void 0}function at($t){return"["+Error.prototype.toString.call($t)+"]"}function ot($t,Wt,fe,oe,Xt){for(var ne=[],ye=0,Ie=Wt.length;ye<Ie;++ye)pe(Wt,String(ye))?ne.push(ut($t,Wt,fe,oe,String(ye),!0)):ne.push("");return Xt.forEach((function($e){$e.match(/^\d+$/)||ne.push(ut($t,Wt,fe,oe,$e,!0))})),ne}function ut($t,Wt,fe,oe,Xt,ne){var ye,Ie,$e;if(($e=Object.getOwnPropertyDescriptor(Wt,Xt)||{value:Wt[Xt]}).get?Ie=$e.set?$t.stylize("[Getter/Setter]","special"):$t.stylize("[Getter]","special"):$e.set&&(Ie=$t.stylize("[Setter]","special")),pe(oe,Xt)||(ye="["+Xt+"]"),Ie||($t.seen.indexOf($e.value)<0?(Ie=dt(fe)?J($t,$e.value,null):J($t,$e.value,fe-1)).indexOf(`
`)>-1&&(Ie=ne?Ie.split(`
`).map((function(he){return"  "+he})).join(`
`).substr(2):`
`+Ie.split(`
`).map((function(he){return"   "+he})).join(`
`)):Ie=$t.stylize("[Circular]","special")),wt(ye)){if(ne&&Xt.match(/^\d+$/))return Ie;(ye=JSON.stringify(""+Xt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ye=ye.substr(1,ye.length-2),ye=$t.stylize(ye,"name")):(ye=ye.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ye=$t.stylize(ye,"string"))}return ye+": "+Ie}function yt($t,Wt,fe){return $t.reduce((function(oe,Xt){return Xt.indexOf(`
`),oe+Xt.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?fe[0]+(Wt===""?"":Wt+`
 `)+" "+$t.join(`,
  `)+" "+fe[1]:fe[0]+Wt+" "+$t.join(", ")+" "+fe[1]}function vt($t){return Array.isArray($t)}function mt($t){return typeof $t=="boolean"}function dt($t){return $t===null}function gt($t){return $t==null}function At($t){return typeof $t=="number"}function _t($t){return typeof $t=="string"}function Mt($t){return typeof $t=="symbol"}function wt($t){return $t===void 0}function zt($t){return ht($t)&&Ct($t)==="[object RegExp]"}function ht($t){return typeof $t=="object"&&$t!==null}function It($t){return ht($t)&&Ct($t)==="[object Date]"}function qt($t){return ht($t)&&(Ct($t)==="[object Error]"||$t instanceof Error)}function Nt($t){return typeof $t=="function"}function Ot($t){return $t===null||typeof $t=="boolean"||typeof $t=="number"||typeof $t=="string"||typeof $t=="symbol"||$t===void 0}function Ct($t){return Object.prototype.toString.call($t)}function Jt($t){return $t<10?"0"+$t.toString(10):$t.toString(10)}g.debuglog=function($t){if(wt(F)&&(F=w.env.NODE_DEBUG||""),$t=$t.toUpperCase(),!U[$t])if(new RegExp("\\b"+$t+"\\b","i").test(F)){var Wt=w.pid;U[$t]=function(){var fe=g.format.apply(g,arguments);console.error("%s %d: %s",$t,Wt,fe)}}else U[$t]=function(){};return U[$t]},g.inspect=H,H.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},H.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=vt,g.isBoolean=mt,g.isNull=dt,g.isNullOrUndefined=gt,g.isNumber=At,g.isString=_t,g.isSymbol=Mt,g.isUndefined=wt,g.isRegExp=zt,g.isObject=ht,g.isDate=It,g.isError=qt,g.isFunction=Nt,g.isPrimitive=Ot,g.isBuffer=d("./support/isBuffer");var Kt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Qt(){var $t=new Date,Wt=[Jt($t.getHours()),Jt($t.getMinutes()),Jt($t.getSeconds())].join(":");return[$t.getDate(),Kt[$t.getMonth()],Wt].join(" ")}function pe($t,Wt){return Object.prototype.hasOwnProperty.call($t,Wt)}g.log=function(){console.log("%s - %s",Qt(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function($t,Wt){if(!Wt||!ht(Wt))return $t;for(var fe=Object.keys(Wt),oe=fe.length;oe--;)$t[fe[oe]]=Wt[fe[oe]];return $t}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var F=[],U=0;U<D.length;U++)typeof P[D[U]]=="function"&&(F[F.length]=D[U]);return F}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=X,g.toByteArray=J,g.fromByteArray=ot;for(var w=[],D=[],P=typeof Uint8Array<"u"?Uint8Array:Array,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=0,H=F.length;U<H;++U)w[U]=F[U],D[F.charCodeAt(U)]=U;function q(ut){var yt=ut.length;if(yt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var vt=ut.indexOf("=");return vt===-1&&(vt=yt),[vt,vt===yt?0:4-vt%4]}function X(ut){var yt=q(ut),vt=yt[0],mt=yt[1];return 3*(vt+mt)/4-mt}function V(ut,yt,vt){return 3*(yt+vt)/4-vt}function J(ut){var yt,vt,mt=q(ut),dt=mt[0],gt=mt[1],At=new P(V(ut,dt,gt)),_t=0,Mt=gt>0?dt-4:dt;for(vt=0;vt<Mt;vt+=4)yt=D[ut.charCodeAt(vt)]<<18|D[ut.charCodeAt(vt+1)]<<12|D[ut.charCodeAt(vt+2)]<<6|D[ut.charCodeAt(vt+3)],At[_t++]=yt>>16&255,At[_t++]=yt>>8&255,At[_t++]=255&yt;return gt===2&&(yt=D[ut.charCodeAt(vt)]<<2|D[ut.charCodeAt(vt+1)]>>4,At[_t++]=255&yt),gt===1&&(yt=D[ut.charCodeAt(vt)]<<10|D[ut.charCodeAt(vt+1)]<<4|D[ut.charCodeAt(vt+2)]>>2,At[_t++]=yt>>8&255,At[_t++]=255&yt),At}function et(ut){return w[ut>>18&63]+w[ut>>12&63]+w[ut>>6&63]+w[63&ut]}function at(ut,yt,vt){for(var mt,dt=[],gt=yt;gt<vt;gt+=3)mt=(ut[gt]<<16&16711680)+(ut[gt+1]<<8&65280)+(255&ut[gt+2]),dt.push(et(mt));return dt.join("")}function ot(ut){for(var yt,vt=ut.length,mt=vt%3,dt=[],gt=16383,At=0,_t=vt-mt;At<_t;At+=gt)dt.push(at(ut,At,At+gt>_t?_t:At+gt));return mt===1?(yt=ut[vt-1],dt.push(w[yt>>2]+w[yt<<4&63]+"==")):mt===2&&(yt=(ut[vt-2]<<8)+ut[vt-1],dt.push(w[yt>>10]+w[yt>>4&63]+w[yt<<2&63]+"=")),dt.join("")}D[45]=62,D[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,D){(function(){var P=d("assert"),F=d("pako/lib/zlib/zstream"),U=d("pako/lib/zlib/deflate.js"),H=d("pako/lib/zlib/inflate.js"),q=d("pako/lib/zlib/constants");for(var X in q)g[X]=q[X];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var V=31,J=139;function et(at){if(typeof at!="number"||at<g.DEFLATE||at>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=at,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}et.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,P(this.init_done,"close before init"),P(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?U.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||H.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},et.prototype.write=function(at,ot,ut,yt,vt,mt,dt){return this._write(!0,at,ot,ut,yt,vt,mt,dt)},et.prototype.writeSync=function(at,ot,ut,yt,vt,mt,dt){return this._write(!1,at,ot,ut,yt,vt,mt,dt)},et.prototype._write=function(at,ot,ut,yt,vt,mt,dt,gt){if(P.equal(arguments.length,8),P(this.init_done,"write before init"),P(this.mode!==g.NONE,"already finalized"),P.equal(!1,this.write_in_progress,"write already in progress"),P.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,P.equal(!1,ot===void 0,"must provide flush value"),this.write_in_progress=!0,ot!==g.Z_NO_FLUSH&&ot!==g.Z_PARTIAL_FLUSH&&ot!==g.Z_SYNC_FLUSH&&ot!==g.Z_FULL_FLUSH&&ot!==g.Z_FINISH&&ot!==g.Z_BLOCK)throw new Error("Invalid flush value");if(ut==null&&(ut=D.alloc(0),vt=0,yt=0),this.strm.avail_in=vt,this.strm.input=ut,this.strm.next_in=yt,this.strm.avail_out=gt,this.strm.output=mt,this.strm.next_out=dt,this.flush=ot,!at)return this._process(),this._checkError()?this._afterSync():void 0;var At=this;return w.nextTick((function(){At._process(),At._after()})),this},et.prototype._afterSync=function(){var at=this.strm.avail_out,ot=this.strm.avail_in;return this.write_in_progress=!1,[ot,at]},et.prototype._process=function(){var at=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=U.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(at=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(at===null)break;if(this.strm.input[at]!==V){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,at++,this.strm.avail_in===1)break;case 1:if(at===null)break;this.strm.input[at]===J?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=H.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=H.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=H.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=H.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},et.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},et.prototype._after=function(){if(this._checkError()){var at=this.strm.avail_out,ot=this.strm.avail_in;this.write_in_progress=!1,this.callback(ot,at),this.pending_close&&this.close()}},et.prototype._error=function(at){this.strm.msg&&(at=this.strm.msg),this.onerror(at,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},et.prototype.init=function(at,ot,ut,yt,vt){P(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),P(at>=8&&at<=15,"invalid windowBits"),P(ot>=-1&&ot<=9,"invalid compression level"),P(ut>=1&&ut<=9,"invalid memlevel"),P(yt===g.Z_FILTERED||yt===g.Z_HUFFMAN_ONLY||yt===g.Z_RLE||yt===g.Z_FIXED||yt===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ot,at,ut,yt,vt),this._setDictionary()},et.prototype.params=function(){throw new Error("deflateParams Not supported")},et.prototype.reset=function(){this._reset(),this._setDictionary()},et.prototype._init=function(at,ot,ut,yt,vt){switch(this.level=at,this.windowBits=ot,this.memLevel=ut,this.strategy=yt,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new F,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=U.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=H.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=vt,this.write_in_progress=!1,this.init_done=!0},et.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=U.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},et.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=U.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=H.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=et}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var D=d("buffer").Buffer,P=d("stream").Transform,F=d("./binding"),U=d("util"),H=d("assert").ok,q=d("buffer").kMaxLength,X="Cannot create final Buffer. It would be larger than 0x"+q.toString(16)+" bytes";F.Z_MIN_WINDOWBITS=8,F.Z_MAX_WINDOWBITS=15,F.Z_DEFAULT_WINDOWBITS=15,F.Z_MIN_CHUNK=64,F.Z_MAX_CHUNK=1/0,F.Z_DEFAULT_CHUNK=16384,F.Z_MIN_MEMLEVEL=1,F.Z_MAX_MEMLEVEL=9,F.Z_DEFAULT_MEMLEVEL=8,F.Z_MIN_LEVEL=-1,F.Z_MAX_LEVEL=9,F.Z_DEFAULT_LEVEL=F.Z_DEFAULT_COMPRESSION;for(var V=Object.keys(F),J=0;J<V.length;J++){var et=V[J];et.match(/^Z/)&&Object.defineProperty(g,et,{enumerable:!0,value:F[et],writable:!1})}for(var at={Z_OK:F.Z_OK,Z_STREAM_END:F.Z_STREAM_END,Z_NEED_DICT:F.Z_NEED_DICT,Z_ERRNO:F.Z_ERRNO,Z_STREAM_ERROR:F.Z_STREAM_ERROR,Z_DATA_ERROR:F.Z_DATA_ERROR,Z_MEM_ERROR:F.Z_MEM_ERROR,Z_BUF_ERROR:F.Z_BUF_ERROR,Z_VERSION_ERROR:F.Z_VERSION_ERROR},ot=Object.keys(at),ut=0;ut<ot.length;ut++){var yt=ot[ut];at[at[yt]]=yt}function vt(Ot,Ct,Jt){var Kt=[],Qt=0;function pe(){for(var fe;(fe=Ot.read())!==null;)Kt.push(fe),Qt+=fe.length;Ot.once("readable",pe)}function $t(fe){Ot.removeListener("end",Wt),Ot.removeListener("readable",pe),Jt(fe)}function Wt(){var fe,oe=null;Qt>=q?oe=new RangeError(X):fe=D.concat(Kt,Qt),Kt=[],Ot.close(),Jt(oe,fe)}Ot.on("error",$t),Ot.on("end",Wt),Ot.end(Ct),pe()}function mt(Ot,Ct){if(typeof Ct=="string"&&(Ct=D.from(Ct)),!D.isBuffer(Ct))throw new TypeError("Not a string or buffer");var Jt=Ot._finishFlushFlag;return Ot._processChunk(Ct,Jt)}function dt(Ot){if(!(this instanceof dt))return new dt(Ot);It.call(this,Ot,F.DEFLATE)}function gt(Ot){if(!(this instanceof gt))return new gt(Ot);It.call(this,Ot,F.INFLATE)}function At(Ot){if(!(this instanceof At))return new At(Ot);It.call(this,Ot,F.GZIP)}function _t(Ot){if(!(this instanceof _t))return new _t(Ot);It.call(this,Ot,F.GUNZIP)}function Mt(Ot){if(!(this instanceof Mt))return new Mt(Ot);It.call(this,Ot,F.DEFLATERAW)}function wt(Ot){if(!(this instanceof wt))return new wt(Ot);It.call(this,Ot,F.INFLATERAW)}function zt(Ot){if(!(this instanceof zt))return new zt(Ot);It.call(this,Ot,F.UNZIP)}function ht(Ot){return Ot===F.Z_NO_FLUSH||Ot===F.Z_PARTIAL_FLUSH||Ot===F.Z_SYNC_FLUSH||Ot===F.Z_FULL_FLUSH||Ot===F.Z_FINISH||Ot===F.Z_BLOCK}function It(Ot,Ct){var Jt=this;if(this._opts=Ot=Ot||{},this._chunkSize=Ot.chunkSize||g.Z_DEFAULT_CHUNK,P.call(this,Ot),Ot.flush&&!ht(Ot.flush))throw new Error("Invalid flush flag: "+Ot.flush);if(Ot.finishFlush&&!ht(Ot.finishFlush))throw new Error("Invalid flush flag: "+Ot.finishFlush);if(this._flushFlag=Ot.flush||F.Z_NO_FLUSH,this._finishFlushFlag=Ot.finishFlush!==void 0?Ot.finishFlush:F.Z_FINISH,Ot.chunkSize&&(Ot.chunkSize<g.Z_MIN_CHUNK||Ot.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Ot.chunkSize);if(Ot.windowBits&&(Ot.windowBits<g.Z_MIN_WINDOWBITS||Ot.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Ot.windowBits);if(Ot.level&&(Ot.level<g.Z_MIN_LEVEL||Ot.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Ot.level);if(Ot.memLevel&&(Ot.memLevel<g.Z_MIN_MEMLEVEL||Ot.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Ot.memLevel);if(Ot.strategy&&Ot.strategy!=g.Z_FILTERED&&Ot.strategy!=g.Z_HUFFMAN_ONLY&&Ot.strategy!=g.Z_RLE&&Ot.strategy!=g.Z_FIXED&&Ot.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Ot.strategy);if(Ot.dictionary&&!D.isBuffer(Ot.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new F.Zlib(Ct);var Kt=this;this._hadError=!1,this._handle.onerror=function($t,Wt){qt(Kt),Kt._hadError=!0;var fe=new Error($t);fe.errno=Wt,fe.code=g.codes[Wt],Kt.emit("error",fe)};var Qt=g.Z_DEFAULT_COMPRESSION;typeof Ot.level=="number"&&(Qt=Ot.level);var pe=g.Z_DEFAULT_STRATEGY;typeof Ot.strategy=="number"&&(pe=Ot.strategy),this._handle.init(Ot.windowBits||g.Z_DEFAULT_WINDOWBITS,Qt,Ot.memLevel||g.Z_DEFAULT_MEMLEVEL,pe,Ot.dictionary),this._buffer=D.allocUnsafe(this._chunkSize),this._offset=0,this._level=Qt,this._strategy=pe,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Jt._handle},configurable:!0,enumerable:!0})}function qt(Ot,Ct){Ct&&w.nextTick(Ct),Ot._handle&&(Ot._handle.close(),Ot._handle=null)}function Nt(Ot){Ot.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(at),writable:!1}),g.Deflate=dt,g.Inflate=gt,g.Gzip=At,g.Gunzip=_t,g.DeflateRaw=Mt,g.InflateRaw=wt,g.Unzip=zt,g.createDeflate=function(Ot){return new dt(Ot)},g.createInflate=function(Ot){return new gt(Ot)},g.createDeflateRaw=function(Ot){return new Mt(Ot)},g.createInflateRaw=function(Ot){return new wt(Ot)},g.createGzip=function(Ot){return new At(Ot)},g.createGunzip=function(Ot){return new _t(Ot)},g.createUnzip=function(Ot){return new zt(Ot)},g.deflate=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new dt(Ct),Ot,Jt)},g.deflateSync=function(Ot,Ct){return mt(new dt(Ct),Ot)},g.gzip=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new At(Ct),Ot,Jt)},g.gzipSync=function(Ot,Ct){return mt(new At(Ct),Ot)},g.deflateRaw=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new Mt(Ct),Ot,Jt)},g.deflateRawSync=function(Ot,Ct){return mt(new Mt(Ct),Ot)},g.unzip=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new zt(Ct),Ot,Jt)},g.unzipSync=function(Ot,Ct){return mt(new zt(Ct),Ot)},g.inflate=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new gt(Ct),Ot,Jt)},g.inflateSync=function(Ot,Ct){return mt(new gt(Ct),Ot)},g.gunzip=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new _t(Ct),Ot,Jt)},g.gunzipSync=function(Ot,Ct){return mt(new _t(Ct),Ot)},g.inflateRaw=function(Ot,Ct,Jt){return typeof Ct=="function"&&(Jt=Ct,Ct={}),vt(new wt(Ct),Ot,Jt)},g.inflateRawSync=function(Ot,Ct){return mt(new wt(Ct),Ot)},U.inherits(It,P),It.prototype.params=function(Ot,Ct,Jt){if(Ot<g.Z_MIN_LEVEL||Ot>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Ot);if(Ct!=g.Z_FILTERED&&Ct!=g.Z_HUFFMAN_ONLY&&Ct!=g.Z_RLE&&Ct!=g.Z_FIXED&&Ct!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Ct);if(this._level!==Ot||this._strategy!==Ct){var Kt=this;this.flush(F.Z_SYNC_FLUSH,(function(){H(Kt._handle,"zlib binding closed"),Kt._handle.params(Ot,Ct),Kt._hadError||(Kt._level=Ot,Kt._strategy=Ct,Jt&&Jt())}))}else w.nextTick(Jt)},It.prototype.reset=function(){return H(this._handle,"zlib binding closed"),this._handle.reset()},It.prototype._flush=function(Ot){this._transform(D.alloc(0),"",Ot)},It.prototype.flush=function(Ot,Ct){var Jt=this,Kt=this._writableState;(typeof Ot=="function"||Ot===void 0&&!Ct)&&(Ct=Ot,Ot=F.Z_FULL_FLUSH),Kt.ended?Ct&&w.nextTick(Ct):Kt.ending?Ct&&this.once("end",Ct):Kt.needDrain?Ct&&this.once("drain",(function(){return Jt.flush(Ot,Ct)})):(this._flushFlag=Ot,this.write(D.alloc(0),"",Ct))},It.prototype.close=function(Ot){qt(this,Ot),w.nextTick(Nt,this)},It.prototype._transform=function(Ot,Ct,Jt){var Kt,Qt=this._writableState,pe=(Qt.ending||Qt.ended)&&(!Ot||Qt.length===Ot.length);return Ot===null||D.isBuffer(Ot)?this._handle?(pe?Kt=this._finishFlushFlag:(Kt=this._flushFlag,Ot.length>=Qt.length&&(this._flushFlag=this._opts.flush||F.Z_NO_FLUSH)),void this._processChunk(Ot,Kt,Jt)):Jt(new Error("zlib binding closed")):Jt(new Error("invalid input"))},It.prototype._processChunk=function(Ot,Ct,Jt){var Kt=Ot&&Ot.length,Qt=this._chunkSize-this._offset,pe=0,$t=this,Wt=typeof Jt=="function";if(!Wt){var fe,oe=[],Xt=0;this.on("error",(function(he){fe=he})),H(this._handle,"zlib binding closed");do var ne=this._handle.writeSync(Ct,Ot,pe,Kt,this._buffer,this._offset,Qt);while(!this._hadError&&$e(ne[0],ne[1]));if(this._hadError)throw fe;if(Xt>=q)throw qt(this),new RangeError(X);var ye=D.concat(oe,Xt);return qt(this),ye}H(this._handle,"zlib binding closed");var Ie=this._handle.write(Ct,Ot,pe,Kt,this._buffer,this._offset,Qt);function $e(he,xt){if(this&&(this.buffer=null,this.callback=null),!$t._hadError){var ue=Qt-xt;if(H(ue>=0,"have should not go down"),ue>0){var Ft=$t._buffer.slice($t._offset,$t._offset+ue);$t._offset+=ue,Wt?$t.push(Ft):(oe.push(Ft),Xt+=Ft.length)}if((xt===0||$t._offset>=$t._chunkSize)&&(Qt=$t._chunkSize,$t._offset=0,$t._buffer=D.allocUnsafe($t._chunkSize)),xt===0){if(pe+=Kt-he,Kt=he,!Wt)return!0;var Ut=$t._handle.write(Ct,Ot,pe,Kt,$t._buffer,$t._offset,$t._chunkSize);return Ut.callback=$e,void(Ut.buffer=Ot)}if(!Wt)return!1;Jt()}}Ie.buffer=Ot,Ie.callback=$e},U.inherits(dt,It),U.inherits(gt,It),U.inherits(At,It),U.inherits(_t,It),U.inherits(Mt,It),U.inherits(wt,It),U.inherits(zt,It)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var D=d("base64-js"),P=d("ieee754");g.Buffer=q,g.SlowBuffer=mt,g.INSPECT_MAX_BYTES=50;var F=2147483647;function U(){try{var pt=new Uint8Array(1);return pt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},pt.foo()===42}catch{return!1}}function H(pt){if(pt>F)throw new RangeError('The value "'+pt+'" is invalid for option "size"');var Rt=new Uint8Array(pt);return Rt.__proto__=q.prototype,Rt}function q(pt,Rt,Gt){if(typeof pt=="number"){if(typeof Rt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return et(pt)}return X(pt,Rt,Gt)}function X(pt,Rt,Gt){if(typeof pt=="string")return at(pt,Rt);if(ArrayBuffer.isView(pt))return ot(pt);if(pt==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pt);if(Vt(pt,ArrayBuffer)||pt&&Vt(pt.buffer,ArrayBuffer))return ut(pt,Rt,Gt);if(typeof pt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var jt=pt.valueOf&&pt.valueOf();if(jt!=null&&jt!==pt)return q.from(jt,Rt,Gt);var xe=yt(pt);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof pt[Symbol.toPrimitive]=="function")return q.from(pt[Symbol.toPrimitive]("string"),Rt,Gt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pt)}function V(pt){if(typeof pt!="number")throw new TypeError('"size" argument must be of type number');if(pt<0)throw new RangeError('The value "'+pt+'" is invalid for option "size"')}function J(pt,Rt,Gt){return V(pt),pt<=0?H(pt):Rt!==void 0?typeof Gt=="string"?H(pt).fill(Rt,Gt):H(pt).fill(Rt):H(pt)}function et(pt){return V(pt),H(pt<0?0:0|vt(pt))}function at(pt,Rt){if(typeof Rt=="string"&&Rt!==""||(Rt="utf8"),!q.isEncoding(Rt))throw new TypeError("Unknown encoding: "+Rt);var Gt=0|dt(pt,Rt),jt=H(Gt),xe=jt.write(pt,Rt);return xe!==Gt&&(jt=jt.slice(0,xe)),jt}function ot(pt){for(var Rt=pt.length<0?0:0|vt(pt.length),Gt=H(Rt),jt=0;jt<Rt;jt+=1)Gt[jt]=255&pt[jt];return Gt}function ut(pt,Rt,Gt){if(Rt<0||pt.byteLength<Rt)throw new RangeError('"offset" is outside of buffer bounds');if(pt.byteLength<Rt+(Gt||0))throw new RangeError('"length" is outside of buffer bounds');var jt;return(jt=Rt===void 0&&Gt===void 0?new Uint8Array(pt):Gt===void 0?new Uint8Array(pt,Rt):new Uint8Array(pt,Rt,Gt)).__proto__=q.prototype,jt}function yt(pt){if(q.isBuffer(pt)){var Rt=0|vt(pt.length),Gt=H(Rt);return Gt.length===0||pt.copy(Gt,0,0,Rt),Gt}return pt.length!==void 0?typeof pt.length!="number"||ge(pt.length)?H(0):ot(pt):pt.type==="Buffer"&&Array.isArray(pt.data)?ot(pt.data):void 0}function vt(pt){if(pt>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return 0|pt}function mt(pt){return+pt!=pt&&(pt=0),q.alloc(+pt)}function dt(pt,Rt){if(q.isBuffer(pt))return pt.length;if(ArrayBuffer.isView(pt)||Vt(pt,ArrayBuffer))return pt.byteLength;if(typeof pt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof pt);var Gt=pt.length,jt=arguments.length>2&&arguments[2]===!0;if(!jt&&Gt===0)return 0;for(var xe=!1;;)switch(Rt){case"ascii":case"latin1":case"binary":return Gt;case"utf8":case"utf-8":return xt(pt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Gt;case"hex":return Gt>>>1;case"base64":return Ut(pt).length;default:if(xe)return jt?-1:xt(pt).length;Rt=(""+Rt).toLowerCase(),xe=!0}}function gt(pt,Rt,Gt){var jt=!1;if((Rt===void 0||Rt<0)&&(Rt=0),Rt>this.length||((Gt===void 0||Gt>this.length)&&(Gt=this.length),Gt<=0)||(Gt>>>=0)<=(Rt>>>=0))return"";for(pt||(pt="utf8");;)switch(pt){case"hex":return $t(this,Rt,Gt);case"utf8":case"utf-8":return Ct(this,Rt,Gt);case"ascii":return Qt(this,Rt,Gt);case"latin1":case"binary":return pe(this,Rt,Gt);case"base64":return Ot(this,Rt,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,Rt,Gt);default:if(jt)throw new TypeError("Unknown encoding: "+pt);pt=(pt+"").toLowerCase(),jt=!0}}function At(pt,Rt,Gt){var jt=pt[Rt];pt[Rt]=pt[Gt],pt[Gt]=jt}function _t(pt,Rt,Gt,jt,xe){if(pt.length===0)return-1;if(typeof Gt=="string"?(jt=Gt,Gt=0):Gt>2147483647?Gt=2147483647:Gt<-2147483648&&(Gt=-2147483648),ge(Gt=+Gt)&&(Gt=xe?0:pt.length-1),Gt<0&&(Gt=pt.length+Gt),Gt>=pt.length){if(xe)return-1;Gt=pt.length-1}else if(Gt<0){if(!xe)return-1;Gt=0}if(typeof Rt=="string"&&(Rt=q.from(Rt,jt)),q.isBuffer(Rt))return Rt.length===0?-1:Mt(pt,Rt,Gt,jt,xe);if(typeof Rt=="number")return Rt&=255,typeof Uint8Array.prototype.indexOf=="function"?xe?Uint8Array.prototype.indexOf.call(pt,Rt,Gt):Uint8Array.prototype.lastIndexOf.call(pt,Rt,Gt):Mt(pt,[Rt],Gt,jt,xe);throw new TypeError("val must be string, number or Buffer")}function Mt(pt,Rt,Gt,jt,xe){var Be,oi=1,mi=pt.length,li=Rt.length;if(jt!==void 0&&((jt=String(jt).toLowerCase())==="ucs2"||jt==="ucs-2"||jt==="utf16le"||jt==="utf-16le")){if(pt.length<2||Rt.length<2)return-1;oi=2,mi/=2,li/=2,Gt/=2}function gi(Ti,Bi){return oi===1?Ti[Bi]:Ti.readUInt16BE(Bi*oi)}if(xe){var We=-1;for(Be=Gt;Be<mi;Be++)if(gi(pt,Be)===gi(Rt,We===-1?0:Be-We)){if(We===-1&&(We=Be),Be-We+1===li)return We*oi}else We!==-1&&(Be-=Be-We),We=-1}else for(Gt+li>mi&&(Gt=mi-li),Be=Gt;Be>=0;Be--){for(var Ii=!0,Si=0;Si<li;Si++)if(gi(pt,Be+Si)!==gi(Rt,Si)){Ii=!1;break}if(Ii)return Be}return-1}function wt(pt,Rt,Gt,jt){Gt=Number(Gt)||0;var xe=pt.length-Gt;jt?(jt=Number(jt))>xe&&(jt=xe):jt=xe;var Be=Rt.length;jt>Be/2&&(jt=Be/2);for(var oi=0;oi<jt;++oi){var mi=parseInt(Rt.substr(2*oi,2),16);if(ge(mi))return oi;pt[Gt+oi]=mi}return oi}function zt(pt,Rt,Gt,jt){return Lt(xt(Rt,pt.length-Gt),pt,Gt,jt)}function ht(pt,Rt,Gt,jt){return Lt(ue(Rt),pt,Gt,jt)}function It(pt,Rt,Gt,jt){return ht(pt,Rt,Gt,jt)}function qt(pt,Rt,Gt,jt){return Lt(Ut(Rt),pt,Gt,jt)}function Nt(pt,Rt,Gt,jt){return Lt(Ft(Rt,pt.length-Gt),pt,Gt,jt)}function Ot(pt,Rt,Gt){return Rt===0&&Gt===pt.length?D.fromByteArray(pt):D.fromByteArray(pt.slice(Rt,Gt))}function Ct(pt,Rt,Gt){Gt=Math.min(pt.length,Gt);for(var jt=[],xe=Rt;xe<Gt;){var Be,oi,mi,li,gi=pt[xe],We=null,Ii=gi>239?4:gi>223?3:gi>191?2:1;if(xe+Ii<=Gt)switch(Ii){case 1:gi<128&&(We=gi);break;case 2:(192&(Be=pt[xe+1]))==128&&(li=(31&gi)<<6|63&Be)>127&&(We=li);break;case 3:Be=pt[xe+1],oi=pt[xe+2],(192&Be)==128&&(192&oi)==128&&(li=(15&gi)<<12|(63&Be)<<6|63&oi)>2047&&(li<55296||li>57343)&&(We=li);break;case 4:Be=pt[xe+1],oi=pt[xe+2],mi=pt[xe+3],(192&Be)==128&&(192&oi)==128&&(192&mi)==128&&(li=(15&gi)<<18|(63&Be)<<12|(63&oi)<<6|63&mi)>65535&&li<1114112&&(We=li)}We===null?(We=65533,Ii=1):We>65535&&(We-=65536,jt.push(We>>>10&1023|55296),We=56320|1023&We),jt.push(We),xe+=Ii}return Kt(jt)}g.kMaxLength=F,q.TYPED_ARRAY_SUPPORT=U(),q.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(q.prototype,"parent",{enumerable:!0,get:function(){if(q.isBuffer(this))return this.buffer}}),Object.defineProperty(q.prototype,"offset",{enumerable:!0,get:function(){if(q.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&q[Symbol.species]===q&&Object.defineProperty(q,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),q.poolSize=8192,q.from=function(pt,Rt,Gt){return X(pt,Rt,Gt)},q.prototype.__proto__=Uint8Array.prototype,q.__proto__=Uint8Array,q.alloc=function(pt,Rt,Gt){return J(pt,Rt,Gt)},q.allocUnsafe=function(pt){return et(pt)},q.allocUnsafeSlow=function(pt){return et(pt)},q.isBuffer=function(pt){return pt!=null&&pt._isBuffer===!0&&pt!==q.prototype},q.compare=function(pt,Rt){if(Vt(pt,Uint8Array)&&(pt=q.from(pt,pt.offset,pt.byteLength)),Vt(Rt,Uint8Array)&&(Rt=q.from(Rt,Rt.offset,Rt.byteLength)),!q.isBuffer(pt)||!q.isBuffer(Rt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pt===Rt)return 0;for(var Gt=pt.length,jt=Rt.length,xe=0,Be=Math.min(Gt,jt);xe<Be;++xe)if(pt[xe]!==Rt[xe]){Gt=pt[xe],jt=Rt[xe];break}return Gt<jt?-1:jt<Gt?1:0},q.isEncoding=function(pt){switch(String(pt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},q.concat=function(pt,Rt){if(!Array.isArray(pt))throw new TypeError('"list" argument must be an Array of Buffers');if(pt.length===0)return q.alloc(0);var Gt;if(Rt===void 0)for(Rt=0,Gt=0;Gt<pt.length;++Gt)Rt+=pt[Gt].length;var jt=q.allocUnsafe(Rt),xe=0;for(Gt=0;Gt<pt.length;++Gt){var Be=pt[Gt];if(Vt(Be,Uint8Array)&&(Be=q.from(Be)),!q.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(jt,xe),xe+=Be.length}return jt},q.byteLength=dt,q.prototype._isBuffer=!0,q.prototype.swap16=function(){var pt=this.length;if(pt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Rt=0;Rt<pt;Rt+=2)At(this,Rt,Rt+1);return this},q.prototype.swap32=function(){var pt=this.length;if(pt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Rt=0;Rt<pt;Rt+=4)At(this,Rt,Rt+3),At(this,Rt+1,Rt+2);return this},q.prototype.swap64=function(){var pt=this.length;if(pt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Rt=0;Rt<pt;Rt+=8)At(this,Rt,Rt+7),At(this,Rt+1,Rt+6),At(this,Rt+2,Rt+5),At(this,Rt+3,Rt+4);return this},q.prototype.toString=function(){var pt=this.length;return pt===0?"":arguments.length===0?Ct(this,0,pt):gt.apply(this,arguments)},q.prototype.toLocaleString=q.prototype.toString,q.prototype.equals=function(pt){if(!q.isBuffer(pt))throw new TypeError("Argument must be a Buffer");return this===pt||q.compare(this,pt)===0},q.prototype.inspect=function(){var pt="",Rt=g.INSPECT_MAX_BYTES;return pt=this.toString("hex",0,Rt).replace(/(.{2})/g,"$1 ").trim(),this.length>Rt&&(pt+=" ... "),"<Buffer "+pt+">"},q.prototype.compare=function(pt,Rt,Gt,jt,xe){if(Vt(pt,Uint8Array)&&(pt=q.from(pt,pt.offset,pt.byteLength)),!q.isBuffer(pt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof pt);if(Rt===void 0&&(Rt=0),Gt===void 0&&(Gt=pt?pt.length:0),jt===void 0&&(jt=0),xe===void 0&&(xe=this.length),Rt<0||Gt>pt.length||jt<0||xe>this.length)throw new RangeError("out of range index");if(jt>=xe&&Rt>=Gt)return 0;if(jt>=xe)return-1;if(Rt>=Gt)return 1;if(this===pt)return 0;for(var Be=(xe>>>=0)-(jt>>>=0),oi=(Gt>>>=0)-(Rt>>>=0),mi=Math.min(Be,oi),li=this.slice(jt,xe),gi=pt.slice(Rt,Gt),We=0;We<mi;++We)if(li[We]!==gi[We]){Be=li[We],oi=gi[We];break}return Be<oi?-1:oi<Be?1:0},q.prototype.includes=function(pt,Rt,Gt){return this.indexOf(pt,Rt,Gt)!==-1},q.prototype.indexOf=function(pt,Rt,Gt){return _t(this,pt,Rt,Gt,!0)},q.prototype.lastIndexOf=function(pt,Rt,Gt){return _t(this,pt,Rt,Gt,!1)},q.prototype.write=function(pt,Rt,Gt,jt){if(Rt===void 0)jt="utf8",Gt=this.length,Rt=0;else if(Gt===void 0&&typeof Rt=="string")jt=Rt,Gt=this.length,Rt=0;else{if(!isFinite(Rt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Rt>>>=0,isFinite(Gt)?(Gt>>>=0,jt===void 0&&(jt="utf8")):(jt=Gt,Gt=void 0)}var xe=this.length-Rt;if((Gt===void 0||Gt>xe)&&(Gt=xe),pt.length>0&&(Gt<0||Rt<0)||Rt>this.length)throw new RangeError("Attempt to write outside buffer bounds");jt||(jt="utf8");for(var Be=!1;;)switch(jt){case"hex":return wt(this,pt,Rt,Gt);case"utf8":case"utf-8":return zt(this,pt,Rt,Gt);case"ascii":return ht(this,pt,Rt,Gt);case"latin1":case"binary":return It(this,pt,Rt,Gt);case"base64":return qt(this,pt,Rt,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,pt,Rt,Gt);default:if(Be)throw new TypeError("Unknown encoding: "+jt);jt=(""+jt).toLowerCase(),Be=!0}},q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Jt=4096;function Kt(pt){var Rt=pt.length;if(Rt<=Jt)return String.fromCharCode.apply(String,pt);for(var Gt="",jt=0;jt<Rt;)Gt+=String.fromCharCode.apply(String,pt.slice(jt,jt+=Jt));return Gt}function Qt(pt,Rt,Gt){var jt="";Gt=Math.min(pt.length,Gt);for(var xe=Rt;xe<Gt;++xe)jt+=String.fromCharCode(127&pt[xe]);return jt}function pe(pt,Rt,Gt){var jt="";Gt=Math.min(pt.length,Gt);for(var xe=Rt;xe<Gt;++xe)jt+=String.fromCharCode(pt[xe]);return jt}function $t(pt,Rt,Gt){var jt=pt.length;(!Rt||Rt<0)&&(Rt=0),(!Gt||Gt<0||Gt>jt)&&(Gt=jt);for(var xe="",Be=Rt;Be<Gt;++Be)xe+=he(pt[Be]);return xe}function Wt(pt,Rt,Gt){for(var jt=pt.slice(Rt,Gt),xe="",Be=0;Be<jt.length;Be+=2)xe+=String.fromCharCode(jt[Be]+256*jt[Be+1]);return xe}function fe(pt,Rt,Gt){if(pt%1!=0||pt<0)throw new RangeError("offset is not uint");if(pt+Rt>Gt)throw new RangeError("Trying to access beyond buffer length")}function oe(pt,Rt,Gt,jt,xe,Be){if(!q.isBuffer(pt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Rt>xe||Rt<Be)throw new RangeError('"value" argument is out of bounds');if(Gt+jt>pt.length)throw new RangeError("Index out of range")}function Xt(pt,Rt,Gt,jt,xe,Be){if(Gt+jt>pt.length)throw new RangeError("Index out of range");if(Gt<0)throw new RangeError("Index out of range")}function ne(pt,Rt,Gt,jt,xe){return Rt=+Rt,Gt>>>=0,xe||Xt(pt,Rt,Gt,4),P.write(pt,Rt,Gt,jt,23,4),Gt+4}function ye(pt,Rt,Gt,jt,xe){return Rt=+Rt,Gt>>>=0,xe||Xt(pt,Rt,Gt,8),P.write(pt,Rt,Gt,jt,52,8),Gt+8}q.prototype.slice=function(pt,Rt){var Gt=this.length;(pt=~~pt)<0?(pt+=Gt)<0&&(pt=0):pt>Gt&&(pt=Gt),(Rt=Rt===void 0?Gt:~~Rt)<0?(Rt+=Gt)<0&&(Rt=0):Rt>Gt&&(Rt=Gt),Rt<pt&&(Rt=pt);var jt=this.subarray(pt,Rt);return jt.__proto__=q.prototype,jt},q.prototype.readUIntLE=function(pt,Rt,Gt){pt>>>=0,Rt>>>=0,Gt||fe(pt,Rt,this.length);for(var jt=this[pt],xe=1,Be=0;++Be<Rt&&(xe*=256);)jt+=this[pt+Be]*xe;return jt},q.prototype.readUIntBE=function(pt,Rt,Gt){pt>>>=0,Rt>>>=0,Gt||fe(pt,Rt,this.length);for(var jt=this[pt+--Rt],xe=1;Rt>0&&(xe*=256);)jt+=this[pt+--Rt]*xe;return jt},q.prototype.readUInt8=function(pt,Rt){return pt>>>=0,Rt||fe(pt,1,this.length),this[pt]},q.prototype.readUInt16LE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,2,this.length),this[pt]|this[pt+1]<<8},q.prototype.readUInt16BE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,2,this.length),this[pt]<<8|this[pt+1]},q.prototype.readUInt32LE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),(this[pt]|this[pt+1]<<8|this[pt+2]<<16)+16777216*this[pt+3]},q.prototype.readUInt32BE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),16777216*this[pt]+(this[pt+1]<<16|this[pt+2]<<8|this[pt+3])},q.prototype.readIntLE=function(pt,Rt,Gt){pt>>>=0,Rt>>>=0,Gt||fe(pt,Rt,this.length);for(var jt=this[pt],xe=1,Be=0;++Be<Rt&&(xe*=256);)jt+=this[pt+Be]*xe;return jt>=(xe*=128)&&(jt-=Math.pow(2,8*Rt)),jt},q.prototype.readIntBE=function(pt,Rt,Gt){pt>>>=0,Rt>>>=0,Gt||fe(pt,Rt,this.length);for(var jt=Rt,xe=1,Be=this[pt+--jt];jt>0&&(xe*=256);)Be+=this[pt+--jt]*xe;return Be>=(xe*=128)&&(Be-=Math.pow(2,8*Rt)),Be},q.prototype.readInt8=function(pt,Rt){return pt>>>=0,Rt||fe(pt,1,this.length),128&this[pt]?-1*(255-this[pt]+1):this[pt]},q.prototype.readInt16LE=function(pt,Rt){pt>>>=0,Rt||fe(pt,2,this.length);var Gt=this[pt]|this[pt+1]<<8;return 32768&Gt?4294901760|Gt:Gt},q.prototype.readInt16BE=function(pt,Rt){pt>>>=0,Rt||fe(pt,2,this.length);var Gt=this[pt+1]|this[pt]<<8;return 32768&Gt?4294901760|Gt:Gt},q.prototype.readInt32LE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),this[pt]|this[pt+1]<<8|this[pt+2]<<16|this[pt+3]<<24},q.prototype.readInt32BE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),this[pt]<<24|this[pt+1]<<16|this[pt+2]<<8|this[pt+3]},q.prototype.readFloatLE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),P.read(this,pt,!0,23,4)},q.prototype.readFloatBE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,4,this.length),P.read(this,pt,!1,23,4)},q.prototype.readDoubleLE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,8,this.length),P.read(this,pt,!0,52,8)},q.prototype.readDoubleBE=function(pt,Rt){return pt>>>=0,Rt||fe(pt,8,this.length),P.read(this,pt,!1,52,8)},q.prototype.writeUIntLE=function(pt,Rt,Gt,jt){pt=+pt,Rt>>>=0,Gt>>>=0,jt||oe(this,pt,Rt,Gt,Math.pow(2,8*Gt)-1,0);var xe=1,Be=0;for(this[Rt]=255&pt;++Be<Gt&&(xe*=256);)this[Rt+Be]=pt/xe&255;return Rt+Gt},q.prototype.writeUIntBE=function(pt,Rt,Gt,jt){pt=+pt,Rt>>>=0,Gt>>>=0,jt||oe(this,pt,Rt,Gt,Math.pow(2,8*Gt)-1,0);var xe=Gt-1,Be=1;for(this[Rt+xe]=255&pt;--xe>=0&&(Be*=256);)this[Rt+xe]=pt/Be&255;return Rt+Gt},q.prototype.writeUInt8=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,1,255,0),this[Rt]=255&pt,Rt+1},q.prototype.writeUInt16LE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,2,65535,0),this[Rt]=255&pt,this[Rt+1]=pt>>>8,Rt+2},q.prototype.writeUInt16BE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,2,65535,0),this[Rt]=pt>>>8,this[Rt+1]=255&pt,Rt+2},q.prototype.writeUInt32LE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,4,4294967295,0),this[Rt+3]=pt>>>24,this[Rt+2]=pt>>>16,this[Rt+1]=pt>>>8,this[Rt]=255&pt,Rt+4},q.prototype.writeUInt32BE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,4,4294967295,0),this[Rt]=pt>>>24,this[Rt+1]=pt>>>16,this[Rt+2]=pt>>>8,this[Rt+3]=255&pt,Rt+4},q.prototype.writeIntLE=function(pt,Rt,Gt,jt){if(pt=+pt,Rt>>>=0,!jt){var xe=Math.pow(2,8*Gt-1);oe(this,pt,Rt,Gt,xe-1,-xe)}var Be=0,oi=1,mi=0;for(this[Rt]=255&pt;++Be<Gt&&(oi*=256);)pt<0&&mi===0&&this[Rt+Be-1]!==0&&(mi=1),this[Rt+Be]=(pt/oi|0)-mi&255;return Rt+Gt},q.prototype.writeIntBE=function(pt,Rt,Gt,jt){if(pt=+pt,Rt>>>=0,!jt){var xe=Math.pow(2,8*Gt-1);oe(this,pt,Rt,Gt,xe-1,-xe)}var Be=Gt-1,oi=1,mi=0;for(this[Rt+Be]=255&pt;--Be>=0&&(oi*=256);)pt<0&&mi===0&&this[Rt+Be+1]!==0&&(mi=1),this[Rt+Be]=(pt/oi|0)-mi&255;return Rt+Gt},q.prototype.writeInt8=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,1,127,-128),pt<0&&(pt=255+pt+1),this[Rt]=255&pt,Rt+1},q.prototype.writeInt16LE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,2,32767,-32768),this[Rt]=255&pt,this[Rt+1]=pt>>>8,Rt+2},q.prototype.writeInt16BE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,2,32767,-32768),this[Rt]=pt>>>8,this[Rt+1]=255&pt,Rt+2},q.prototype.writeInt32LE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,4,2147483647,-2147483648),this[Rt]=255&pt,this[Rt+1]=pt>>>8,this[Rt+2]=pt>>>16,this[Rt+3]=pt>>>24,Rt+4},q.prototype.writeInt32BE=function(pt,Rt,Gt){return pt=+pt,Rt>>>=0,Gt||oe(this,pt,Rt,4,2147483647,-2147483648),pt<0&&(pt=4294967295+pt+1),this[Rt]=pt>>>24,this[Rt+1]=pt>>>16,this[Rt+2]=pt>>>8,this[Rt+3]=255&pt,Rt+4},q.prototype.writeFloatLE=function(pt,Rt,Gt){return ne(this,pt,Rt,!0,Gt)},q.prototype.writeFloatBE=function(pt,Rt,Gt){return ne(this,pt,Rt,!1,Gt)},q.prototype.writeDoubleLE=function(pt,Rt,Gt){return ye(this,pt,Rt,!0,Gt)},q.prototype.writeDoubleBE=function(pt,Rt,Gt){return ye(this,pt,Rt,!1,Gt)},q.prototype.copy=function(pt,Rt,Gt,jt){if(!q.isBuffer(pt))throw new TypeError("argument should be a Buffer");if(Gt||(Gt=0),jt||jt===0||(jt=this.length),Rt>=pt.length&&(Rt=pt.length),Rt||(Rt=0),jt>0&&jt<Gt&&(jt=Gt),jt===Gt||pt.length===0||this.length===0)return 0;if(Rt<0)throw new RangeError("targetStart out of bounds");if(Gt<0||Gt>=this.length)throw new RangeError("Index out of range");if(jt<0)throw new RangeError("sourceEnd out of bounds");jt>this.length&&(jt=this.length),pt.length-Rt<jt-Gt&&(jt=pt.length-Rt+Gt);var xe=jt-Gt;if(this===pt&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Rt,Gt,jt);else if(this===pt&&Gt<Rt&&Rt<jt)for(var Be=xe-1;Be>=0;--Be)pt[Be+Rt]=this[Be+Gt];else Uint8Array.prototype.set.call(pt,this.subarray(Gt,jt),Rt);return xe},q.prototype.fill=function(pt,Rt,Gt,jt){if(typeof pt=="string"){if(typeof Rt=="string"?(jt=Rt,Rt=0,Gt=this.length):typeof Gt=="string"&&(jt=Gt,Gt=this.length),jt!==void 0&&typeof jt!="string")throw new TypeError("encoding must be a string");if(typeof jt=="string"&&!q.isEncoding(jt))throw new TypeError("Unknown encoding: "+jt);if(pt.length===1){var xe=pt.charCodeAt(0);(jt==="utf8"&&xe<128||jt==="latin1")&&(pt=xe)}}else typeof pt=="number"&&(pt&=255);if(Rt<0||this.length<Rt||this.length<Gt)throw new RangeError("Out of range index");if(Gt<=Rt)return this;var Be;if(Rt>>>=0,Gt=Gt===void 0?this.length:Gt>>>0,pt||(pt=0),typeof pt=="number")for(Be=Rt;Be<Gt;++Be)this[Be]=pt;else{var oi=q.isBuffer(pt)?pt:q.from(pt,jt),mi=oi.length;if(mi===0)throw new TypeError('The value "'+pt+'" is invalid for argument "value"');for(Be=0;Be<Gt-Rt;++Be)this[Be+Rt]=oi[Be%mi]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function $e(pt){if((pt=(pt=pt.split("=")[0]).trim().replace(Ie,"")).length<2)return"";for(;pt.length%4!=0;)pt+="=";return pt}function he(pt){return pt<16?"0"+pt.toString(16):pt.toString(16)}function xt(pt,Rt){var Gt;Rt=Rt||1/0;for(var jt=pt.length,xe=null,Be=[],oi=0;oi<jt;++oi){if((Gt=pt.charCodeAt(oi))>55295&&Gt<57344){if(!xe){if(Gt>56319){(Rt-=3)>-1&&Be.push(239,191,189);continue}if(oi+1===jt){(Rt-=3)>-1&&Be.push(239,191,189);continue}xe=Gt;continue}if(Gt<56320){(Rt-=3)>-1&&Be.push(239,191,189),xe=Gt;continue}Gt=65536+(xe-55296<<10|Gt-56320)}else xe&&(Rt-=3)>-1&&Be.push(239,191,189);if(xe=null,Gt<128){if((Rt-=1)<0)break;Be.push(Gt)}else if(Gt<2048){if((Rt-=2)<0)break;Be.push(Gt>>6|192,63&Gt|128)}else if(Gt<65536){if((Rt-=3)<0)break;Be.push(Gt>>12|224,Gt>>6&63|128,63&Gt|128)}else{if(!(Gt<1114112))throw new Error("Invalid code point");if((Rt-=4)<0)break;Be.push(Gt>>18|240,Gt>>12&63|128,Gt>>6&63|128,63&Gt|128)}}return Be}function ue(pt){for(var Rt=[],Gt=0;Gt<pt.length;++Gt)Rt.push(255&pt.charCodeAt(Gt));return Rt}function Ft(pt,Rt){for(var Gt,jt,xe,Be=[],oi=0;oi<pt.length&&!((Rt-=2)<0);++oi)jt=(Gt=pt.charCodeAt(oi))>>8,xe=Gt%256,Be.push(xe),Be.push(jt);return Be}function Ut(pt){return D.toByteArray($e(pt))}function Lt(pt,Rt,Gt,jt){for(var xe=0;xe<jt&&!(xe+Gt>=Rt.length||xe>=pt.length);++xe)Rt[xe+Gt]=pt[xe];return xe}function Vt(pt,Rt){return pt instanceof Rt||pt!=null&&pt.constructor!=null&&pt.constructor.name!=null&&pt.constructor.name===Rt.name}function ge(pt){return pt!=pt}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),D=d("./"),P=D(w("String.prototype.indexOf"));m.exports=function(F,U){var H=w(F,!!U);return typeof H=="function"&&P(F,".prototype.")>-1?D(H):H}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),D=d("get-intrinsic"),P=D("%Function.prototype.apply%"),F=D("%Function.prototype.call%"),U=D("%Reflect.apply%",!0)||w.call(F,P),H=D("%Object.getOwnPropertyDescriptor%",!0),q=D("%Object.defineProperty%",!0),X=D("%Math.max%");if(q)try{q({},"a",{value:1})}catch{q=null}m.exports=function(J){var et=U(w,F,arguments);return H&&q&&H(et,"length").configurable&&q(et,"length",{value:1+X(0,J.length-(arguments.length-1))}),et};var V=function(){return U(w,P,arguments)};q?q(m.exports,"apply",{value:V}):m.exports.apply=V},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,D=typeof Reflect=="object"?Reflect:null,P=D&&typeof D.apply=="function"?D.apply:function(_t,Mt,wt){return Function.prototype.apply.call(_t,Mt,wt)};function F(_t){console&&console.warn&&console.warn(_t)}w=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(_t){return Object.getOwnPropertyNames(_t).concat(Object.getOwnPropertySymbols(_t))}:function(_t){return Object.getOwnPropertyNames(_t)};var U=Number.isNaN||function(_t){return _t!=_t};function H(){H.init.call(this)}m.exports=H,m.exports.once=dt,H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var q=10;function X(_t){if(typeof _t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _t)}function V(_t){return _t._maxListeners===void 0?H.defaultMaxListeners:_t._maxListeners}function J(_t,Mt,wt,zt){var ht,It,qt;if(X(wt),(It=_t._events)===void 0?(It=_t._events=Object.create(null),_t._eventsCount=0):(It.newListener!==void 0&&(_t.emit("newListener",Mt,wt.listener?wt.listener:wt),It=_t._events),qt=It[Mt]),qt===void 0)qt=It[Mt]=wt,++_t._eventsCount;else if(typeof qt=="function"?qt=It[Mt]=zt?[wt,qt]:[qt,wt]:zt?qt.unshift(wt):qt.push(wt),(ht=V(_t))>0&&qt.length>ht&&!qt.warned){qt.warned=!0;var Nt=new Error("Possible EventEmitter memory leak detected. "+qt.length+" "+String(Mt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Nt.name="MaxListenersExceededWarning",Nt.emitter=_t,Nt.type=Mt,Nt.count=qt.length,F(Nt)}return _t}function et(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function at(_t,Mt,wt){var zt={fired:!1,wrapFn:void 0,target:_t,type:Mt,listener:wt},ht=et.bind(zt);return ht.listener=wt,zt.wrapFn=ht,ht}function ot(_t,Mt,wt){var zt=_t._events;if(zt===void 0)return[];var ht=zt[Mt];return ht===void 0?[]:typeof ht=="function"?wt?[ht.listener||ht]:[ht]:wt?mt(ht):yt(ht,ht.length)}function ut(_t){var Mt=this._events;if(Mt!==void 0){var wt=Mt[_t];if(typeof wt=="function")return 1;if(wt!==void 0)return wt.length}return 0}function yt(_t,Mt){for(var wt=new Array(Mt),zt=0;zt<Mt;++zt)wt[zt]=_t[zt];return wt}function vt(_t,Mt){for(;Mt+1<_t.length;Mt++)_t[Mt]=_t[Mt+1];_t.pop()}function mt(_t){for(var Mt=new Array(_t.length),wt=0;wt<Mt.length;++wt)Mt[wt]=_t[wt].listener||_t[wt];return Mt}function dt(_t,Mt){return new Promise((function(wt,zt){function ht(qt){_t.removeListener(Mt,It),zt(qt)}function It(){typeof _t.removeListener=="function"&&_t.removeListener("error",ht),wt([].slice.call(arguments))}At(_t,Mt,It,{once:!0}),Mt!=="error"&&gt(_t,ht,{once:!0})}))}function gt(_t,Mt,wt){typeof _t.on=="function"&&At(_t,"error",Mt,wt)}function At(_t,Mt,wt,zt){if(typeof _t.on=="function")zt.once?_t.once(Mt,wt):_t.on(Mt,wt);else{if(typeof _t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _t);_t.addEventListener(Mt,(function ht(It){zt.once&&_t.removeEventListener(Mt,ht),wt(It)}))}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return q},set:function(_t){if(typeof _t!="number"||_t<0||U(_t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_t+".");q=_t}}),H.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(_t){if(typeof _t!="number"||_t<0||U(_t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_t+".");return this._maxListeners=_t,this},H.prototype.getMaxListeners=function(){return V(this)},H.prototype.emit=function(_t){for(var Mt=[],wt=1;wt<arguments.length;wt++)Mt.push(arguments[wt]);var zt=_t==="error",ht=this._events;if(ht!==void 0)zt=zt&&ht.error===void 0;else if(!zt)return!1;if(zt){var It;if(Mt.length>0&&(It=Mt[0]),It instanceof Error)throw It;var qt=new Error("Unhandled error."+(It?" ("+It.message+")":""));throw qt.context=It,qt}var Nt=ht[_t];if(Nt===void 0)return!1;if(typeof Nt=="function")P(Nt,this,Mt);else{var Ot=Nt.length,Ct=yt(Nt,Ot);for(wt=0;wt<Ot;++wt)P(Ct[wt],this,Mt)}return!0},H.prototype.addListener=function(_t,Mt){return J(this,_t,Mt,!1)},H.prototype.on=H.prototype.addListener,H.prototype.prependListener=function(_t,Mt){return J(this,_t,Mt,!0)},H.prototype.once=function(_t,Mt){return X(Mt),this.on(_t,at(this,_t,Mt)),this},H.prototype.prependOnceListener=function(_t,Mt){return X(Mt),this.prependListener(_t,at(this,_t,Mt)),this},H.prototype.removeListener=function(_t,Mt){var wt,zt,ht,It,qt;if(X(Mt),(zt=this._events)===void 0)return this;if((wt=zt[_t])===void 0)return this;if(wt===Mt||wt.listener===Mt)--this._eventsCount==0?this._events=Object.create(null):(delete zt[_t],zt.removeListener&&this.emit("removeListener",_t,wt.listener||Mt));else if(typeof wt!="function"){for(ht=-1,It=wt.length-1;It>=0;It--)if(wt[It]===Mt||wt[It].listener===Mt){qt=wt[It].listener,ht=It;break}if(ht<0)return this;ht===0?wt.shift():vt(wt,ht),wt.length===1&&(zt[_t]=wt[0]),zt.removeListener!==void 0&&this.emit("removeListener",_t,qt||Mt)}return this},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(_t){var Mt,wt,zt;if((wt=this._events)===void 0)return this;if(wt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):wt[_t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete wt[_t]),this;if(arguments.length===0){var ht,It=Object.keys(wt);for(zt=0;zt<It.length;++zt)(ht=It[zt])!=="removeListener"&&this.removeAllListeners(ht);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Mt=wt[_t])=="function")this.removeListener(_t,Mt);else if(Mt!==void 0)for(zt=Mt.length-1;zt>=0;zt--)this.removeListener(_t,Mt[zt]);return this},H.prototype.listeners=function(_t){return ot(this,_t,!0)},H.prototype.rawListeners=function(_t){return ot(this,_t,!1)},H.listenerCount=function(_t,Mt){return typeof _t.listenerCount=="function"?_t.listenerCount(Mt):ut.call(_t,Mt)},H.prototype.listenerCount=ut,H.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),D=Object.prototype.toString,P=Object.prototype.hasOwnProperty,F=function(X,V,J){for(var et=0,at=X.length;et<at;et++)P.call(X,et)&&(J==null?V(X[et],et,X):V.call(J,X[et],et,X))},U=function(X,V,J){for(var et=0,at=X.length;et<at;et++)J==null?V(X.charAt(et),et,X):V.call(J,X.charAt(et),et,X)},H=function(X,V,J){for(var et in X)P.call(X,et)&&(J==null?V(X[et],et,X):V.call(J,X[et],et,X))},q=function(X,V,J){if(!w(V))throw new TypeError("iterator must be a function");var et;arguments.length>=3&&(et=J),D.call(X)==="[object Array]"?F(X,V,et):typeof X=="string"?U(X,V,et):H(X,V,et)};m.exports=q},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,P=Object.prototype.toString,F="[object Function]";m.exports=function(U){var H=this;if(typeof H!="function"||P.call(H)!==F)throw new TypeError(w+H);for(var q,X=D.call(arguments,1),V=function(){if(this instanceof q){var ut=H.apply(this,X.concat(D.call(arguments)));return Object(ut)===ut?ut:this}return H.apply(U,X.concat(D.call(arguments)))},J=Math.max(0,H.length-X.length),et=[],at=0;at<J;at++)et.push("$"+at);if(q=Function("binder","return function ("+et.join(",")+"){ return binder.apply(this,arguments); }")(V),H.prototype){var ot=function(){};ot.prototype=H.prototype,q.prototype=new ot,ot.prototype=null}return q}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,D=SyntaxError,P=Function,F=TypeError,U=function(Nt){try{return P('"use strict"; return ('+Nt+").constructor;")()}catch{}},H=Object.getOwnPropertyDescriptor;if(H)try{H({},"")}catch{H=null}var q=function(){throw new F},X=H?(function(){try{return q}catch{try{return H(arguments,"callee").get}catch{return q}}})():q,V=d("has-symbols")(),J=Object.getPrototypeOf||function(Nt){return Nt.__proto__},et={},at=typeof Uint8Array>"u"?w:J(Uint8Array),ot={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":V?J([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":et,"%AsyncGenerator%":et,"%AsyncGeneratorFunction%":et,"%AsyncIteratorPrototype%":et,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":et,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V?J(J([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&V?J(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&V?J(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V?J(""[Symbol.iterator]()):w,"%Symbol%":V?Symbol:w,"%SyntaxError%":D,"%ThrowTypeError%":X,"%TypedArray%":at,"%TypeError%":F,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(Nt){var ut=J(J(Nt));ot["%Error.prototype%"]=ut}var yt=function Nt(Ot){var Ct;if(Ot==="%AsyncFunction%")Ct=U("async function () {}");else if(Ot==="%GeneratorFunction%")Ct=U("function* () {}");else if(Ot==="%AsyncGeneratorFunction%")Ct=U("async function* () {}");else if(Ot==="%AsyncGenerator%"){var Jt=Nt("%AsyncGeneratorFunction%");Jt&&(Ct=Jt.prototype)}else if(Ot==="%AsyncIteratorPrototype%"){var Kt=Nt("%AsyncGenerator%");Kt&&(Ct=J(Kt.prototype))}return ot[Ot]=Ct,Ct},vt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=d("function-bind"),dt=d("has"),gt=mt.call(Function.call,Array.prototype.concat),At=mt.call(Function.apply,Array.prototype.splice),_t=mt.call(Function.call,String.prototype.replace),Mt=mt.call(Function.call,String.prototype.slice),wt=mt.call(Function.call,RegExp.prototype.exec),zt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,It=function(Nt){var Ot=Mt(Nt,0,1),Ct=Mt(Nt,-1);if(Ot==="%"&&Ct!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(Ct==="%"&&Ot!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var Jt=[];return _t(Nt,zt,(function(Kt,Qt,pe,$t){Jt[Jt.length]=pe?_t($t,ht,"$1"):Qt||Kt})),Jt},qt=function(Nt,Ot){var Ct,Jt=Nt;if(dt(vt,Jt)&&(Jt="%"+(Ct=vt[Jt])[0]+"%"),dt(ot,Jt)){var Kt=ot[Jt];if(Kt===et&&(Kt=yt(Jt)),Kt===void 0&&!Ot)throw new F("intrinsic "+Nt+" exists, but is not available. Please file an issue!");return{alias:Ct,name:Jt,value:Kt}}throw new D("intrinsic "+Nt+" does not exist!")};m.exports=function(Nt,Ot){if(typeof Nt!="string"||Nt.length===0)throw new F("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ot!="boolean")throw new F('"allowMissing" argument must be a boolean');if(wt(/^%?[^%]*%?$/,Nt)===null)throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ct=It(Nt),Jt=Ct.length>0?Ct[0]:"",Kt=qt("%"+Jt+"%",Ot),Qt=Kt.name,pe=Kt.value,$t=!1,Wt=Kt.alias;Wt&&(Jt=Wt[0],At(Ct,gt([0,1],Wt)));for(var fe=1,oe=!0;fe<Ct.length;fe+=1){var Xt=Ct[fe],ne=Mt(Xt,0,1),ye=Mt(Xt,-1);if((ne==='"'||ne==="'"||ne==="`"||ye==='"'||ye==="'"||ye==="`")&&ne!==ye)throw new D("property names with quotes must have matching quotes");if(Xt!=="constructor"&&oe||($t=!0),dt(ot,Qt="%"+(Jt+="."+Xt)+"%"))pe=ot[Qt];else if(pe!=null){if(!(Xt in pe)){if(!Ot)throw new F("base intrinsic for "+Nt+" exists, but the property is not available.");return}if(H&&fe+1>=Ct.length){var Ie=H(pe,Xt);pe=(oe=!!Ie)&&"get"in Ie&&!("originalValue"in Ie.get)?Ie.get:pe[Xt]}else oe=dt(pe,Xt),pe=pe[Xt];oe&&!$t&&(ot[Qt]=pe)}}return pe}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,D=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&D()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},D=Symbol("test"),P=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var F=42;for(D in w[D]=F,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var U=Object.getOwnPropertySymbols(w);if(U.length!==1||U[0]!==D||!Object.prototype.propertyIsEnumerable.call(w,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var H=Object.getOwnPropertyDescriptor(w,D);if(H.value!==F||H.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){g.read=function(w,D,P,F,U){var H,q,X=8*U-F-1,V=(1<<X)-1,J=V>>1,et=-7,at=P?U-1:0,ot=P?-1:1,ut=w[D+at];for(at+=ot,H=ut&(1<<-et)-1,ut>>=-et,et+=X;et>0;H=256*H+w[D+at],at+=ot,et-=8);for(q=H&(1<<-et)-1,H>>=-et,et+=F;et>0;q=256*q+w[D+at],at+=ot,et-=8);if(H===0)H=1-J;else{if(H===V)return q?NaN:1/0*(ut?-1:1);q+=Math.pow(2,F),H-=J}return(ut?-1:1)*q*Math.pow(2,H-F)},g.write=function(w,D,P,F,U,H){var q,X,V,J=8*H-U-1,et=(1<<J)-1,at=et>>1,ot=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=F?0:H-1,yt=F?1:-1,vt=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(X=isNaN(D)?1:0,q=et):(q=Math.floor(Math.log(D)/Math.LN2),D*(V=Math.pow(2,-q))<1&&(q--,V*=2),(D+=q+at>=1?ot/V:ot*Math.pow(2,1-at))*V>=2&&(q++,V/=2),q+at>=et?(X=0,q=et):q+at>=1?(X=(D*V-1)*Math.pow(2,U),q+=at):(X=D*Math.pow(2,at-1)*Math.pow(2,U),q=0));U>=8;w[P+ut]=255&X,ut+=yt,X/=256,U-=8);for(q=q<<U|X,J+=U;J>0;w[P+ut]=255&q,ut+=yt,q/=256,J-=8);w[P+ut-yt]|=128*vt}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,D){if(D){w.super_=D;var P=function(){};P.prototype=D.prototype,w.prototype=new P,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),D=d("call-bind/callBound")("Object.prototype.toString"),P=function(H){return!(w&&H&&typeof H=="object"&&Symbol.toStringTag in H)&&D(H)==="[object Arguments]"},F=function(H){return!!P(H)||H!==null&&typeof H=="object"&&typeof H.length=="number"&&H.length>=0&&D(H)!=="[object Array]"&&D(H.callee)==="[object Function]"},U=(function(){return P(arguments)})();P.isLegacyArguments=F,m.exports=U?P:F},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,D,P=Function.prototype.toString,F=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof F=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw D}}),D={},F((function(){throw 42}),null,w)}catch(gt){gt!==D&&(F=null)}else F=null;var U=/^\s*class\b/,H=function(gt){try{var At=P.call(gt);return U.test(At)}catch{return!1}},q=function(gt){try{return!H(gt)&&(P.call(gt),!0)}catch{return!1}},X=Object.prototype.toString,V="[object Object]",J="[object Function]",et="[object GeneratorFunction]",at="[object HTMLAllCollection]",ot="[object HTML document.all class]",ut="[object HTMLCollection]",yt=typeof Symbol=="function"&&!!Symbol.toStringTag,vt=!(0 in[,]),mt=function(){return!1};if(typeof document=="object"){var dt=document.all;X.call(dt)===X.call(document.all)&&(mt=function(gt){if((vt||!gt)&&(gt===void 0||typeof gt=="object"))try{var At=X.call(gt);return(At===at||At===ot||At===ut||At===V)&&gt("")==null}catch{}return!1})}m.exports=F?function(gt){if(mt(gt))return!0;if(!gt||typeof gt!="function"&&typeof gt!="object")return!1;try{F(gt,null,w)}catch(At){if(At!==D)return!1}return!H(gt)&&q(gt)}:function(gt){if(mt(gt))return!0;if(!gt||typeof gt!="function"&&typeof gt!="object")return!1;if(yt)return q(gt);if(H(gt))return!1;var At=X.call(gt);return!(At!==J&&At!==et&&!/^\[object HTML/.test(At))&&q(gt)}},{}],49:[function(d,m,g){var w,D=Object.prototype.toString,P=Function.prototype.toString,F=/^\s*(?:function)?\*/,U=d("has-tostringtag/shams")(),H=Object.getPrototypeOf,q=function(){if(!U)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(X){if(typeof X!="function")return!1;if(F.test(P.call(X)))return!0;if(!U)return D.call(X)==="[object GeneratorFunction]";if(!H)return!1;if(w===void 0){var V=q();w=!!V&&H(V)}return H(X)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var D=d("for-each"),P=d("available-typed-arrays"),F=d("call-bind/callBound"),U=F("Object.prototype.toString"),H=d("has-tostringtag/shams")(),q=d("gopd"),X=typeof globalThis>"u"?w:globalThis,V=P(),J=F("Array.prototype.indexOf",!0)||function(yt,vt){for(var mt=0;mt<yt.length;mt+=1)if(yt[mt]===vt)return mt;return-1},et=F("String.prototype.slice"),at={},ot=Object.getPrototypeOf;H&&q&&ot&&D(V,(function(yt){var vt=new X[yt];if(Symbol.toStringTag in vt){var mt=ot(vt),dt=q(mt,Symbol.toStringTag);if(!dt){var gt=ot(mt);dt=q(gt,Symbol.toStringTag)}at[yt]=dt.get}}));var ut=function(yt){var vt=!1;return D(at,(function(mt,dt){if(!vt)try{vt=mt.call(yt)===dt}catch{}})),vt};m.exports=function(yt){if(!yt||typeof yt!="object")return!1;if(!H||!(Symbol.toStringTag in yt)){var vt=et(U(yt),8,-1);return J(V,vt)>-1}return!!q&&ut(yt)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function F(H){if(H==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(H)}function U(){try{if(!Object.assign)return!1;var H=new String("abc");if(H[5]="de",Object.getOwnPropertyNames(H)[0]==="5")return!1;for(var q={},X=0;X<10;X++)q["_"+String.fromCharCode(X)]=X;var V=Object.getOwnPropertyNames(q).map((function(et){return q[et]}));if(V.join("")!=="0123456789")return!1;var J={};return"abcdefghijklmnopqrst".split("").forEach((function(et){J[et]=et})),Object.keys(Object.assign({},J)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=U()?Object.assign:function(H,q){for(var X,V,J=F(H),et=1;et<arguments.length;et++){for(var at in X=Object(arguments[et]))D.call(X,at)&&(J[at]=X[at]);if(w){V=w(X);for(var ot=0;ot<V.length;ot++)P.call(X,V[ot])&&(J[V[ot]]=X[V[ot]])}}return J}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function D(U,H){return Object.prototype.hasOwnProperty.call(U,H)}g.assign=function(U){for(var H=Array.prototype.slice.call(arguments,1);H.length;){var q=H.shift();if(q){if(typeof q!="object")throw new TypeError(q+"must be non-object");for(var X in q)D(q,X)&&(U[X]=q[X])}}return U},g.shrinkBuf=function(U,H){return U.length===H?U:U.subarray?U.subarray(0,H):(U.length=H,U)};var P={arraySet:function(U,H,q,X,V){if(H.subarray&&U.subarray)U.set(H.subarray(q,q+X),V);else for(var J=0;J<X;J++)U[V+J]=H[q+J]},flattenChunks:function(U){var H,q,X,V,J,et;for(X=0,H=0,q=U.length;H<q;H++)X+=U[H].length;for(et=new Uint8Array(X),V=0,H=0,q=U.length;H<q;H++)J=U[H],et.set(J,V),V+=J.length;return et}},F={arraySet:function(U,H,q,X,V){for(var J=0;J<X;J++)U[V+J]=H[q+J]},flattenChunks:function(U){return[].concat.apply([],U)}};g.setTyped=function(U){U?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,P)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,F))},g.setTyped(w)},{}],53:[function(d,m,g){function w(D,P,F,U){for(var H=65535&D,q=D>>>16&65535,X=0;F!==0;){F-=X=F>2e3?2e3:F;do q=q+(H=H+P[U++]|0)|0;while(--X);H%=65521,q%=65521}return H|q<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var F,U=[],H=0;H<256;H++){F=H;for(var q=0;q<8;q++)F=1&F?3988292384^F>>>1:F>>>1;U[H]=F}return U}var D=w();function P(F,U,H,q){var X=D,V=q+H;F^=-1;for(var J=q;J<V;J++)F=F>>>8^X[255&(F^U[J])];return~F}m.exports=P},{}],56:[function(d,m,g){var w,D=d("../utils/common"),P=d("./trees"),F=d("./adler32"),U=d("./crc32"),H=d("./messages"),q=0,X=1,V=3,J=4,et=5,at=0,ot=1,ut=-2,yt=-3,vt=-5,mt=-1,dt=1,gt=2,At=3,_t=4,Mt=0,wt=2,zt=8,ht=9,It=15,qt=8,Nt=286,Ot=30,Ct=19,Jt=2*Nt+1,Kt=15,Qt=3,pe=258,$t=pe+Qt+1,Wt=32,fe=42,oe=69,Xt=73,ne=91,ye=103,Ie=113,$e=666,he=1,xt=2,ue=3,Ft=4,Ut=3;function Lt(Bt,Ye){return Bt.msg=H[Ye],Ye}function Vt(Bt){return(Bt<<1)-(Bt>4?9:0)}function ge(Bt){for(var Ye=Bt.length;--Ye>=0;)Bt[Ye]=0}function pt(Bt){var Ye=Bt.state,Oe=Ye.pending;Oe>Bt.avail_out&&(Oe=Bt.avail_out),Oe!==0&&(D.arraySet(Bt.output,Ye.pending_buf,Ye.pending_out,Oe,Bt.next_out),Bt.next_out+=Oe,Ye.pending_out+=Oe,Bt.total_out+=Oe,Bt.avail_out-=Oe,Ye.pending-=Oe,Ye.pending===0&&(Ye.pending_out=0))}function Rt(Bt,Ye){P._tr_flush_block(Bt,Bt.block_start>=0?Bt.block_start:-1,Bt.strstart-Bt.block_start,Ye),Bt.block_start=Bt.strstart,pt(Bt.strm)}function Gt(Bt,Ye){Bt.pending_buf[Bt.pending++]=Ye}function jt(Bt,Ye){Bt.pending_buf[Bt.pending++]=Ye>>>8&255,Bt.pending_buf[Bt.pending++]=255&Ye}function xe(Bt,Ye,Oe,Se){var Ge=Bt.avail_in;return Ge>Se&&(Ge=Se),Ge===0?0:(Bt.avail_in-=Ge,D.arraySet(Ye,Bt.input,Bt.next_in,Ge,Oe),Bt.state.wrap===1?Bt.adler=F(Bt.adler,Ye,Ge,Oe):Bt.state.wrap===2&&(Bt.adler=U(Bt.adler,Ye,Ge,Oe)),Bt.next_in+=Ge,Bt.total_in+=Ge,Ge)}function Be(Bt,Ye){var Oe,Se,Ge=Bt.max_chain_length,Qe=Bt.strstart,Ri=Bt.prev_length,bi=Bt.nice_match,Mi=Bt.strstart>Bt.w_size-$t?Bt.strstart-(Bt.w_size-$t):0,Ni=Bt.window,Tn=Bt.w_mask,ki=Bt.prev,rn=Bt.strstart+pe,dn=Ni[Qe+Ri-1],cn=Ni[Qe+Ri];Bt.prev_length>=Bt.good_match&&(Ge>>=2),bi>Bt.lookahead&&(bi=Bt.lookahead);do if(Ni[(Oe=Ye)+Ri]===cn&&Ni[Oe+Ri-1]===dn&&Ni[Oe]===Ni[Qe]&&Ni[++Oe]===Ni[Qe+1]){Qe+=2,Oe++;do;while(Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Ni[++Qe]===Ni[++Oe]&&Qe<rn);if(Se=pe-(rn-Qe),Qe=rn-pe,Se>Ri){if(Bt.match_start=Ye,Ri=Se,Se>=bi)break;dn=Ni[Qe+Ri-1],cn=Ni[Qe+Ri]}}while((Ye=ki[Ye&Tn])>Mi&&--Ge!=0);return Ri<=Bt.lookahead?Ri:Bt.lookahead}function oi(Bt){var Ye,Oe,Se,Ge,Qe,Ri=Bt.w_size;do{if(Ge=Bt.window_size-Bt.lookahead-Bt.strstart,Bt.strstart>=Ri+(Ri-$t)){D.arraySet(Bt.window,Bt.window,Ri,Ri,0),Bt.match_start-=Ri,Bt.strstart-=Ri,Bt.block_start-=Ri,Ye=Oe=Bt.hash_size;do Se=Bt.head[--Ye],Bt.head[Ye]=Se>=Ri?Se-Ri:0;while(--Oe);Ye=Oe=Ri;do Se=Bt.prev[--Ye],Bt.prev[Ye]=Se>=Ri?Se-Ri:0;while(--Oe);Ge+=Ri}if(Bt.strm.avail_in===0)break;if(Oe=xe(Bt.strm,Bt.window,Bt.strstart+Bt.lookahead,Ge),Bt.lookahead+=Oe,Bt.lookahead+Bt.insert>=Qt)for(Qe=Bt.strstart-Bt.insert,Bt.ins_h=Bt.window[Qe],Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Qe+1])&Bt.hash_mask;Bt.insert&&(Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Qe+Qt-1])&Bt.hash_mask,Bt.prev[Qe&Bt.w_mask]=Bt.head[Bt.ins_h],Bt.head[Bt.ins_h]=Qe,Qe++,Bt.insert--,!(Bt.lookahead+Bt.insert<Qt)););}while(Bt.lookahead<$t&&Bt.strm.avail_in!==0)}function mi(Bt,Ye){var Oe=65535;for(Oe>Bt.pending_buf_size-5&&(Oe=Bt.pending_buf_size-5);;){if(Bt.lookahead<=1){if(oi(Bt),Bt.lookahead===0&&Ye===q)return he;if(Bt.lookahead===0)break}Bt.strstart+=Bt.lookahead,Bt.lookahead=0;var Se=Bt.block_start+Oe;if((Bt.strstart===0||Bt.strstart>=Se)&&(Bt.lookahead=Bt.strstart-Se,Bt.strstart=Se,Rt(Bt,!1),Bt.strm.avail_out===0)||Bt.strstart-Bt.block_start>=Bt.w_size-$t&&(Rt(Bt,!1),Bt.strm.avail_out===0))return he}return Bt.insert=0,Ye===J?(Rt(Bt,!0),Bt.strm.avail_out===0?ue:Ft):(Bt.strstart>Bt.block_start&&(Rt(Bt,!1),Bt.strm.avail_out),he)}function li(Bt,Ye){for(var Oe,Se;;){if(Bt.lookahead<$t){if(oi(Bt),Bt.lookahead<$t&&Ye===q)return he;if(Bt.lookahead===0)break}if(Oe=0,Bt.lookahead>=Qt&&(Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Bt.strstart+Qt-1])&Bt.hash_mask,Oe=Bt.prev[Bt.strstart&Bt.w_mask]=Bt.head[Bt.ins_h],Bt.head[Bt.ins_h]=Bt.strstart),Oe!==0&&Bt.strstart-Oe<=Bt.w_size-$t&&(Bt.match_length=Be(Bt,Oe)),Bt.match_length>=Qt)if(Se=P._tr_tally(Bt,Bt.strstart-Bt.match_start,Bt.match_length-Qt),Bt.lookahead-=Bt.match_length,Bt.match_length<=Bt.max_lazy_match&&Bt.lookahead>=Qt){Bt.match_length--;do Bt.strstart++,Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Bt.strstart+Qt-1])&Bt.hash_mask,Oe=Bt.prev[Bt.strstart&Bt.w_mask]=Bt.head[Bt.ins_h],Bt.head[Bt.ins_h]=Bt.strstart;while(--Bt.match_length!=0);Bt.strstart++}else Bt.strstart+=Bt.match_length,Bt.match_length=0,Bt.ins_h=Bt.window[Bt.strstart],Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Bt.strstart+1])&Bt.hash_mask;else Se=P._tr_tally(Bt,0,Bt.window[Bt.strstart]),Bt.lookahead--,Bt.strstart++;if(Se&&(Rt(Bt,!1),Bt.strm.avail_out===0))return he}return Bt.insert=Bt.strstart<Qt-1?Bt.strstart:Qt-1,Ye===J?(Rt(Bt,!0),Bt.strm.avail_out===0?ue:Ft):Bt.last_lit&&(Rt(Bt,!1),Bt.strm.avail_out===0)?he:xt}function gi(Bt,Ye){for(var Oe,Se,Ge;;){if(Bt.lookahead<$t){if(oi(Bt),Bt.lookahead<$t&&Ye===q)return he;if(Bt.lookahead===0)break}if(Oe=0,Bt.lookahead>=Qt&&(Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Bt.strstart+Qt-1])&Bt.hash_mask,Oe=Bt.prev[Bt.strstart&Bt.w_mask]=Bt.head[Bt.ins_h],Bt.head[Bt.ins_h]=Bt.strstart),Bt.prev_length=Bt.match_length,Bt.prev_match=Bt.match_start,Bt.match_length=Qt-1,Oe!==0&&Bt.prev_length<Bt.max_lazy_match&&Bt.strstart-Oe<=Bt.w_size-$t&&(Bt.match_length=Be(Bt,Oe),Bt.match_length<=5&&(Bt.strategy===dt||Bt.match_length===Qt&&Bt.strstart-Bt.match_start>4096)&&(Bt.match_length=Qt-1)),Bt.prev_length>=Qt&&Bt.match_length<=Bt.prev_length){Ge=Bt.strstart+Bt.lookahead-Qt,Se=P._tr_tally(Bt,Bt.strstart-1-Bt.prev_match,Bt.prev_length-Qt),Bt.lookahead-=Bt.prev_length-1,Bt.prev_length-=2;do++Bt.strstart<=Ge&&(Bt.ins_h=(Bt.ins_h<<Bt.hash_shift^Bt.window[Bt.strstart+Qt-1])&Bt.hash_mask,Oe=Bt.prev[Bt.strstart&Bt.w_mask]=Bt.head[Bt.ins_h],Bt.head[Bt.ins_h]=Bt.strstart);while(--Bt.prev_length!=0);if(Bt.match_available=0,Bt.match_length=Qt-1,Bt.strstart++,Se&&(Rt(Bt,!1),Bt.strm.avail_out===0))return he}else if(Bt.match_available){if((Se=P._tr_tally(Bt,0,Bt.window[Bt.strstart-1]))&&Rt(Bt,!1),Bt.strstart++,Bt.lookahead--,Bt.strm.avail_out===0)return he}else Bt.match_available=1,Bt.strstart++,Bt.lookahead--}return Bt.match_available&&(Se=P._tr_tally(Bt,0,Bt.window[Bt.strstart-1]),Bt.match_available=0),Bt.insert=Bt.strstart<Qt-1?Bt.strstart:Qt-1,Ye===J?(Rt(Bt,!0),Bt.strm.avail_out===0?ue:Ft):Bt.last_lit&&(Rt(Bt,!1),Bt.strm.avail_out===0)?he:xt}function We(Bt,Ye){for(var Oe,Se,Ge,Qe,Ri=Bt.window;;){if(Bt.lookahead<=pe){if(oi(Bt),Bt.lookahead<=pe&&Ye===q)return he;if(Bt.lookahead===0)break}if(Bt.match_length=0,Bt.lookahead>=Qt&&Bt.strstart>0&&(Se=Ri[Ge=Bt.strstart-1])===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]){Qe=Bt.strstart+pe;do;while(Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Se===Ri[++Ge]&&Ge<Qe);Bt.match_length=pe-(Qe-Ge),Bt.match_length>Bt.lookahead&&(Bt.match_length=Bt.lookahead)}if(Bt.match_length>=Qt?(Oe=P._tr_tally(Bt,1,Bt.match_length-Qt),Bt.lookahead-=Bt.match_length,Bt.strstart+=Bt.match_length,Bt.match_length=0):(Oe=P._tr_tally(Bt,0,Bt.window[Bt.strstart]),Bt.lookahead--,Bt.strstart++),Oe&&(Rt(Bt,!1),Bt.strm.avail_out===0))return he}return Bt.insert=0,Ye===J?(Rt(Bt,!0),Bt.strm.avail_out===0?ue:Ft):Bt.last_lit&&(Rt(Bt,!1),Bt.strm.avail_out===0)?he:xt}function Ii(Bt,Ye){for(var Oe;;){if(Bt.lookahead===0&&(oi(Bt),Bt.lookahead===0)){if(Ye===q)return he;break}if(Bt.match_length=0,Oe=P._tr_tally(Bt,0,Bt.window[Bt.strstart]),Bt.lookahead--,Bt.strstart++,Oe&&(Rt(Bt,!1),Bt.strm.avail_out===0))return he}return Bt.insert=0,Ye===J?(Rt(Bt,!0),Bt.strm.avail_out===0?ue:Ft):Bt.last_lit&&(Rt(Bt,!1),Bt.strm.avail_out===0)?he:xt}function Si(Bt,Ye,Oe,Se,Ge){this.good_length=Bt,this.max_lazy=Ye,this.nice_length=Oe,this.max_chain=Se,this.func=Ge}function Ti(Bt){Bt.window_size=2*Bt.w_size,ge(Bt.head),Bt.max_lazy_match=w[Bt.level].max_lazy,Bt.good_match=w[Bt.level].good_length,Bt.nice_match=w[Bt.level].nice_length,Bt.max_chain_length=w[Bt.level].max_chain,Bt.strstart=0,Bt.block_start=0,Bt.lookahead=0,Bt.insert=0,Bt.match_length=Bt.prev_length=Qt-1,Bt.match_available=0,Bt.ins_h=0}function Bi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*Jt),this.dyn_dtree=new D.Buf16(2*(2*Ot+1)),this.bl_tree=new D.Buf16(2*(2*Ct+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(Kt+1),this.heap=new D.Buf16(2*Nt+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*Nt+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ei(Bt){var Ye;return Bt&&Bt.state?(Bt.total_in=Bt.total_out=0,Bt.data_type=wt,(Ye=Bt.state).pending=0,Ye.pending_out=0,Ye.wrap<0&&(Ye.wrap=-Ye.wrap),Ye.status=Ye.wrap?fe:Ie,Bt.adler=Ye.wrap===2?0:1,Ye.last_flush=q,P._tr_init(Ye),at):Lt(Bt,ut)}function _e(Bt){var Ye=Ei(Bt);return Ye===at&&Ti(Bt.state),Ye}function hi(Bt,Ye){return Bt&&Bt.state?Bt.state.wrap!==2?ut:(Bt.state.gzhead=Ye,at):ut}function Ce(Bt,Ye,Oe,Se,Ge,Qe){if(!Bt)return ut;var Ri=1;if(Ye===mt&&(Ye=6),Se<0?(Ri=0,Se=-Se):Se>15&&(Ri=2,Se-=16),Ge<1||Ge>ht||Oe!==zt||Se<8||Se>15||Ye<0||Ye>9||Qe<0||Qe>_t)return Lt(Bt,ut);Se===8&&(Se=9);var bi=new Bi;return Bt.state=bi,bi.strm=Bt,bi.wrap=Ri,bi.gzhead=null,bi.w_bits=Se,bi.w_size=1<<bi.w_bits,bi.w_mask=bi.w_size-1,bi.hash_bits=Ge+7,bi.hash_size=1<<bi.hash_bits,bi.hash_mask=bi.hash_size-1,bi.hash_shift=~~((bi.hash_bits+Qt-1)/Qt),bi.window=new D.Buf8(2*bi.w_size),bi.head=new D.Buf16(bi.hash_size),bi.prev=new D.Buf16(bi.w_size),bi.lit_bufsize=1<<Ge+6,bi.pending_buf_size=4*bi.lit_bufsize,bi.pending_buf=new D.Buf8(bi.pending_buf_size),bi.d_buf=1*bi.lit_bufsize,bi.l_buf=3*bi.lit_bufsize,bi.level=Ye,bi.strategy=Qe,bi.method=Oe,_e(Bt)}function Ne(Bt,Ye){return Ce(Bt,Ye,zt,It,qt,Mt)}function te(Bt,Ye){var Oe,Se,Ge,Qe;if(!Bt||!Bt.state||Ye>et||Ye<0)return Bt?Lt(Bt,ut):ut;if(Se=Bt.state,!Bt.output||!Bt.input&&Bt.avail_in!==0||Se.status===$e&&Ye!==J)return Lt(Bt,Bt.avail_out===0?vt:ut);if(Se.strm=Bt,Oe=Se.last_flush,Se.last_flush=Ye,Se.status===fe)if(Se.wrap===2)Bt.adler=0,Gt(Se,31),Gt(Se,139),Gt(Se,8),Se.gzhead?(Gt(Se,(Se.gzhead.text?1:0)+(Se.gzhead.hcrc?2:0)+(Se.gzhead.extra?4:0)+(Se.gzhead.name?8:0)+(Se.gzhead.comment?16:0)),Gt(Se,255&Se.gzhead.time),Gt(Se,Se.gzhead.time>>8&255),Gt(Se,Se.gzhead.time>>16&255),Gt(Se,Se.gzhead.time>>24&255),Gt(Se,Se.level===9?2:Se.strategy>=gt||Se.level<2?4:0),Gt(Se,255&Se.gzhead.os),Se.gzhead.extra&&Se.gzhead.extra.length&&(Gt(Se,255&Se.gzhead.extra.length),Gt(Se,Se.gzhead.extra.length>>8&255)),Se.gzhead.hcrc&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending,0)),Se.gzindex=0,Se.status=oe):(Gt(Se,0),Gt(Se,0),Gt(Se,0),Gt(Se,0),Gt(Se,0),Gt(Se,Se.level===9?2:Se.strategy>=gt||Se.level<2?4:0),Gt(Se,Ut),Se.status=Ie);else{var Ri=zt+(Se.w_bits-8<<4)<<8;Ri|=(Se.strategy>=gt||Se.level<2?0:Se.level<6?1:Se.level===6?2:3)<<6,Se.strstart!==0&&(Ri|=Wt),Ri+=31-Ri%31,Se.status=Ie,jt(Se,Ri),Se.strstart!==0&&(jt(Se,Bt.adler>>>16),jt(Se,65535&Bt.adler)),Bt.adler=1}if(Se.status===oe)if(Se.gzhead.extra){for(Ge=Se.pending;Se.gzindex<(65535&Se.gzhead.extra.length)&&(Se.pending!==Se.pending_buf_size||(Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),pt(Bt),Ge=Se.pending,Se.pending!==Se.pending_buf_size));)Gt(Se,255&Se.gzhead.extra[Se.gzindex]),Se.gzindex++;Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),Se.gzindex===Se.gzhead.extra.length&&(Se.gzindex=0,Se.status=Xt)}else Se.status=Xt;if(Se.status===Xt)if(Se.gzhead.name){Ge=Se.pending;do{if(Se.pending===Se.pending_buf_size&&(Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),pt(Bt),Ge=Se.pending,Se.pending===Se.pending_buf_size)){Qe=1;break}Qe=Se.gzindex<Se.gzhead.name.length?255&Se.gzhead.name.charCodeAt(Se.gzindex++):0,Gt(Se,Qe)}while(Qe!==0);Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),Qe===0&&(Se.gzindex=0,Se.status=ne)}else Se.status=ne;if(Se.status===ne)if(Se.gzhead.comment){Ge=Se.pending;do{if(Se.pending===Se.pending_buf_size&&(Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),pt(Bt),Ge=Se.pending,Se.pending===Se.pending_buf_size)){Qe=1;break}Qe=Se.gzindex<Se.gzhead.comment.length?255&Se.gzhead.comment.charCodeAt(Se.gzindex++):0,Gt(Se,Qe)}while(Qe!==0);Se.gzhead.hcrc&&Se.pending>Ge&&(Bt.adler=U(Bt.adler,Se.pending_buf,Se.pending-Ge,Ge)),Qe===0&&(Se.status=ye)}else Se.status=ye;if(Se.status===ye&&(Se.gzhead.hcrc?(Se.pending+2>Se.pending_buf_size&&pt(Bt),Se.pending+2<=Se.pending_buf_size&&(Gt(Se,255&Bt.adler),Gt(Se,Bt.adler>>8&255),Bt.adler=0,Se.status=Ie)):Se.status=Ie),Se.pending!==0){if(pt(Bt),Bt.avail_out===0)return Se.last_flush=-1,at}else if(Bt.avail_in===0&&Vt(Ye)<=Vt(Oe)&&Ye!==J)return Lt(Bt,vt);if(Se.status===$e&&Bt.avail_in!==0)return Lt(Bt,vt);if(Bt.avail_in!==0||Se.lookahead!==0||Ye!==q&&Se.status!==$e){var bi=Se.strategy===gt?Ii(Se,Ye):Se.strategy===At?We(Se,Ye):w[Se.level].func(Se,Ye);if(bi!==ue&&bi!==Ft||(Se.status=$e),bi===he||bi===ue)return Bt.avail_out===0&&(Se.last_flush=-1),at;if(bi===xt&&(Ye===X?P._tr_align(Se):Ye!==et&&(P._tr_stored_block(Se,0,0,!1),Ye===V&&(ge(Se.head),Se.lookahead===0&&(Se.strstart=0,Se.block_start=0,Se.insert=0))),pt(Bt),Bt.avail_out===0))return Se.last_flush=-1,at}return Ye!==J?at:Se.wrap<=0?ot:(Se.wrap===2?(Gt(Se,255&Bt.adler),Gt(Se,Bt.adler>>8&255),Gt(Se,Bt.adler>>16&255),Gt(Se,Bt.adler>>24&255),Gt(Se,255&Bt.total_in),Gt(Se,Bt.total_in>>8&255),Gt(Se,Bt.total_in>>16&255),Gt(Se,Bt.total_in>>24&255)):(jt(Se,Bt.adler>>>16),jt(Se,65535&Bt.adler)),pt(Bt),Se.wrap>0&&(Se.wrap=-Se.wrap),Se.pending!==0?at:ot)}function ui(Bt){var Ye;return Bt&&Bt.state?(Ye=Bt.state.status)!==fe&&Ye!==oe&&Ye!==Xt&&Ye!==ne&&Ye!==ye&&Ye!==Ie&&Ye!==$e?Lt(Bt,ut):(Bt.state=null,Ye===Ie?Lt(Bt,yt):at):ut}function Ai(Bt,Ye){var Oe,Se,Ge,Qe,Ri,bi,Mi,Ni,Tn=Ye.length;if(!Bt||!Bt.state||(Qe=(Oe=Bt.state).wrap)===2||Qe===1&&Oe.status!==fe||Oe.lookahead)return ut;for(Qe===1&&(Bt.adler=F(Bt.adler,Ye,Tn,0)),Oe.wrap=0,Tn>=Oe.w_size&&(Qe===0&&(ge(Oe.head),Oe.strstart=0,Oe.block_start=0,Oe.insert=0),Ni=new D.Buf8(Oe.w_size),D.arraySet(Ni,Ye,Tn-Oe.w_size,Oe.w_size,0),Ye=Ni,Tn=Oe.w_size),Ri=Bt.avail_in,bi=Bt.next_in,Mi=Bt.input,Bt.avail_in=Tn,Bt.next_in=0,Bt.input=Ye,oi(Oe);Oe.lookahead>=Qt;){Se=Oe.strstart,Ge=Oe.lookahead-(Qt-1);do Oe.ins_h=(Oe.ins_h<<Oe.hash_shift^Oe.window[Se+Qt-1])&Oe.hash_mask,Oe.prev[Se&Oe.w_mask]=Oe.head[Oe.ins_h],Oe.head[Oe.ins_h]=Se,Se++;while(--Ge);Oe.strstart=Se,Oe.lookahead=Qt-1,oi(Oe)}return Oe.strstart+=Oe.lookahead,Oe.block_start=Oe.strstart,Oe.insert=Oe.lookahead,Oe.lookahead=0,Oe.match_length=Oe.prev_length=Qt-1,Oe.match_available=0,Bt.next_in=bi,Bt.input=Mi,Bt.avail_in=Ri,Oe.wrap=Qe,at}w=[new Si(0,0,0,0,mi),new Si(4,4,8,4,li),new Si(4,5,16,8,li),new Si(4,6,32,32,li),new Si(4,4,16,16,gi),new Si(8,16,32,32,gi),new Si(8,16,128,128,gi),new Si(8,32,128,256,gi),new Si(32,128,258,1024,gi),new Si(32,258,258,4096,gi)],g.deflateInit=Ne,g.deflateInit2=Ce,g.deflateReset=_e,g.deflateResetKeep=Ei,g.deflateSetHeader=hi,g.deflate=te,g.deflateEnd=ui,g.deflateSetDictionary=Ai,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,D=12;m.exports=function(P,F){var U,H,q,X,V,J,et,at,ot,ut,yt,vt,mt,dt,gt,At,_t,Mt,wt,zt,ht,It,qt,Nt,Ot;U=P.state,H=P.next_in,Nt=P.input,q=H+(P.avail_in-5),X=P.next_out,Ot=P.output,V=X-(F-P.avail_out),J=X+(P.avail_out-257),et=U.dmax,at=U.wsize,ot=U.whave,ut=U.wnext,yt=U.window,vt=U.hold,mt=U.bits,dt=U.lencode,gt=U.distcode,At=(1<<U.lenbits)-1,_t=(1<<U.distbits)-1;t:do{mt<15&&(vt+=Nt[H++]<<mt,mt+=8,vt+=Nt[H++]<<mt,mt+=8),Mt=dt[vt&At];e:for(;;){if(vt>>>=wt=Mt>>>24,mt-=wt,(wt=Mt>>>16&255)==0)Ot[X++]=65535&Mt;else{if(!(16&wt)){if(64&wt){if(32&wt){U.mode=D;break t}P.msg="invalid literal/length code",U.mode=w;break t}Mt=dt[(65535&Mt)+(vt&(1<<wt)-1)];continue e}for(zt=65535&Mt,(wt&=15)&&(mt<wt&&(vt+=Nt[H++]<<mt,mt+=8),zt+=vt&(1<<wt)-1,vt>>>=wt,mt-=wt),mt<15&&(vt+=Nt[H++]<<mt,mt+=8,vt+=Nt[H++]<<mt,mt+=8),Mt=gt[vt&_t];;){if(vt>>>=wt=Mt>>>24,mt-=wt,16&(wt=Mt>>>16&255)){if(ht=65535&Mt,mt<(wt&=15)&&(vt+=Nt[H++]<<mt,(mt+=8)<wt&&(vt+=Nt[H++]<<mt,mt+=8)),(ht+=vt&(1<<wt)-1)>et){P.msg="invalid distance too far back",U.mode=w;break t}if(vt>>>=wt,mt-=wt,ht>(wt=X-V)){if((wt=ht-wt)>ot&&U.sane){P.msg="invalid distance too far back",U.mode=w;break t}if(It=0,qt=yt,ut===0){if(It+=at-wt,wt<zt){zt-=wt;do Ot[X++]=yt[It++];while(--wt);It=X-ht,qt=Ot}}else if(ut<wt){if(It+=at+ut-wt,(wt-=ut)<zt){zt-=wt;do Ot[X++]=yt[It++];while(--wt);if(It=0,ut<zt){zt-=wt=ut;do Ot[X++]=yt[It++];while(--wt);It=X-ht,qt=Ot}}}else if(It+=ut-wt,wt<zt){zt-=wt;do Ot[X++]=yt[It++];while(--wt);It=X-ht,qt=Ot}for(;zt>2;)Ot[X++]=qt[It++],Ot[X++]=qt[It++],Ot[X++]=qt[It++],zt-=3;zt&&(Ot[X++]=qt[It++],zt>1&&(Ot[X++]=qt[It++]))}else{It=X-ht;do Ot[X++]=Ot[It++],Ot[X++]=Ot[It++],Ot[X++]=Ot[It++],zt-=3;while(zt>2);zt&&(Ot[X++]=Ot[It++],zt>1&&(Ot[X++]=Ot[It++]))}break}if(64&wt){P.msg="invalid distance code",U.mode=w;break t}Mt=gt[(65535&Mt)+(vt&(1<<wt)-1)]}}break}}while(H<q&&X<J);H-=zt=mt>>3,vt&=(1<<(mt-=zt<<3))-1,P.next_in=H,P.next_out=X,P.avail_in=H<q?q-H+5:5-(H-q),P.avail_out=X<J?J-X+257:257-(X-J),U.hold=vt,U.bits=mt}},{}],58:[function(d,m,g){var w=d("../utils/common"),D=d("./adler32"),P=d("./crc32"),F=d("./inffast"),U=d("./inftrees"),H=0,q=1,X=2,V=4,J=5,et=6,at=0,ot=1,ut=2,yt=-2,vt=-3,mt=-4,dt=-5,gt=8,At=1,_t=2,Mt=3,wt=4,zt=5,ht=6,It=7,qt=8,Nt=9,Ot=10,Ct=11,Jt=12,Kt=13,Qt=14,pe=15,$t=16,Wt=17,fe=18,oe=19,Xt=20,ne=21,ye=22,Ie=23,$e=24,he=25,xt=26,ue=27,Ft=28,Ut=29,Lt=30,Vt=31,ge=852,pt=592,Rt=15;function Gt(Ce){return(Ce>>>24&255)+(Ce>>>8&65280)+((65280&Ce)<<8)+((255&Ce)<<24)}function jt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xe(Ce){var Ne;return Ce&&Ce.state?(Ne=Ce.state,Ce.total_in=Ce.total_out=Ne.total=0,Ce.msg="",Ne.wrap&&(Ce.adler=1&Ne.wrap),Ne.mode=At,Ne.last=0,Ne.havedict=0,Ne.dmax=32768,Ne.head=null,Ne.hold=0,Ne.bits=0,Ne.lencode=Ne.lendyn=new w.Buf32(ge),Ne.distcode=Ne.distdyn=new w.Buf32(pt),Ne.sane=1,Ne.back=-1,at):yt}function Be(Ce){var Ne;return Ce&&Ce.state?((Ne=Ce.state).wsize=0,Ne.whave=0,Ne.wnext=0,xe(Ce)):yt}function oi(Ce,Ne){var te,ui;return Ce&&Ce.state?(ui=Ce.state,Ne<0?(te=0,Ne=-Ne):(te=1+(Ne>>4),Ne<48&&(Ne&=15)),Ne&&(Ne<8||Ne>15)?yt:(ui.window!==null&&ui.wbits!==Ne&&(ui.window=null),ui.wrap=te,ui.wbits=Ne,Be(Ce))):yt}function mi(Ce,Ne){var te,ui;return Ce?(ui=new jt,Ce.state=ui,ui.window=null,(te=oi(Ce,Ne))!==at&&(Ce.state=null),te):yt}function li(Ce){return mi(Ce,Rt)}var gi,We,Ii=!0;function Si(Ce){if(Ii){var Ne;for(gi=new w.Buf32(512),We=new w.Buf32(32),Ne=0;Ne<144;)Ce.lens[Ne++]=8;for(;Ne<256;)Ce.lens[Ne++]=9;for(;Ne<280;)Ce.lens[Ne++]=7;for(;Ne<288;)Ce.lens[Ne++]=8;for(U(q,Ce.lens,0,288,gi,0,Ce.work,{bits:9}),Ne=0;Ne<32;)Ce.lens[Ne++]=5;U(X,Ce.lens,0,32,We,0,Ce.work,{bits:5}),Ii=!1}Ce.lencode=gi,Ce.lenbits=9,Ce.distcode=We,Ce.distbits=5}function Ti(Ce,Ne,te,ui){var Ai,Bt=Ce.state;return Bt.window===null&&(Bt.wsize=1<<Bt.wbits,Bt.wnext=0,Bt.whave=0,Bt.window=new w.Buf8(Bt.wsize)),ui>=Bt.wsize?(w.arraySet(Bt.window,Ne,te-Bt.wsize,Bt.wsize,0),Bt.wnext=0,Bt.whave=Bt.wsize):((Ai=Bt.wsize-Bt.wnext)>ui&&(Ai=ui),w.arraySet(Bt.window,Ne,te-ui,Ai,Bt.wnext),(ui-=Ai)?(w.arraySet(Bt.window,Ne,te-ui,ui,0),Bt.wnext=ui,Bt.whave=Bt.wsize):(Bt.wnext+=Ai,Bt.wnext===Bt.wsize&&(Bt.wnext=0),Bt.whave<Bt.wsize&&(Bt.whave+=Ai))),0}function Bi(Ce,Ne){var te,ui,Ai,Bt,Ye,Oe,Se,Ge,Qe,Ri,bi,Mi,Ni,Tn,ki,rn,dn,cn,_a,ga,Wi,Ui,Yt,pn,Ci=0,_n=new w.Buf8(4),Oa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ce||!Ce.state||!Ce.output||!Ce.input&&Ce.avail_in!==0)return yt;(te=Ce.state).mode===Jt&&(te.mode=Kt),Ye=Ce.next_out,Ai=Ce.output,Se=Ce.avail_out,Bt=Ce.next_in,ui=Ce.input,Oe=Ce.avail_in,Ge=te.hold,Qe=te.bits,Ri=Oe,bi=Se,Ui=at;t:for(;;)switch(te.mode){case At:if(te.wrap===0){te.mode=Kt;break}for(;Qe<16;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(2&te.wrap&&Ge===35615){te.check=0,_n[0]=255&Ge,_n[1]=Ge>>>8&255,te.check=P(te.check,_n,2,0),Ge=0,Qe=0,te.mode=_t;break}if(te.flags=0,te.head&&(te.head.done=!1),!(1&te.wrap)||(((255&Ge)<<8)+(Ge>>8))%31){Ce.msg="incorrect header check",te.mode=Lt;break}if((15&Ge)!==gt){Ce.msg="unknown compression method",te.mode=Lt;break}if(Qe-=4,Wi=8+(15&(Ge>>>=4)),te.wbits===0)te.wbits=Wi;else if(Wi>te.wbits){Ce.msg="invalid window size",te.mode=Lt;break}te.dmax=1<<Wi,Ce.adler=te.check=1,te.mode=512&Ge?Ot:Jt,Ge=0,Qe=0;break;case _t:for(;Qe<16;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(te.flags=Ge,(255&te.flags)!==gt){Ce.msg="unknown compression method",te.mode=Lt;break}if(57344&te.flags){Ce.msg="unknown header flags set",te.mode=Lt;break}te.head&&(te.head.text=Ge>>8&1),512&te.flags&&(_n[0]=255&Ge,_n[1]=Ge>>>8&255,te.check=P(te.check,_n,2,0)),Ge=0,Qe=0,te.mode=Mt;case Mt:for(;Qe<32;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.head&&(te.head.time=Ge),512&te.flags&&(_n[0]=255&Ge,_n[1]=Ge>>>8&255,_n[2]=Ge>>>16&255,_n[3]=Ge>>>24&255,te.check=P(te.check,_n,4,0)),Ge=0,Qe=0,te.mode=wt;case wt:for(;Qe<16;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.head&&(te.head.xflags=255&Ge,te.head.os=Ge>>8),512&te.flags&&(_n[0]=255&Ge,_n[1]=Ge>>>8&255,te.check=P(te.check,_n,2,0)),Ge=0,Qe=0,te.mode=zt;case zt:if(1024&te.flags){for(;Qe<16;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.length=Ge,te.head&&(te.head.extra_len=Ge),512&te.flags&&(_n[0]=255&Ge,_n[1]=Ge>>>8&255,te.check=P(te.check,_n,2,0)),Ge=0,Qe=0}else te.head&&(te.head.extra=null);te.mode=ht;case ht:if(1024&te.flags&&((Mi=te.length)>Oe&&(Mi=Oe),Mi&&(te.head&&(Wi=te.head.extra_len-te.length,te.head.extra||(te.head.extra=new Array(te.head.extra_len)),w.arraySet(te.head.extra,ui,Bt,Mi,Wi)),512&te.flags&&(te.check=P(te.check,ui,Mi,Bt)),Oe-=Mi,Bt+=Mi,te.length-=Mi),te.length))break t;te.length=0,te.mode=It;case It:if(2048&te.flags){if(Oe===0)break t;Mi=0;do Wi=ui[Bt+Mi++],te.head&&Wi&&te.length<65536&&(te.head.name+=String.fromCharCode(Wi));while(Wi&&Mi<Oe);if(512&te.flags&&(te.check=P(te.check,ui,Mi,Bt)),Oe-=Mi,Bt+=Mi,Wi)break t}else te.head&&(te.head.name=null);te.length=0,te.mode=qt;case qt:if(4096&te.flags){if(Oe===0)break t;Mi=0;do Wi=ui[Bt+Mi++],te.head&&Wi&&te.length<65536&&(te.head.comment+=String.fromCharCode(Wi));while(Wi&&Mi<Oe);if(512&te.flags&&(te.check=P(te.check,ui,Mi,Bt)),Oe-=Mi,Bt+=Mi,Wi)break t}else te.head&&(te.head.comment=null);te.mode=Nt;case Nt:if(512&te.flags){for(;Qe<16;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(Ge!==(65535&te.check)){Ce.msg="header crc mismatch",te.mode=Lt;break}Ge=0,Qe=0}te.head&&(te.head.hcrc=te.flags>>9&1,te.head.done=!0),Ce.adler=te.check=0,te.mode=Jt;break;case Ot:for(;Qe<32;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}Ce.adler=te.check=Gt(Ge),Ge=0,Qe=0,te.mode=Ct;case Ct:if(te.havedict===0)return Ce.next_out=Ye,Ce.avail_out=Se,Ce.next_in=Bt,Ce.avail_in=Oe,te.hold=Ge,te.bits=Qe,ut;Ce.adler=te.check=1,te.mode=Jt;case Jt:if(Ne===J||Ne===et)break t;case Kt:if(te.last){Ge>>>=7&Qe,Qe-=7&Qe,te.mode=ue;break}for(;Qe<3;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}switch(te.last=1&Ge,Qe-=1,3&(Ge>>>=1)){case 0:te.mode=Qt;break;case 1:if(Si(te),te.mode=Xt,Ne===et){Ge>>>=2,Qe-=2;break t}break;case 2:te.mode=Wt;break;case 3:Ce.msg="invalid block type",te.mode=Lt}Ge>>>=2,Qe-=2;break;case Qt:for(Ge>>>=7&Qe,Qe-=7&Qe;Qe<32;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if((65535&Ge)!=(Ge>>>16^65535)){Ce.msg="invalid stored block lengths",te.mode=Lt;break}if(te.length=65535&Ge,Ge=0,Qe=0,te.mode=pe,Ne===et)break t;case pe:te.mode=$t;case $t:if(Mi=te.length){if(Mi>Oe&&(Mi=Oe),Mi>Se&&(Mi=Se),Mi===0)break t;w.arraySet(Ai,ui,Bt,Mi,Ye),Oe-=Mi,Bt+=Mi,Se-=Mi,Ye+=Mi,te.length-=Mi;break}te.mode=Jt;break;case Wt:for(;Qe<14;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(te.nlen=257+(31&Ge),Ge>>>=5,Qe-=5,te.ndist=1+(31&Ge),Ge>>>=5,Qe-=5,te.ncode=4+(15&Ge),Ge>>>=4,Qe-=4,te.nlen>286||te.ndist>30){Ce.msg="too many length or distance symbols",te.mode=Lt;break}te.have=0,te.mode=fe;case fe:for(;te.have<te.ncode;){for(;Qe<3;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.lens[Oa[te.have++]]=7&Ge,Ge>>>=3,Qe-=3}for(;te.have<19;)te.lens[Oa[te.have++]]=0;if(te.lencode=te.lendyn,te.lenbits=7,Yt={bits:te.lenbits},Ui=U(H,te.lens,0,19,te.lencode,0,te.work,Yt),te.lenbits=Yt.bits,Ui){Ce.msg="invalid code lengths set",te.mode=Lt;break}te.have=0,te.mode=oe;case oe:for(;te.have<te.nlen+te.ndist;){for(;rn=(Ci=te.lencode[Ge&(1<<te.lenbits)-1])>>>16&255,dn=65535&Ci,!((ki=Ci>>>24)<=Qe);){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(dn<16)Ge>>>=ki,Qe-=ki,te.lens[te.have++]=dn;else{if(dn===16){for(pn=ki+2;Qe<pn;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(Ge>>>=ki,Qe-=ki,te.have===0){Ce.msg="invalid bit length repeat",te.mode=Lt;break}Wi=te.lens[te.have-1],Mi=3+(3&Ge),Ge>>>=2,Qe-=2}else if(dn===17){for(pn=ki+3;Qe<pn;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}Qe-=ki,Wi=0,Mi=3+(7&(Ge>>>=ki)),Ge>>>=3,Qe-=3}else{for(pn=ki+7;Qe<pn;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}Qe-=ki,Wi=0,Mi=11+(127&(Ge>>>=ki)),Ge>>>=7,Qe-=7}if(te.have+Mi>te.nlen+te.ndist){Ce.msg="invalid bit length repeat",te.mode=Lt;break}for(;Mi--;)te.lens[te.have++]=Wi}}if(te.mode===Lt)break;if(te.lens[256]===0){Ce.msg="invalid code -- missing end-of-block",te.mode=Lt;break}if(te.lenbits=9,Yt={bits:te.lenbits},Ui=U(q,te.lens,0,te.nlen,te.lencode,0,te.work,Yt),te.lenbits=Yt.bits,Ui){Ce.msg="invalid literal/lengths set",te.mode=Lt;break}if(te.distbits=6,te.distcode=te.distdyn,Yt={bits:te.distbits},Ui=U(X,te.lens,te.nlen,te.ndist,te.distcode,0,te.work,Yt),te.distbits=Yt.bits,Ui){Ce.msg="invalid distances set",te.mode=Lt;break}if(te.mode=Xt,Ne===et)break t;case Xt:te.mode=ne;case ne:if(Oe>=6&&Se>=258){Ce.next_out=Ye,Ce.avail_out=Se,Ce.next_in=Bt,Ce.avail_in=Oe,te.hold=Ge,te.bits=Qe,F(Ce,bi),Ye=Ce.next_out,Ai=Ce.output,Se=Ce.avail_out,Bt=Ce.next_in,ui=Ce.input,Oe=Ce.avail_in,Ge=te.hold,Qe=te.bits,te.mode===Jt&&(te.back=-1);break}for(te.back=0;rn=(Ci=te.lencode[Ge&(1<<te.lenbits)-1])>>>16&255,dn=65535&Ci,!((ki=Ci>>>24)<=Qe);){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(rn&&!(240&rn)){for(cn=ki,_a=rn,ga=dn;rn=(Ci=te.lencode[ga+((Ge&(1<<cn+_a)-1)>>cn)])>>>16&255,dn=65535&Ci,!(cn+(ki=Ci>>>24)<=Qe);){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}Ge>>>=cn,Qe-=cn,te.back+=cn}if(Ge>>>=ki,Qe-=ki,te.back+=ki,te.length=dn,rn===0){te.mode=xt;break}if(32&rn){te.back=-1,te.mode=Jt;break}if(64&rn){Ce.msg="invalid literal/length code",te.mode=Lt;break}te.extra=15&rn,te.mode=ye;case ye:if(te.extra){for(pn=te.extra;Qe<pn;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.length+=Ge&(1<<te.extra)-1,Ge>>>=te.extra,Qe-=te.extra,te.back+=te.extra}te.was=te.length,te.mode=Ie;case Ie:for(;rn=(Ci=te.distcode[Ge&(1<<te.distbits)-1])>>>16&255,dn=65535&Ci,!((ki=Ci>>>24)<=Qe);){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(!(240&rn)){for(cn=ki,_a=rn,ga=dn;rn=(Ci=te.distcode[ga+((Ge&(1<<cn+_a)-1)>>cn)])>>>16&255,dn=65535&Ci,!(cn+(ki=Ci>>>24)<=Qe);){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}Ge>>>=cn,Qe-=cn,te.back+=cn}if(Ge>>>=ki,Qe-=ki,te.back+=ki,64&rn){Ce.msg="invalid distance code",te.mode=Lt;break}te.offset=dn,te.extra=15&rn,te.mode=$e;case $e:if(te.extra){for(pn=te.extra;Qe<pn;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}te.offset+=Ge&(1<<te.extra)-1,Ge>>>=te.extra,Qe-=te.extra,te.back+=te.extra}if(te.offset>te.dmax){Ce.msg="invalid distance too far back",te.mode=Lt;break}te.mode=he;case he:if(Se===0)break t;if(Mi=bi-Se,te.offset>Mi){if((Mi=te.offset-Mi)>te.whave&&te.sane){Ce.msg="invalid distance too far back",te.mode=Lt;break}Mi>te.wnext?(Mi-=te.wnext,Ni=te.wsize-Mi):Ni=te.wnext-Mi,Mi>te.length&&(Mi=te.length),Tn=te.window}else Tn=Ai,Ni=Ye-te.offset,Mi=te.length;Mi>Se&&(Mi=Se),Se-=Mi,te.length-=Mi;do Ai[Ye++]=Tn[Ni++];while(--Mi);te.length===0&&(te.mode=ne);break;case xt:if(Se===0)break t;Ai[Ye++]=te.length,Se--,te.mode=ne;break;case ue:if(te.wrap){for(;Qe<32;){if(Oe===0)break t;Oe--,Ge|=ui[Bt++]<<Qe,Qe+=8}if(bi-=Se,Ce.total_out+=bi,te.total+=bi,bi&&(Ce.adler=te.check=te.flags?P(te.check,Ai,bi,Ye-bi):D(te.check,Ai,bi,Ye-bi)),bi=Se,(te.flags?Ge:Gt(Ge))!==te.check){Ce.msg="incorrect data check",te.mode=Lt;break}Ge=0,Qe=0}te.mode=Ft;case Ft:if(te.wrap&&te.flags){for(;Qe<32;){if(Oe===0)break t;Oe--,Ge+=ui[Bt++]<<Qe,Qe+=8}if(Ge!==(4294967295&te.total)){Ce.msg="incorrect length check",te.mode=Lt;break}Ge=0,Qe=0}te.mode=Ut;case Ut:Ui=ot;break t;case Lt:Ui=vt;break t;case Vt:return mt;default:return yt}return Ce.next_out=Ye,Ce.avail_out=Se,Ce.next_in=Bt,Ce.avail_in=Oe,te.hold=Ge,te.bits=Qe,(te.wsize||bi!==Ce.avail_out&&te.mode<Lt&&(te.mode<ue||Ne!==V))&&Ti(Ce,Ce.output,Ce.next_out,bi-Ce.avail_out),Ri-=Ce.avail_in,bi-=Ce.avail_out,Ce.total_in+=Ri,Ce.total_out+=bi,te.total+=bi,te.wrap&&bi&&(Ce.adler=te.check=te.flags?P(te.check,Ai,bi,Ce.next_out-bi):D(te.check,Ai,bi,Ce.next_out-bi)),Ce.data_type=te.bits+(te.last?64:0)+(te.mode===Jt?128:0)+(te.mode===Xt||te.mode===pe?256:0),(Ri===0&&bi===0||Ne===V)&&Ui===at&&(Ui=dt),Ui}function Ei(Ce){if(!Ce||!Ce.state)return yt;var Ne=Ce.state;return Ne.window&&(Ne.window=null),Ce.state=null,at}function _e(Ce,Ne){var te;return Ce&&Ce.state&&2&(te=Ce.state).wrap?(te.head=Ne,Ne.done=!1,at):yt}function hi(Ce,Ne){var te,ui=Ne.length;return Ce&&Ce.state?(te=Ce.state).wrap!==0&&te.mode!==Ct?yt:te.mode===Ct&&D(1,Ne,ui,0)!==te.check?vt:Ti(Ce,Ne,ui,ui)?(te.mode=Vt,mt):(te.havedict=1,at):yt}g.inflateReset=Be,g.inflateReset2=oi,g.inflateResetKeep=xe,g.inflateInit=li,g.inflateInit2=mi,g.inflate=Bi,g.inflateEnd=Ei,g.inflateGetHeader=_e,g.inflateSetDictionary=hi,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),D=15,P=852,F=592,U=0,H=1,q=2,X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],V=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],et=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(at,ot,ut,yt,vt,mt,dt,gt){var At,_t,Mt,wt,zt,ht,It,qt,Nt,Ot=gt.bits,Ct=0,Jt=0,Kt=0,Qt=0,pe=0,$t=0,Wt=0,fe=0,oe=0,Xt=0,ne=null,ye=0,Ie=new w.Buf16(D+1),$e=new w.Buf16(D+1),he=null,xt=0;for(Ct=0;Ct<=D;Ct++)Ie[Ct]=0;for(Jt=0;Jt<yt;Jt++)Ie[ot[ut+Jt]]++;for(pe=Ot,Qt=D;Qt>=1&&Ie[Qt]===0;Qt--);if(pe>Qt&&(pe=Qt),Qt===0)return vt[mt++]=20971520,vt[mt++]=20971520,gt.bits=1,0;for(Kt=1;Kt<Qt&&Ie[Kt]===0;Kt++);for(pe<Kt&&(pe=Kt),fe=1,Ct=1;Ct<=D;Ct++)if(fe<<=1,(fe-=Ie[Ct])<0)return-1;if(fe>0&&(at===U||Qt!==1))return-1;for($e[1]=0,Ct=1;Ct<D;Ct++)$e[Ct+1]=$e[Ct]+Ie[Ct];for(Jt=0;Jt<yt;Jt++)ot[ut+Jt]!==0&&(dt[$e[ot[ut+Jt]]++]=Jt);if(at===U?(ne=he=dt,ht=19):at===H?(ne=X,ye-=257,he=V,xt-=257,ht=256):(ne=J,he=et,ht=-1),Xt=0,Jt=0,Ct=Kt,zt=mt,$t=pe,Wt=0,Mt=-1,wt=(oe=1<<pe)-1,at===H&&oe>P||at===q&&oe>F)return 1;for(;;){It=Ct-Wt,dt[Jt]<ht?(qt=0,Nt=dt[Jt]):dt[Jt]>ht?(qt=he[xt+dt[Jt]],Nt=ne[ye+dt[Jt]]):(qt=96,Nt=0),At=1<<Ct-Wt,Kt=_t=1<<$t;do vt[zt+(Xt>>Wt)+(_t-=At)]=It<<24|qt<<16|Nt;while(_t!==0);for(At=1<<Ct-1;Xt&At;)At>>=1;if(At!==0?(Xt&=At-1,Xt+=At):Xt=0,Jt++,--Ie[Ct]==0){if(Ct===Qt)break;Ct=ot[ut+dt[Jt]]}if(Ct>pe&&(Xt&wt)!==Mt){for(Wt===0&&(Wt=pe),zt+=Kt,fe=1<<($t=Ct-Wt);$t+Wt<Qt&&!((fe-=Ie[$t+Wt])<=0);)$t++,fe<<=1;if(oe+=1<<$t,at===H&&oe>P||at===q&&oe>F)return 1;vt[Mt=Xt&wt]=pe<<24|$t<<16|zt-mt}}return Xt!==0&&(vt[zt+Xt]=Ct-Wt<<24|64<<16),gt.bits=pe,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),D=4,P=0,F=1,U=2;function H(_e){for(var hi=_e.length;--hi>=0;)_e[hi]=0}var q=0,X=1,V=2,J=3,et=258,at=29,ot=256,ut=ot+1+at,yt=30,vt=19,mt=2*ut+1,dt=15,gt=16,At=7,_t=256,Mt=16,wt=17,zt=18,ht=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],It=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ot=512,Ct=new Array(2*(ut+2));H(Ct);var Jt=new Array(2*yt);H(Jt);var Kt=new Array(Ot);H(Kt);var Qt=new Array(et-J+1);H(Qt);var pe=new Array(at);H(pe);var $t,Wt,fe,oe=new Array(yt);function Xt(_e,hi,Ce,Ne,te){this.static_tree=_e,this.extra_bits=hi,this.extra_base=Ce,this.elems=Ne,this.max_length=te,this.has_stree=_e&&_e.length}function ne(_e,hi){this.dyn_tree=_e,this.max_code=0,this.stat_desc=hi}function ye(_e){return _e<256?Kt[_e]:Kt[256+(_e>>>7)]}function Ie(_e,hi){_e.pending_buf[_e.pending++]=255&hi,_e.pending_buf[_e.pending++]=hi>>>8&255}function $e(_e,hi,Ce){_e.bi_valid>gt-Ce?(_e.bi_buf|=hi<<_e.bi_valid&65535,Ie(_e,_e.bi_buf),_e.bi_buf=hi>>gt-_e.bi_valid,_e.bi_valid+=Ce-gt):(_e.bi_buf|=hi<<_e.bi_valid&65535,_e.bi_valid+=Ce)}function he(_e,hi,Ce){$e(_e,Ce[2*hi],Ce[2*hi+1])}function xt(_e,hi){var Ce=0;do Ce|=1&_e,_e>>>=1,Ce<<=1;while(--hi>0);return Ce>>>1}function ue(_e){_e.bi_valid===16?(Ie(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=255&_e.bi_buf,_e.bi_buf>>=8,_e.bi_valid-=8)}function Ft(_e,hi){var Ce,Ne,te,ui,Ai,Bt,Ye=hi.dyn_tree,Oe=hi.max_code,Se=hi.stat_desc.static_tree,Ge=hi.stat_desc.has_stree,Qe=hi.stat_desc.extra_bits,Ri=hi.stat_desc.extra_base,bi=hi.stat_desc.max_length,Mi=0;for(ui=0;ui<=dt;ui++)_e.bl_count[ui]=0;for(Ye[2*_e.heap[_e.heap_max]+1]=0,Ce=_e.heap_max+1;Ce<mt;Ce++)(ui=Ye[2*Ye[2*(Ne=_e.heap[Ce])+1]+1]+1)>bi&&(ui=bi,Mi++),Ye[2*Ne+1]=ui,Ne>Oe||(_e.bl_count[ui]++,Ai=0,Ne>=Ri&&(Ai=Qe[Ne-Ri]),Bt=Ye[2*Ne],_e.opt_len+=Bt*(ui+Ai),Ge&&(_e.static_len+=Bt*(Se[2*Ne+1]+Ai)));if(Mi!==0){do{for(ui=bi-1;_e.bl_count[ui]===0;)ui--;_e.bl_count[ui]--,_e.bl_count[ui+1]+=2,_e.bl_count[bi]--,Mi-=2}while(Mi>0);for(ui=bi;ui!==0;ui--)for(Ne=_e.bl_count[ui];Ne!==0;)(te=_e.heap[--Ce])>Oe||(Ye[2*te+1]!==ui&&(_e.opt_len+=(ui-Ye[2*te+1])*Ye[2*te],Ye[2*te+1]=ui),Ne--)}}function Ut(_e,hi,Ce){var Ne,te,ui=new Array(dt+1),Ai=0;for(Ne=1;Ne<=dt;Ne++)ui[Ne]=Ai=Ai+Ce[Ne-1]<<1;for(te=0;te<=hi;te++){var Bt=_e[2*te+1];Bt!==0&&(_e[2*te]=xt(ui[Bt]++,Bt))}}function Lt(){var _e,hi,Ce,Ne,te,ui=new Array(dt+1);for(Ce=0,Ne=0;Ne<at-1;Ne++)for(pe[Ne]=Ce,_e=0;_e<1<<ht[Ne];_e++)Qt[Ce++]=Ne;for(Qt[Ce-1]=Ne,te=0,Ne=0;Ne<16;Ne++)for(oe[Ne]=te,_e=0;_e<1<<It[Ne];_e++)Kt[te++]=Ne;for(te>>=7;Ne<yt;Ne++)for(oe[Ne]=te<<7,_e=0;_e<1<<It[Ne]-7;_e++)Kt[256+te++]=Ne;for(hi=0;hi<=dt;hi++)ui[hi]=0;for(_e=0;_e<=143;)Ct[2*_e+1]=8,_e++,ui[8]++;for(;_e<=255;)Ct[2*_e+1]=9,_e++,ui[9]++;for(;_e<=279;)Ct[2*_e+1]=7,_e++,ui[7]++;for(;_e<=287;)Ct[2*_e+1]=8,_e++,ui[8]++;for(Ut(Ct,ut+1,ui),_e=0;_e<yt;_e++)Jt[2*_e+1]=5,Jt[2*_e]=xt(_e,5);$t=new Xt(Ct,ht,ot+1,ut,dt),Wt=new Xt(Jt,It,0,yt,dt),fe=new Xt(new Array(0),qt,0,vt,At)}function Vt(_e){var hi;for(hi=0;hi<ut;hi++)_e.dyn_ltree[2*hi]=0;for(hi=0;hi<yt;hi++)_e.dyn_dtree[2*hi]=0;for(hi=0;hi<vt;hi++)_e.bl_tree[2*hi]=0;_e.dyn_ltree[2*_t]=1,_e.opt_len=_e.static_len=0,_e.last_lit=_e.matches=0}function ge(_e){_e.bi_valid>8?Ie(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0}function pt(_e,hi,Ce,Ne){ge(_e),Ie(_e,Ce),Ie(_e,~Ce),w.arraySet(_e.pending_buf,_e.window,hi,Ce,_e.pending),_e.pending+=Ce}function Rt(_e,hi,Ce,Ne){var te=2*hi,ui=2*Ce;return _e[te]<_e[ui]||_e[te]===_e[ui]&&Ne[hi]<=Ne[Ce]}function Gt(_e,hi,Ce){for(var Ne=_e.heap[Ce],te=Ce<<1;te<=_e.heap_len&&(te<_e.heap_len&&Rt(hi,_e.heap[te+1],_e.heap[te],_e.depth)&&te++,!Rt(hi,Ne,_e.heap[te],_e.depth));)_e.heap[Ce]=_e.heap[te],Ce=te,te<<=1;_e.heap[Ce]=Ne}function jt(_e,hi,Ce){var Ne,te,ui,Ai,Bt=0;if(_e.last_lit!==0)do Ne=_e.pending_buf[_e.d_buf+2*Bt]<<8|_e.pending_buf[_e.d_buf+2*Bt+1],te=_e.pending_buf[_e.l_buf+Bt],Bt++,Ne===0?he(_e,te,hi):(he(_e,(ui=Qt[te])+ot+1,hi),(Ai=ht[ui])!==0&&$e(_e,te-=pe[ui],Ai),he(_e,ui=ye(--Ne),Ce),(Ai=It[ui])!==0&&$e(_e,Ne-=oe[ui],Ai));while(Bt<_e.last_lit);he(_e,_t,hi)}function xe(_e,hi){var Ce,Ne,te,ui=hi.dyn_tree,Ai=hi.stat_desc.static_tree,Bt=hi.stat_desc.has_stree,Ye=hi.stat_desc.elems,Oe=-1;for(_e.heap_len=0,_e.heap_max=mt,Ce=0;Ce<Ye;Ce++)ui[2*Ce]!==0?(_e.heap[++_e.heap_len]=Oe=Ce,_e.depth[Ce]=0):ui[2*Ce+1]=0;for(;_e.heap_len<2;)ui[2*(te=_e.heap[++_e.heap_len]=Oe<2?++Oe:0)]=1,_e.depth[te]=0,_e.opt_len--,Bt&&(_e.static_len-=Ai[2*te+1]);for(hi.max_code=Oe,Ce=_e.heap_len>>1;Ce>=1;Ce--)Gt(_e,ui,Ce);te=Ye;do Ce=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],Gt(_e,ui,1),Ne=_e.heap[1],_e.heap[--_e.heap_max]=Ce,_e.heap[--_e.heap_max]=Ne,ui[2*te]=ui[2*Ce]+ui[2*Ne],_e.depth[te]=(_e.depth[Ce]>=_e.depth[Ne]?_e.depth[Ce]:_e.depth[Ne])+1,ui[2*Ce+1]=ui[2*Ne+1]=te,_e.heap[1]=te++,Gt(_e,ui,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],Ft(_e,hi),Ut(ui,Oe,_e.bl_count)}function Be(_e,hi,Ce){var Ne,te,ui=-1,Ai=hi[1],Bt=0,Ye=7,Oe=4;for(Ai===0&&(Ye=138,Oe=3),hi[2*(Ce+1)+1]=65535,Ne=0;Ne<=Ce;Ne++)te=Ai,Ai=hi[2*(Ne+1)+1],++Bt<Ye&&te===Ai||(Bt<Oe?_e.bl_tree[2*te]+=Bt:te!==0?(te!==ui&&_e.bl_tree[2*te]++,_e.bl_tree[2*Mt]++):Bt<=10?_e.bl_tree[2*wt]++:_e.bl_tree[2*zt]++,Bt=0,ui=te,Ai===0?(Ye=138,Oe=3):te===Ai?(Ye=6,Oe=3):(Ye=7,Oe=4))}function oi(_e,hi,Ce){var Ne,te,ui=-1,Ai=hi[1],Bt=0,Ye=7,Oe=4;for(Ai===0&&(Ye=138,Oe=3),Ne=0;Ne<=Ce;Ne++)if(te=Ai,Ai=hi[2*(Ne+1)+1],!(++Bt<Ye&&te===Ai)){if(Bt<Oe)do he(_e,te,_e.bl_tree);while(--Bt!=0);else te!==0?(te!==ui&&(he(_e,te,_e.bl_tree),Bt--),he(_e,Mt,_e.bl_tree),$e(_e,Bt-3,2)):Bt<=10?(he(_e,wt,_e.bl_tree),$e(_e,Bt-3,3)):(he(_e,zt,_e.bl_tree),$e(_e,Bt-11,7));Bt=0,ui=te,Ai===0?(Ye=138,Oe=3):te===Ai?(Ye=6,Oe=3):(Ye=7,Oe=4)}}function mi(_e){var hi;for(Be(_e,_e.dyn_ltree,_e.l_desc.max_code),Be(_e,_e.dyn_dtree,_e.d_desc.max_code),xe(_e,_e.bl_desc),hi=vt-1;hi>=3&&_e.bl_tree[2*Nt[hi]+1]===0;hi--);return _e.opt_len+=3*(hi+1)+5+5+4,hi}function li(_e,hi,Ce,Ne){var te;for($e(_e,hi-257,5),$e(_e,Ce-1,5),$e(_e,Ne-4,4),te=0;te<Ne;te++)$e(_e,_e.bl_tree[2*Nt[te]+1],3);oi(_e,_e.dyn_ltree,hi-1),oi(_e,_e.dyn_dtree,Ce-1)}function gi(_e){var hi,Ce=4093624447;for(hi=0;hi<=31;hi++,Ce>>>=1)if(1&Ce&&_e.dyn_ltree[2*hi]!==0)return P;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return F;for(hi=32;hi<ot;hi++)if(_e.dyn_ltree[2*hi]!==0)return F;return P}H(oe);var We=!1;function Ii(_e){We||(Lt(),We=!0),_e.l_desc=new ne(_e.dyn_ltree,$t),_e.d_desc=new ne(_e.dyn_dtree,Wt),_e.bl_desc=new ne(_e.bl_tree,fe),_e.bi_buf=0,_e.bi_valid=0,Vt(_e)}function Si(_e,hi,Ce,Ne){$e(_e,(q<<1)+(Ne?1:0),3),pt(_e,hi,Ce)}function Ti(_e){$e(_e,X<<1,3),he(_e,_t,Ct),ue(_e)}function Bi(_e,hi,Ce,Ne){var te,ui,Ai=0;_e.level>0?(_e.strm.data_type===U&&(_e.strm.data_type=gi(_e)),xe(_e,_e.l_desc),xe(_e,_e.d_desc),Ai=mi(_e),te=_e.opt_len+3+7>>>3,(ui=_e.static_len+3+7>>>3)<=te&&(te=ui)):te=ui=Ce+5,Ce+4<=te&&hi!==-1?Si(_e,hi,Ce,Ne):_e.strategy===D||ui===te?($e(_e,(X<<1)+(Ne?1:0),3),jt(_e,Ct,Jt)):($e(_e,(V<<1)+(Ne?1:0),3),li(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,Ai+1),jt(_e,_e.dyn_ltree,_e.dyn_dtree)),Vt(_e),Ne&&ge(_e)}function Ei(_e,hi,Ce){return _e.pending_buf[_e.d_buf+2*_e.last_lit]=hi>>>8&255,_e.pending_buf[_e.d_buf+2*_e.last_lit+1]=255&hi,_e.pending_buf[_e.l_buf+_e.last_lit]=255&Ce,_e.last_lit++,hi===0?_e.dyn_ltree[2*Ce]++:(_e.matches++,hi--,_e.dyn_ltree[2*(Qt[Ce]+ot+1)]++,_e.dyn_dtree[2*ye(hi)]++),_e.last_lit===_e.lit_bufsize-1}g._tr_init=Ii,g._tr_stored_block=Si,g._tr_flush_block=Bi,g._tr_tally=Ei,g._tr_align=Ti},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,D,P=m.exports={};function F(){throw new Error("setTimeout has not been defined")}function U(){throw new Error("clearTimeout has not been defined")}function H(vt){if(w===setTimeout)return setTimeout(vt,0);if((w===F||!w)&&setTimeout)return w=setTimeout,setTimeout(vt,0);try{return w(vt,0)}catch{try{return w.call(null,vt,0)}catch{return w.call(this,vt,0)}}}function q(vt){if(D===clearTimeout)return clearTimeout(vt);if((D===U||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(vt);try{return D(vt)}catch{try{return D.call(null,vt)}catch{return D.call(this,vt)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:F}catch{w=F}try{D=typeof clearTimeout=="function"?clearTimeout:U}catch{D=U}})();var X,V=[],J=!1,et=-1;function at(){J&&X&&(J=!1,X.length?V=X.concat(V):et=-1,V.length&&ot())}function ot(){if(!J){var vt=H(at);J=!0;for(var mt=V.length;mt;){for(X=V,V=[];++et<mt;)X&&X[et].run();et=-1,mt=V.length}X=null,J=!1,q(vt)}}function ut(vt,mt){this.fun=vt,this.array=mt}function yt(){}P.nextTick=function(vt){var mt=new Array(arguments.length-1);if(arguments.length>1)for(var dt=1;dt<arguments.length;dt++)mt[dt-1]=arguments[dt];V.push(new ut(vt,mt)),V.length!==1||J||H(ot)},ut.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=yt,P.addListener=yt,P.once=yt,P.off=yt,P.removeListener=yt,P.removeAllListeners=yt,P.emit=yt,P.prependListener=yt,P.prependOnceListener=yt,P.listeners=function(vt){return[]},P.binding=function(vt){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(vt){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},{}],64:[function(d,m,g){var w=d("buffer"),D=w.Buffer;function P(U,H){for(var q in U)H[q]=U[q]}function F(U,H,q){return D(U,H,q)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?m.exports=w:(P(w,g),g.Buffer=F),F.prototype=Object.create(D.prototype),P(D,F),F.from=function(U,H,q){if(typeof U=="number")throw new TypeError("Argument must not be a number");return D(U,H,q)},F.alloc=function(U,H,q){if(typeof U!="number")throw new TypeError("Argument must be a number");var X=D(U);return H!==void 0?typeof q=="string"?X.fill(H,q):X.fill(H):X.fill(0),X},F.allocUnsafe=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return D(U)},F.allocUnsafeSlow=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(U)}},{buffer:32}],65:[function(d,m,g){m.exports=D;var w=d("events").EventEmitter;function D(){w.call(this)}d("inherits")(D,w),D.Readable=d("readable-stream/lib/_stream_readable.js"),D.Writable=d("readable-stream/lib/_stream_writable.js"),D.Duplex=d("readable-stream/lib/_stream_duplex.js"),D.Transform=d("readable-stream/lib/_stream_transform.js"),D.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),D.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),D.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),D.Stream=D,D.prototype.pipe=function(P,F){var U=this;function H(ot){P.writable&&P.write(ot)===!1&&U.pause&&U.pause()}function q(){U.readable&&U.resume&&U.resume()}U.on("data",H),P.on("drain",q),P._isStdio||F&&F.end===!1||(U.on("end",V),U.on("close",J));var X=!1;function V(){X||(X=!0,P.end())}function J(){X||(X=!0,typeof P.destroy=="function"&&P.destroy())}function et(ot){if(at(),w.listenerCount(this,"error")===0)throw ot}function at(){U.removeListener("data",H),P.removeListener("drain",q),U.removeListener("end",V),U.removeListener("close",J),U.removeListener("error",et),P.removeListener("error",et),U.removeListener("end",at),U.removeListener("close",at),P.removeListener("close",at)}return U.on("error",et),P.on("error",et),U.on("end",at),U.on("close",at),P.on("close",at),P.emit("pipe",U),P}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(X,V){X.prototype=Object.create(V.prototype),X.prototype.constructor=X,X.__proto__=V}var D={};function P(X,V,J){function et(ot,ut,yt){return typeof V=="string"?V:V(ot,ut,yt)}J||(J=Error);var at=(function(ot){function ut(yt,vt,mt){return ot.call(this,et(yt,vt,mt))||this}return w(ut,ot),ut})(J);at.prototype.name=J.name,at.prototype.code=X,D[X]=at}function F(X,V){if(Array.isArray(X)){var J=X.length;return X=X.map((function(et){return String(et)})),J>2?"one of ".concat(V," ").concat(X.slice(0,J-1).join(", "),", or ")+X[J-1]:J===2?"one of ".concat(V," ").concat(X[0]," or ").concat(X[1]):"of ".concat(V," ").concat(X[0])}return"of ".concat(V," ").concat(String(X))}function U(X,V,J){return X.substr(0,V.length)===V}function H(X,V,J){return(J===void 0||J>X.length)&&(J=X.length),X.substring(J-V.length,J)===V}function q(X,V,J){return typeof J!="number"&&(J=0),!(J+V.length>X.length)&&X.indexOf(V,J)!==-1}P("ERR_INVALID_OPT_VALUE",(function(X,V){return'The value "'+V+'" is invalid for option "'+X+'"'}),TypeError),P("ERR_INVALID_ARG_TYPE",(function(X,V,J){var et,at;if(typeof V=="string"&&U(V,"not ")?(et="must not be",V=V.replace(/^not /,"")):et="must be",H(X," argument"))at="The ".concat(X," ").concat(et," ").concat(F(V,"type"));else{var ot=q(X,".")?"property":"argument";at='The "'.concat(X,'" ').concat(ot," ").concat(et," ").concat(F(V,"type"))}return at+=". Received type ".concat(typeof J)}),TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",(function(X){return"The "+X+" method is not implemented"})),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",(function(X){return"Cannot call "+X+" after a stream was destroyed"})),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",(function(X){return"Unknown encoding: "+X}),TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=D},{}],67:[function(d,m,g){(function(w){(function(){var D=Object.keys||function(et){var at=[];for(var ot in et)at.push(ot);return at};m.exports=X;var P=d("./_stream_readable"),F=d("./_stream_writable");d("inherits")(X,P);for(var U=D(F.prototype),H=0;H<U.length;H++){var q=U[H];X.prototype[q]||(X.prototype[q]=F.prototype[q])}function X(et){if(!(this instanceof X))return new X(et);P.call(this,et),F.call(this,et),this.allowHalfOpen=!0,et&&(et.readable===!1&&(this.readable=!1),et.writable===!1&&(this.writable=!1),et.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",V)))}function V(){this._writableState.ended||w.nextTick(J,this)}function J(et){et.end()}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(et){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=et,this._writableState.destroyed=et)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=D;var w=d("./_stream_transform");function D(P){if(!(this instanceof D))return new D(P);w.call(this,P)}d("inherits")(D,w),D.prototype._transform=function(P,F,U){U(null,P)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,D){(function(){var P;m.exports=qt,qt.ReadableState=It,d("events").EventEmitter;var F=function(Lt,Vt){return Lt.listeners(Vt).length},U=d("./internal/streams/stream"),H=d("buffer").Buffer,q=D.Uint8Array||function(){};function X(Lt){return H.from(Lt)}function V(Lt){return H.isBuffer(Lt)||Lt instanceof q}var J,et=d("util");J=et&&et.debuglog?et.debuglog("stream"):function(){};var at,ot,ut,yt=d("./internal/streams/buffer_list"),vt=d("./internal/streams/destroy"),mt=d("./internal/streams/state").getHighWaterMark,dt=d("../errors").codes,gt=dt.ERR_INVALID_ARG_TYPE,At=dt.ERR_STREAM_PUSH_AFTER_EOF,_t=dt.ERR_METHOD_NOT_IMPLEMENTED,Mt=dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(qt,U);var wt=vt.errorOrDestroy,zt=["error","close","destroy","pause","resume"];function ht(Lt,Vt,ge){if(typeof Lt.prependListener=="function")return Lt.prependListener(Vt,ge);Lt._events&&Lt._events[Vt]?Array.isArray(Lt._events[Vt])?Lt._events[Vt].unshift(ge):Lt._events[Vt]=[ge,Lt._events[Vt]]:Lt.on(Vt,ge)}function It(Lt,Vt,ge){P=P||d("./_stream_duplex"),Lt=Lt||{},typeof ge!="boolean"&&(ge=Vt instanceof P),this.objectMode=!!Lt.objectMode,ge&&(this.objectMode=this.objectMode||!!Lt.readableObjectMode),this.highWaterMark=mt(this,Lt,"readableHighWaterMark",ge),this.buffer=new yt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Lt.emitClose!==!1,this.autoDestroy=!!Lt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Lt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Lt.encoding&&(at||(at=d("string_decoder/").StringDecoder),this.decoder=new at(Lt.encoding),this.encoding=Lt.encoding)}function qt(Lt){if(P=P||d("./_stream_duplex"),!(this instanceof qt))return new qt(Lt);var Vt=this instanceof P;this._readableState=new It(Lt,this,Vt),this.readable=!0,Lt&&(typeof Lt.read=="function"&&(this._read=Lt.read),typeof Lt.destroy=="function"&&(this._destroy=Lt.destroy)),U.call(this)}function Nt(Lt,Vt,ge,pt,Rt){J("readableAddChunk",Vt);var Gt,jt=Lt._readableState;if(Vt===null)jt.reading=!1,pe(Lt,jt);else if(Rt||(Gt=Ct(jt,Vt)),Gt)wt(Lt,Gt);else if(jt.objectMode||Vt&&Vt.length>0)if(typeof Vt=="string"||jt.objectMode||Object.getPrototypeOf(Vt)===H.prototype||(Vt=X(Vt)),pt)jt.endEmitted?wt(Lt,new Mt):Ot(Lt,jt,Vt,!0);else if(jt.ended)wt(Lt,new At);else{if(jt.destroyed)return!1;jt.reading=!1,jt.decoder&&!ge?(Vt=jt.decoder.write(Vt),jt.objectMode||Vt.length!==0?Ot(Lt,jt,Vt,!1):fe(Lt,jt)):Ot(Lt,jt,Vt,!1)}else pt||(jt.reading=!1,fe(Lt,jt));return!jt.ended&&(jt.length<jt.highWaterMark||jt.length===0)}function Ot(Lt,Vt,ge,pt){Vt.flowing&&Vt.length===0&&!Vt.sync?(Vt.awaitDrain=0,Lt.emit("data",ge)):(Vt.length+=Vt.objectMode?1:ge.length,pt?Vt.buffer.unshift(ge):Vt.buffer.push(ge),Vt.needReadable&&$t(Lt)),fe(Lt,Vt)}function Ct(Lt,Vt){var ge;return V(Vt)||typeof Vt=="string"||Vt===void 0||Lt.objectMode||(ge=new gt("chunk",["string","Buffer","Uint8Array"],Vt)),ge}Object.defineProperty(qt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Lt){this._readableState&&(this._readableState.destroyed=Lt)}}),qt.prototype.destroy=vt.destroy,qt.prototype._undestroy=vt.undestroy,qt.prototype._destroy=function(Lt,Vt){Vt(Lt)},qt.prototype.push=function(Lt,Vt){var ge,pt=this._readableState;return pt.objectMode?ge=!0:typeof Lt=="string"&&((Vt=Vt||pt.defaultEncoding)!==pt.encoding&&(Lt=H.from(Lt,Vt),Vt=""),ge=!0),Nt(this,Lt,Vt,!1,ge)},qt.prototype.unshift=function(Lt){return Nt(this,Lt,null,!0,!1)},qt.prototype.isPaused=function(){return this._readableState.flowing===!1},qt.prototype.setEncoding=function(Lt){at||(at=d("string_decoder/").StringDecoder);var Vt=new at(Lt);this._readableState.decoder=Vt,this._readableState.encoding=this._readableState.decoder.encoding;for(var ge=this._readableState.buffer.head,pt="";ge!==null;)pt+=Vt.write(ge.data),ge=ge.next;return this._readableState.buffer.clear(),pt!==""&&this._readableState.buffer.push(pt),this._readableState.length=pt.length,this};var Jt=1073741824;function Kt(Lt){return Lt>=Jt?Lt=Jt:(Lt--,Lt|=Lt>>>1,Lt|=Lt>>>2,Lt|=Lt>>>4,Lt|=Lt>>>8,Lt|=Lt>>>16,Lt++),Lt}function Qt(Lt,Vt){return Lt<=0||Vt.length===0&&Vt.ended?0:Vt.objectMode?1:Lt!=Lt?Vt.flowing&&Vt.length?Vt.buffer.head.data.length:Vt.length:(Lt>Vt.highWaterMark&&(Vt.highWaterMark=Kt(Lt)),Lt<=Vt.length?Lt:Vt.ended?Vt.length:(Vt.needReadable=!0,0))}function pe(Lt,Vt){if(J("onEofChunk"),!Vt.ended){if(Vt.decoder){var ge=Vt.decoder.end();ge&&ge.length&&(Vt.buffer.push(ge),Vt.length+=Vt.objectMode?1:ge.length)}Vt.ended=!0,Vt.sync?$t(Lt):(Vt.needReadable=!1,Vt.emittedReadable||(Vt.emittedReadable=!0,Wt(Lt)))}}function $t(Lt){var Vt=Lt._readableState;J("emitReadable",Vt.needReadable,Vt.emittedReadable),Vt.needReadable=!1,Vt.emittedReadable||(J("emitReadable",Vt.flowing),Vt.emittedReadable=!0,w.nextTick(Wt,Lt))}function Wt(Lt){var Vt=Lt._readableState;J("emitReadable_",Vt.destroyed,Vt.length,Vt.ended),Vt.destroyed||!Vt.length&&!Vt.ended||(Lt.emit("readable"),Vt.emittedReadable=!1),Vt.needReadable=!Vt.flowing&&!Vt.ended&&Vt.length<=Vt.highWaterMark,he(Lt)}function fe(Lt,Vt){Vt.readingMore||(Vt.readingMore=!0,w.nextTick(oe,Lt,Vt))}function oe(Lt,Vt){for(;!Vt.reading&&!Vt.ended&&(Vt.length<Vt.highWaterMark||Vt.flowing&&Vt.length===0);){var ge=Vt.length;if(J("maybeReadMore read 0"),Lt.read(0),ge===Vt.length)break}Vt.readingMore=!1}function Xt(Lt){return function(){var Vt=Lt._readableState;J("pipeOnDrain",Vt.awaitDrain),Vt.awaitDrain&&Vt.awaitDrain--,Vt.awaitDrain===0&&F(Lt,"data")&&(Vt.flowing=!0,he(Lt))}}function ne(Lt){var Vt=Lt._readableState;Vt.readableListening=Lt.listenerCount("readable")>0,Vt.resumeScheduled&&!Vt.paused?Vt.flowing=!0:Lt.listenerCount("data")>0&&Lt.resume()}function ye(Lt){J("readable nexttick read 0"),Lt.read(0)}function Ie(Lt,Vt){Vt.resumeScheduled||(Vt.resumeScheduled=!0,w.nextTick($e,Lt,Vt))}function $e(Lt,Vt){J("resume",Vt.reading),Vt.reading||Lt.read(0),Vt.resumeScheduled=!1,Lt.emit("resume"),he(Lt),Vt.flowing&&!Vt.reading&&Lt.read(0)}function he(Lt){var Vt=Lt._readableState;for(J("flow",Vt.flowing);Vt.flowing&&Lt.read()!==null;);}function xt(Lt,Vt){return Vt.length===0?null:(Vt.objectMode?ge=Vt.buffer.shift():!Lt||Lt>=Vt.length?(ge=Vt.decoder?Vt.buffer.join(""):Vt.buffer.length===1?Vt.buffer.first():Vt.buffer.concat(Vt.length),Vt.buffer.clear()):ge=Vt.buffer.consume(Lt,Vt.decoder),ge);var ge}function ue(Lt){var Vt=Lt._readableState;J("endReadable",Vt.endEmitted),Vt.endEmitted||(Vt.ended=!0,w.nextTick(Ft,Vt,Lt))}function Ft(Lt,Vt){if(J("endReadableNT",Lt.endEmitted,Lt.length),!Lt.endEmitted&&Lt.length===0&&(Lt.endEmitted=!0,Vt.readable=!1,Vt.emit("end"),Lt.autoDestroy)){var ge=Vt._writableState;(!ge||ge.autoDestroy&&ge.finished)&&Vt.destroy()}}function Ut(Lt,Vt){for(var ge=0,pt=Lt.length;ge<pt;ge++)if(Lt[ge]===Vt)return ge;return-1}qt.prototype.read=function(Lt){J("read",Lt),Lt=parseInt(Lt,10);var Vt=this._readableState,ge=Lt;if(Lt!==0&&(Vt.emittedReadable=!1),Lt===0&&Vt.needReadable&&((Vt.highWaterMark!==0?Vt.length>=Vt.highWaterMark:Vt.length>0)||Vt.ended))return J("read: emitReadable",Vt.length,Vt.ended),Vt.length===0&&Vt.ended?ue(this):$t(this),null;if((Lt=Qt(Lt,Vt))===0&&Vt.ended)return Vt.length===0&&ue(this),null;var pt,Rt=Vt.needReadable;return J("need readable",Rt),(Vt.length===0||Vt.length-Lt<Vt.highWaterMark)&&J("length less than watermark",Rt=!0),Vt.ended||Vt.reading?J("reading or ended",Rt=!1):Rt&&(J("do read"),Vt.reading=!0,Vt.sync=!0,Vt.length===0&&(Vt.needReadable=!0),this._read(Vt.highWaterMark),Vt.sync=!1,Vt.reading||(Lt=Qt(ge,Vt))),(pt=Lt>0?xt(Lt,Vt):null)===null?(Vt.needReadable=Vt.length<=Vt.highWaterMark,Lt=0):(Vt.length-=Lt,Vt.awaitDrain=0),Vt.length===0&&(Vt.ended||(Vt.needReadable=!0),ge!==Lt&&Vt.ended&&ue(this)),pt!==null&&this.emit("data",pt),pt},qt.prototype._read=function(Lt){wt(this,new _t("_read()"))},qt.prototype.pipe=function(Lt,Vt){var ge=this,pt=this._readableState;switch(pt.pipesCount){case 0:pt.pipes=Lt;break;case 1:pt.pipes=[pt.pipes,Lt];break;default:pt.pipes.push(Lt)}pt.pipesCount+=1,J("pipe count=%d opts=%j",pt.pipesCount,Vt);var Rt=Vt&&Vt.end===!1||Lt===w.stdout||Lt===w.stderr?Ii:jt;function Gt(Si,Ti){J("onunpipe"),Si===ge&&Ti&&Ti.hasUnpiped===!1&&(Ti.hasUnpiped=!0,oi())}function jt(){J("onend"),Lt.end()}pt.endEmitted?w.nextTick(Rt):ge.once("end",Rt),Lt.on("unpipe",Gt);var xe=Xt(ge);Lt.on("drain",xe);var Be=!1;function oi(){J("cleanup"),Lt.removeListener("close",gi),Lt.removeListener("finish",We),Lt.removeListener("drain",xe),Lt.removeListener("error",li),Lt.removeListener("unpipe",Gt),ge.removeListener("end",jt),ge.removeListener("end",Ii),ge.removeListener("data",mi),Be=!0,!pt.awaitDrain||Lt._writableState&&!Lt._writableState.needDrain||xe()}function mi(Si){J("ondata");var Ti=Lt.write(Si);J("dest.write",Ti),Ti===!1&&((pt.pipesCount===1&&pt.pipes===Lt||pt.pipesCount>1&&Ut(pt.pipes,Lt)!==-1)&&!Be&&(J("false write response, pause",pt.awaitDrain),pt.awaitDrain++),ge.pause())}function li(Si){J("onerror",Si),Ii(),Lt.removeListener("error",li),F(Lt,"error")===0&&wt(Lt,Si)}function gi(){Lt.removeListener("finish",We),Ii()}function We(){J("onfinish"),Lt.removeListener("close",gi),Ii()}function Ii(){J("unpipe"),ge.unpipe(Lt)}return ge.on("data",mi),ht(Lt,"error",li),Lt.once("close",gi),Lt.once("finish",We),Lt.emit("pipe",ge),pt.flowing||(J("pipe resume"),ge.resume()),Lt},qt.prototype.unpipe=function(Lt){var Vt=this._readableState,ge={hasUnpiped:!1};if(Vt.pipesCount===0)return this;if(Vt.pipesCount===1)return Lt&&Lt!==Vt.pipes||(Lt||(Lt=Vt.pipes),Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1,Lt&&Lt.emit("unpipe",this,ge)),this;if(!Lt){var pt=Vt.pipes,Rt=Vt.pipesCount;Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1;for(var Gt=0;Gt<Rt;Gt++)pt[Gt].emit("unpipe",this,{hasUnpiped:!1});return this}var jt=Ut(Vt.pipes,Lt);return jt===-1||(Vt.pipes.splice(jt,1),Vt.pipesCount-=1,Vt.pipesCount===1&&(Vt.pipes=Vt.pipes[0]),Lt.emit("unpipe",this,ge)),this},qt.prototype.on=function(Lt,Vt){var ge=U.prototype.on.call(this,Lt,Vt),pt=this._readableState;return Lt==="data"?(pt.readableListening=this.listenerCount("readable")>0,pt.flowing!==!1&&this.resume()):Lt==="readable"&&(pt.endEmitted||pt.readableListening||(pt.readableListening=pt.needReadable=!0,pt.flowing=!1,pt.emittedReadable=!1,J("on readable",pt.length,pt.reading),pt.length?$t(this):pt.reading||w.nextTick(ye,this))),ge},qt.prototype.addListener=qt.prototype.on,qt.prototype.removeListener=function(Lt,Vt){var ge=U.prototype.removeListener.call(this,Lt,Vt);return Lt==="readable"&&w.nextTick(ne,this),ge},qt.prototype.removeAllListeners=function(Lt){var Vt=U.prototype.removeAllListeners.apply(this,arguments);return Lt!=="readable"&&Lt!==void 0||w.nextTick(ne,this),Vt},qt.prototype.resume=function(){var Lt=this._readableState;return Lt.flowing||(J("resume"),Lt.flowing=!Lt.readableListening,Ie(this,Lt)),Lt.paused=!1,this},qt.prototype.pause=function(){return J("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(J("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},qt.prototype.wrap=function(Lt){var Vt=this,ge=this._readableState,pt=!1;for(var Rt in Lt.on("end",(function(){if(J("wrapped end"),ge.decoder&&!ge.ended){var jt=ge.decoder.end();jt&&jt.length&&Vt.push(jt)}Vt.push(null)})),Lt.on("data",(function(jt){J("wrapped data"),ge.decoder&&(jt=ge.decoder.write(jt)),ge.objectMode&&jt==null||(ge.objectMode||jt&&jt.length)&&(Vt.push(jt)||(pt=!0,Lt.pause()))})),Lt)this[Rt]===void 0&&typeof Lt[Rt]=="function"&&(this[Rt]=(function(jt){return function(){return Lt[jt].apply(Lt,arguments)}})(Rt));for(var Gt=0;Gt<zt.length;Gt++)Lt.on(zt[Gt],this.emit.bind(this,zt[Gt]));return this._read=function(jt){J("wrapped _read",jt),pt&&(pt=!1,Lt.resume())},this},typeof Symbol=="function"&&(qt.prototype[Symbol.asyncIterator]=function(){return ot===void 0&&(ot=d("./internal/streams/async_iterator")),ot(this)}),Object.defineProperty(qt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(qt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(qt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Lt){this._readableState&&(this._readableState.flowing=Lt)}}),qt._fromList=xt,Object.defineProperty(qt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(qt.from=function(Lt,Vt){return ut===void 0&&(ut=d("./internal/streams/from")),ut(qt,Lt,Vt)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=X;var w=d("../errors").codes,D=w.ERR_METHOD_NOT_IMPLEMENTED,P=w.ERR_MULTIPLE_CALLBACK,F=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,U=w.ERR_TRANSFORM_WITH_LENGTH_0,H=d("./_stream_duplex");function q(et,at){var ot=this._transformState;ot.transforming=!1;var ut=ot.writecb;if(ut===null)return this.emit("error",new P);ot.writechunk=null,ot.writecb=null,at!=null&&this.push(at),ut(et);var yt=this._readableState;yt.reading=!1,(yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}function X(et){if(!(this instanceof X))return new X(et);H.call(this,et),this._transformState={afterTransform:q.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",V)}function V(){var et=this;typeof this._flush!="function"||this._readableState.destroyed?J(this,null,null):this._flush((function(at,ot){J(et,at,ot)}))}function J(et,at,ot){if(at)return et.emit("error",at);if(ot!=null&&et.push(ot),et._writableState.length)throw new U;if(et._transformState.transforming)throw new F;return et.push(null)}d("inherits")(X,H),X.prototype.push=function(et,at){return this._transformState.needTransform=!1,H.prototype.push.call(this,et,at)},X.prototype._transform=function(et,at,ot){ot(new D("_transform()"))},X.prototype._write=function(et,at,ot){var ut=this._transformState;if(ut.writecb=ot,ut.writechunk=et,ut.writeencoding=at,!ut.transforming){var yt=this._readableState;(ut.needTransform||yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}},X.prototype._read=function(et){var at=this._transformState;at.writechunk===null||at.transforming?at.needTransform=!0:(at.transforming=!0,this._transform(at.writechunk,at.writeencoding,at.afterTransform))},X.prototype._destroy=function(et,at){H.prototype._destroy.call(this,et,(function(ot){at(ot)}))}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,D){(function(){function P(he){var xt=this;this.next=null,this.entry=null,this.finish=function(){$e(xt,he)}}var F;m.exports=It,It.WritableState=ht;var U={deprecate:d("util-deprecate")},H=d("./internal/streams/stream"),q=d("buffer").Buffer,X=D.Uint8Array||function(){};function V(he){return q.from(he)}function J(he){return q.isBuffer(he)||he instanceof X}var et,at=d("./internal/streams/destroy"),ot=d("./internal/streams/state").getHighWaterMark,ut=d("../errors").codes,yt=ut.ERR_INVALID_ARG_TYPE,vt=ut.ERR_METHOD_NOT_IMPLEMENTED,mt=ut.ERR_MULTIPLE_CALLBACK,dt=ut.ERR_STREAM_CANNOT_PIPE,gt=ut.ERR_STREAM_DESTROYED,At=ut.ERR_STREAM_NULL_VALUES,_t=ut.ERR_STREAM_WRITE_AFTER_END,Mt=ut.ERR_UNKNOWN_ENCODING,wt=at.errorOrDestroy;function zt(){}function ht(he,xt,ue){F=F||d("./_stream_duplex"),he=he||{},typeof ue!="boolean"&&(ue=xt instanceof F),this.objectMode=!!he.objectMode,ue&&(this.objectMode=this.objectMode||!!he.writableObjectMode),this.highWaterMark=ot(this,he,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ft=he.decodeStrings===!1;this.decodeStrings=!Ft,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ut){pe(xt,Ut)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}function It(he){var xt=this instanceof(F=F||d("./_stream_duplex"));if(!xt&&!et.call(It,this))return new It(he);this._writableState=new ht(he,this,xt),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.final=="function"&&(this._final=he.final)),H.call(this)}function qt(he,xt){var ue=new _t;wt(he,ue),w.nextTick(xt,ue)}function Nt(he,xt,ue,Ft){var Ut;return ue===null?Ut=new At:typeof ue=="string"||xt.objectMode||(Ut=new yt("chunk",["string","Buffer"],ue)),!Ut||(wt(he,Ut),w.nextTick(Ft,Ut),!1)}function Ot(he,xt,ue){return he.objectMode||he.decodeStrings===!1||typeof xt!="string"||(xt=q.from(xt,ue)),xt}function Ct(he,xt,ue,Ft,Ut,Lt){if(!ue){var Vt=Ot(xt,Ft,Ut);Ft!==Vt&&(ue=!0,Ut="buffer",Ft=Vt)}var ge=xt.objectMode?1:Ft.length;xt.length+=ge;var pt=xt.length<xt.highWaterMark;if(pt||(xt.needDrain=!0),xt.writing||xt.corked){var Rt=xt.lastBufferedRequest;xt.lastBufferedRequest={chunk:Ft,encoding:Ut,isBuf:ue,callback:Lt,next:null},Rt?Rt.next=xt.lastBufferedRequest:xt.bufferedRequest=xt.lastBufferedRequest,xt.bufferedRequestCount+=1}else Jt(he,xt,!1,ge,Ft,Ut,Lt);return pt}function Jt(he,xt,ue,Ft,Ut,Lt,Vt){xt.writelen=Ft,xt.writecb=Vt,xt.writing=!0,xt.sync=!0,xt.destroyed?xt.onwrite(new gt("write")):ue?he._writev(Ut,xt.onwrite):he._write(Ut,Lt,xt.onwrite),xt.sync=!1}function Kt(he,xt,ue,Ft,Ut){--xt.pendingcb,ue?(w.nextTick(Ut,Ft),w.nextTick(ye,he,xt),he._writableState.errorEmitted=!0,wt(he,Ft)):(Ut(Ft),he._writableState.errorEmitted=!0,wt(he,Ft),ye(he,xt))}function Qt(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function pe(he,xt){var ue=he._writableState,Ft=ue.sync,Ut=ue.writecb;if(typeof Ut!="function")throw new mt;if(Qt(ue),xt)Kt(he,ue,Ft,xt,Ut);else{var Lt=oe(ue)||he.destroyed;Lt||ue.corked||ue.bufferProcessing||!ue.bufferedRequest||fe(he,ue),Ft?w.nextTick($t,he,ue,Lt,Ut):$t(he,ue,Lt,Ut)}}function $t(he,xt,ue,Ft){ue||Wt(he,xt),xt.pendingcb--,Ft(),ye(he,xt)}function Wt(he,xt){xt.length===0&&xt.needDrain&&(xt.needDrain=!1,he.emit("drain"))}function fe(he,xt){xt.bufferProcessing=!0;var ue=xt.bufferedRequest;if(he._writev&&ue&&ue.next){var Ft=xt.bufferedRequestCount,Ut=new Array(Ft),Lt=xt.corkedRequestsFree;Lt.entry=ue;for(var Vt=0,ge=!0;ue;)Ut[Vt]=ue,ue.isBuf||(ge=!1),ue=ue.next,Vt+=1;Ut.allBuffers=ge,Jt(he,xt,!0,xt.length,Ut,"",Lt.finish),xt.pendingcb++,xt.lastBufferedRequest=null,Lt.next?(xt.corkedRequestsFree=Lt.next,Lt.next=null):xt.corkedRequestsFree=new P(xt),xt.bufferedRequestCount=0}else{for(;ue;){var pt=ue.chunk,Rt=ue.encoding,Gt=ue.callback;if(Jt(he,xt,!1,xt.objectMode?1:pt.length,pt,Rt,Gt),ue=ue.next,xt.bufferedRequestCount--,xt.writing)break}ue===null&&(xt.lastBufferedRequest=null)}xt.bufferedRequest=ue,xt.bufferProcessing=!1}function oe(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function Xt(he,xt){he._final((function(ue){xt.pendingcb--,ue&&wt(he,ue),xt.prefinished=!0,he.emit("prefinish"),ye(he,xt)}))}function ne(he,xt){xt.prefinished||xt.finalCalled||(typeof he._final!="function"||xt.destroyed?(xt.prefinished=!0,he.emit("prefinish")):(xt.pendingcb++,xt.finalCalled=!0,w.nextTick(Xt,he,xt)))}function ye(he,xt){var ue=oe(xt);if(ue&&(ne(he,xt),xt.pendingcb===0&&(xt.finished=!0,he.emit("finish"),xt.autoDestroy))){var Ft=he._readableState;(!Ft||Ft.autoDestroy&&Ft.endEmitted)&&he.destroy()}return ue}function Ie(he,xt,ue){xt.ending=!0,ye(he,xt),ue&&(xt.finished?w.nextTick(ue):he.once("finish",ue)),xt.ended=!0,he.writable=!1}function $e(he,xt,ue){var Ft=he.entry;for(he.entry=null;Ft;){var Ut=Ft.callback;xt.pendingcb--,Ut(ue),Ft=Ft.next}xt.corkedRequestsFree.next=he}d("inherits")(It,H),ht.prototype.getBuffer=function(){for(var he=this.bufferedRequest,xt=[];he;)xt.push(he),he=he.next;return xt},(function(){try{Object.defineProperty(ht.prototype,"buffer",{get:U.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(et=Function.prototype[Symbol.hasInstance],Object.defineProperty(It,Symbol.hasInstance,{value:function(he){return!!et.call(this,he)||this===It&&he&&he._writableState instanceof ht}})):et=function(he){return he instanceof this},It.prototype.pipe=function(){wt(this,new dt)},It.prototype.write=function(he,xt,ue){var Ft=this._writableState,Ut=!1,Lt=!Ft.objectMode&&J(he);return Lt&&!q.isBuffer(he)&&(he=V(he)),typeof xt=="function"&&(ue=xt,xt=null),Lt?xt="buffer":xt||(xt=Ft.defaultEncoding),typeof ue!="function"&&(ue=zt),Ft.ending?qt(this,ue):(Lt||Nt(this,Ft,he,ue))&&(Ft.pendingcb++,Ut=Ct(this,Ft,Lt,he,xt,ue)),Ut},It.prototype.cork=function(){this._writableState.corked++},It.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,he.writing||he.corked||he.bufferProcessing||!he.bufferedRequest||fe(this,he))},It.prototype.setDefaultEncoding=function(he){if(typeof he=="string"&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new Mt(he);return this._writableState.defaultEncoding=he,this},Object.defineProperty(It.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(It.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),It.prototype._write=function(he,xt,ue){ue(new vt("_write()"))},It.prototype._writev=null,It.prototype.end=function(he,xt,ue){var Ft=this._writableState;return typeof he=="function"?(ue=he,he=null,xt=null):typeof xt=="function"&&(ue=xt,xt=null),he!=null&&this.write(he,xt),Ft.corked&&(Ft.corked=1,this.uncork()),Ft.ending||Ie(this,Ft,ue),this},Object.defineProperty(It.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(It.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(he){this._writableState&&(this._writableState.destroyed=he)}}),It.prototype.destroy=at.destroy,It.prototype._undestroy=at.undestroy,It.prototype._destroy=function(he,xt){xt(he)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var D;function P(gt,At,_t){return At in gt?Object.defineProperty(gt,At,{value:_t,enumerable:!0,configurable:!0,writable:!0}):gt[At]=_t,gt}var F=d("./end-of-stream"),U=Symbol("lastResolve"),H=Symbol("lastReject"),q=Symbol("error"),X=Symbol("ended"),V=Symbol("lastPromise"),J=Symbol("handlePromise"),et=Symbol("stream");function at(gt,At){return{value:gt,done:At}}function ot(gt){var At=gt[U];if(At!==null){var _t=gt[et].read();_t!==null&&(gt[V]=null,gt[U]=null,gt[H]=null,At(at(_t,!1)))}}function ut(gt){w.nextTick(ot,gt)}function yt(gt,At){return function(_t,Mt){gt.then((function(){At[X]?_t(at(void 0,!0)):At[J](_t,Mt)}),Mt)}}var vt=Object.getPrototypeOf((function(){})),mt=Object.setPrototypeOf((D={get stream(){return this[et]},next:function(){var gt=this,At=this[q];if(At!==null)return Promise.reject(At);if(this[X])return Promise.resolve(at(void 0,!0));if(this[et].destroyed)return new Promise((function(zt,ht){w.nextTick((function(){gt[q]?ht(gt[q]):zt(at(void 0,!0))}))}));var _t,Mt=this[V];if(Mt)_t=new Promise(yt(Mt,this));else{var wt=this[et].read();if(wt!==null)return Promise.resolve(at(wt,!1));_t=new Promise(this[J])}return this[V]=_t,_t}},P(D,Symbol.asyncIterator,(function(){return this})),P(D,"return",(function(){var gt=this;return new Promise((function(At,_t){gt[et].destroy(null,(function(Mt){Mt?_t(Mt):At(at(void 0,!0))}))}))})),D),vt),dt=function(gt){var At,_t=Object.create(mt,(P(At={},et,{value:gt,writable:!0}),P(At,U,{value:null,writable:!0}),P(At,H,{value:null,writable:!0}),P(At,q,{value:null,writable:!0}),P(At,X,{value:gt._readableState.endEmitted,writable:!0}),P(At,J,{value:function(Mt,wt){var zt=_t[et].read();zt?(_t[V]=null,_t[U]=null,_t[H]=null,Mt(at(zt,!1))):(_t[U]=Mt,_t[H]=wt)},writable:!0}),At));return _t[V]=null,F(gt,(function(Mt){if(Mt&&Mt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wt=_t[H];return wt!==null&&(_t[V]=null,_t[U]=null,_t[H]=null,wt(Mt)),void(_t[q]=Mt)}var zt=_t[U];zt!==null&&(_t[V]=null,_t[U]=null,_t[H]=null,zt(at(void 0,!0))),_t[X]=!0})),gt.on("readable",ut.bind(null,_t)),_t};m.exports=dt}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(et,at){var ot=Object.keys(et);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(et);at&&(ut=ut.filter((function(yt){return Object.getOwnPropertyDescriptor(et,yt).enumerable}))),ot.push.apply(ot,ut)}return ot}function D(et){for(var at=1;at<arguments.length;at++){var ot=arguments[at]!=null?arguments[at]:{};at%2?w(Object(ot),!0).forEach((function(ut){P(et,ut,ot[ut])})):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(ot)):w(Object(ot)).forEach((function(ut){Object.defineProperty(et,ut,Object.getOwnPropertyDescriptor(ot,ut))}))}return et}function P(et,at,ot){return at in et?Object.defineProperty(et,at,{value:ot,enumerable:!0,configurable:!0,writable:!0}):et[at]=ot,et}function F(et,at){if(!(et instanceof at))throw new TypeError("Cannot call a class as a function")}function U(et,at){for(var ot=0;ot<at.length;ot++){var ut=at[ot];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(et,ut.key,ut)}}function H(et,at,ot){return at&&U(et.prototype,at),et}var q=d("buffer").Buffer,X=d("util").inspect,V=X&&X.custom||"inspect";function J(et,at,ot){q.prototype.copy.call(et,at,ot)}m.exports=(function(){function et(){F(this,et),this.head=null,this.tail=null,this.length=0}return H(et,[{key:"push",value:function(at){var ot={data:at,next:null};this.length>0?this.tail.next=ot:this.head=ot,this.tail=ot,++this.length}},{key:"unshift",value:function(at){var ot={data:at,next:this.head};this.length===0&&(this.tail=ot),this.head=ot,++this.length}},{key:"shift",value:function(){if(this.length!==0){var at=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,at}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(at){if(this.length===0)return"";for(var ot=this.head,ut=""+ot.data;ot=ot.next;)ut+=at+ot.data;return ut}},{key:"concat",value:function(at){if(this.length===0)return q.alloc(0);for(var ot=q.allocUnsafe(at>>>0),ut=this.head,yt=0;ut;)J(ut.data,ot,yt),yt+=ut.data.length,ut=ut.next;return ot}},{key:"consume",value:function(at,ot){var ut;return at<this.head.data.length?(ut=this.head.data.slice(0,at),this.head.data=this.head.data.slice(at)):ut=at===this.head.data.length?this.shift():ot?this._getString(at):this._getBuffer(at),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(at){var ot=this.head,ut=1,yt=ot.data;for(at-=yt.length;ot=ot.next;){var vt=ot.data,mt=at>vt.length?vt.length:at;if(mt===vt.length?yt+=vt:yt+=vt.slice(0,at),(at-=mt)==0){mt===vt.length?(++ut,ot.next?this.head=ot.next:this.head=this.tail=null):(this.head=ot,ot.data=vt.slice(mt));break}++ut}return this.length-=ut,yt}},{key:"_getBuffer",value:function(at){var ot=q.allocUnsafe(at),ut=this.head,yt=1;for(ut.data.copy(ot),at-=ut.data.length;ut=ut.next;){var vt=ut.data,mt=at>vt.length?vt.length:at;if(vt.copy(ot,ot.length-at,0,mt),(at-=mt)==0){mt===vt.length?(++yt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=vt.slice(mt));break}++yt}return this.length-=yt,ot}},{key:V,value:function(at,ot){return X(this,D({},ot,{depth:0,customInspect:!1}))}}]),et})()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function D(X,V){var J=this,et=this._readableState&&this._readableState.destroyed,at=this._writableState&&this._writableState.destroyed;return et||at?(V?V(X):X&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(H,this,X)):w.nextTick(H,this,X)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(X||null,(function(ot){!V&&ot?J._writableState?J._writableState.errorEmitted?w.nextTick(F,J):(J._writableState.errorEmitted=!0,w.nextTick(P,J,ot)):w.nextTick(P,J,ot):V?(w.nextTick(F,J),V(ot)):w.nextTick(F,J)})),this)}function P(X,V){H(X,V),F(X)}function F(X){X._writableState&&!X._writableState.emitClose||X._readableState&&!X._readableState.emitClose||X.emit("close")}function U(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function H(X,V){X.emit("error",V)}function q(X,V){var J=X._readableState,et=X._writableState;J&&J.autoDestroy||et&&et.autoDestroy?X.destroy(V):X.emit("error",V)}m.exports={destroy:D,undestroy:U,errorOrDestroy:q}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function D(H){var q=!1;return function(){if(!q){q=!0;for(var X=arguments.length,V=new Array(X),J=0;J<X;J++)V[J]=arguments[J];H.apply(this,V)}}}function P(){}function F(H){return H.setHeader&&typeof H.abort=="function"}function U(H,q,X){if(typeof q=="function")return U(H,null,q);q||(q={}),X=D(X||P);var V=q.readable||q.readable!==!1&&H.readable,J=q.writable||q.writable!==!1&&H.writable,et=function(){H.writable||ot()},at=H._writableState&&H._writableState.finished,ot=function(){J=!1,at=!0,V||X.call(H)},ut=H._readableState&&H._readableState.endEmitted,yt=function(){V=!1,ut=!0,J||X.call(H)},vt=function(gt){X.call(H,gt)},mt=function(){var gt;return V&&!ut?(H._readableState&&H._readableState.ended||(gt=new w),X.call(H,gt)):J&&!at?(H._writableState&&H._writableState.ended||(gt=new w),X.call(H,gt)):void 0},dt=function(){H.req.on("finish",ot)};return F(H)?(H.on("complete",ot),H.on("abort",mt),H.req?dt():H.on("request",dt)):J&&!H._writableState&&(H.on("end",et),H.on("close",et)),H.on("end",yt),H.on("finish",ot),q.error!==!1&&H.on("error",vt),H.on("close",mt),function(){H.removeListener("complete",ot),H.removeListener("abort",mt),H.removeListener("request",dt),H.req&&H.req.removeListener("finish",ot),H.removeListener("end",et),H.removeListener("close",et),H.removeListener("finish",ot),H.removeListener("end",yt),H.removeListener("error",vt),H.removeListener("close",mt)}}m.exports=U},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function D(ot){var ut=!1;return function(){ut||(ut=!0,ot.apply(void 0,arguments))}}var P=d("../../../errors").codes,F=P.ERR_MISSING_ARGS,U=P.ERR_STREAM_DESTROYED;function H(ot){if(ot)throw ot}function q(ot){return ot.setHeader&&typeof ot.abort=="function"}function X(ot,ut,yt,vt){vt=D(vt);var mt=!1;ot.on("close",(function(){mt=!0})),w===void 0&&(w=d("./end-of-stream")),w(ot,{readable:ut,writable:yt},(function(gt){if(gt)return vt(gt);mt=!0,vt()}));var dt=!1;return function(gt){if(!mt&&!dt)return dt=!0,q(ot)?ot.abort():typeof ot.destroy=="function"?ot.destroy():void vt(gt||new U("pipe"))}}function V(ot){ot()}function J(ot,ut){return ot.pipe(ut)}function et(ot){return ot.length?typeof ot[ot.length-1]!="function"?H:ot.pop():H}function at(){for(var ot=arguments.length,ut=new Array(ot),yt=0;yt<ot;yt++)ut[yt]=arguments[yt];var vt,mt=et(ut);if(Array.isArray(ut[0])&&(ut=ut[0]),ut.length<2)throw new F("streams");var dt=ut.map((function(gt,At){var _t=At<ut.length-1;return X(gt,_t,At>0,(function(Mt){vt||(vt=Mt),Mt&&dt.forEach(V),_t||(dt.forEach(V),mt(vt))}))}));return ut.reduce(J)}m.exports=at},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function D(F,U,H){return F.highWaterMark!=null?F.highWaterMark:U?F[H]:null}function P(F,U,H,q){var X=D(U,q,H);if(X!=null){if(!isFinite(X)||Math.floor(X)!==X||X<0)throw new w(q?H:"highWaterMark",X);return Math.floor(X)}return F.objectMode?16:16384}m.exports={getHighWaterMark:P}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,D=w.isEncoding||function(dt){switch((dt=""+dt)&&dt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(dt){if(!dt)return"utf8";for(var gt;;)switch(dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return dt;default:if(gt)return;dt=(""+dt).toLowerCase(),gt=!0}}function F(dt){var gt=P(dt);if(typeof gt!="string"&&(w.isEncoding===D||!D(dt)))throw new Error("Unknown encoding: "+dt);return gt||dt}function U(dt){var gt;switch(this.encoding=F(dt),this.encoding){case"utf16le":this.text=at,this.end=ot,gt=4;break;case"utf8":this.fillLast=V,gt=4;break;case"base64":this.text=ut,this.end=yt,gt=3;break;default:return this.write=vt,void(this.end=mt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(gt)}function H(dt){return dt<=127?0:dt>>5==6?2:dt>>4==14?3:dt>>3==30?4:dt>>6==2?-1:-2}function q(dt,gt,At){var _t=gt.length-1;if(_t<At)return 0;var Mt=H(gt[_t]);return Mt>=0?(Mt>0&&(dt.lastNeed=Mt-1),Mt):--_t<At||Mt===-2?0:(Mt=H(gt[_t]))>=0?(Mt>0&&(dt.lastNeed=Mt-2),Mt):--_t<At||Mt===-2?0:(Mt=H(gt[_t]))>=0?(Mt>0&&(Mt===2?Mt=0:dt.lastNeed=Mt-3),Mt):0}function X(dt,gt,At){if((192&gt[0])!=128)return dt.lastNeed=0,"";if(dt.lastNeed>1&&gt.length>1){if((192&gt[1])!=128)return dt.lastNeed=1,"";if(dt.lastNeed>2&&gt.length>2&&(192&gt[2])!=128)return dt.lastNeed=2,""}}function V(dt){var gt=this.lastTotal-this.lastNeed,At=X(this,dt);return At!==void 0?At:this.lastNeed<=dt.length?(dt.copy(this.lastChar,gt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(dt.copy(this.lastChar,gt,0,dt.length),void(this.lastNeed-=dt.length))}function J(dt,gt){var At=q(this,dt,gt);if(!this.lastNeed)return dt.toString("utf8",gt);this.lastTotal=At;var _t=dt.length-(At-this.lastNeed);return dt.copy(this.lastChar,0,_t),dt.toString("utf8",gt,_t)}function et(dt){var gt=dt&&dt.length?this.write(dt):"";return this.lastNeed?gt+"":gt}function at(dt,gt){if((dt.length-gt)%2==0){var At=dt.toString("utf16le",gt);if(At){var _t=At.charCodeAt(At.length-1);if(_t>=55296&&_t<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=dt[dt.length-2],this.lastChar[1]=dt[dt.length-1],At.slice(0,-1)}return At}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=dt[dt.length-1],dt.toString("utf16le",gt,dt.length-1)}function ot(dt){var gt=dt&&dt.length?this.write(dt):"";if(this.lastNeed){var At=this.lastTotal-this.lastNeed;return gt+this.lastChar.toString("utf16le",0,At)}return gt}function ut(dt,gt){var At=(dt.length-gt)%3;return At===0?dt.toString("base64",gt):(this.lastNeed=3-At,this.lastTotal=3,At===1?this.lastChar[0]=dt[dt.length-1]:(this.lastChar[0]=dt[dt.length-2],this.lastChar[1]=dt[dt.length-1]),dt.toString("base64",gt,dt.length-At))}function yt(dt){var gt=dt&&dt.length?this.write(dt):"";return this.lastNeed?gt+this.lastChar.toString("base64",0,3-this.lastNeed):gt}function vt(dt){return dt.toString(this.encoding)}function mt(dt){return dt&&dt.length?this.write(dt):""}g.StringDecoder=U,U.prototype.write=function(dt){if(dt.length===0)return"";var gt,At;if(this.lastNeed){if((gt=this.fillLast(dt))===void 0)return"";At=this.lastNeed,this.lastNeed=0}else At=0;return At<dt.length?gt?gt+this.text(dt,At):this.text(dt,At):gt||""},U.prototype.end=et,U.prototype.text=J,U.prototype.fillLast=function(dt){if(this.lastNeed<=dt.length)return dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,dt.length),this.lastNeed-=dt.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function D(F,U){if(P("noDeprecation"))return F;var H=!1;function q(){if(!H){if(P("throwDeprecation"))throw new Error(U);P("traceDeprecation")?console.trace(U):console.warn(U),H=!0}return F.apply(this,arguments)}return q}function P(F){try{if(!w.localStorage)return!1}catch{return!1}var U=w.localStorage[F];return U!=null&&String(U).toLowerCase()==="true"}m.exports=D}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),D=d("is-generator-function"),P=d("which-typed-array"),F=d("is-typed-array");function U(jt){return jt.call.bind(jt)}var H=typeof BigInt<"u",q=typeof Symbol<"u",X=U(Object.prototype.toString),V=U(Number.prototype.valueOf),J=U(String.prototype.valueOf),et=U(Boolean.prototype.valueOf);if(H)var at=U(BigInt.prototype.valueOf);if(q)var ot=U(Symbol.prototype.valueOf);function ut(jt,xe){if(typeof jt!="object")return!1;try{return xe(jt),!0}catch{return!1}}function yt(jt){return typeof Promise<"u"&&jt instanceof Promise||jt!==null&&typeof jt=="object"&&typeof jt.then=="function"&&typeof jt.catch=="function"}function vt(jt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(jt):F(jt)||Xt(jt)}function mt(jt){return P(jt)==="Uint8Array"}function dt(jt){return P(jt)==="Uint8ClampedArray"}function gt(jt){return P(jt)==="Uint16Array"}function At(jt){return P(jt)==="Uint32Array"}function _t(jt){return P(jt)==="Int8Array"}function Mt(jt){return P(jt)==="Int16Array"}function wt(jt){return P(jt)==="Int32Array"}function zt(jt){return P(jt)==="Float32Array"}function ht(jt){return P(jt)==="Float64Array"}function It(jt){return P(jt)==="BigInt64Array"}function qt(jt){return P(jt)==="BigUint64Array"}function Nt(jt){return X(jt)==="[object Map]"}function Ot(jt){return typeof Map<"u"&&(Nt.working?Nt(jt):jt instanceof Map)}function Ct(jt){return X(jt)==="[object Set]"}function Jt(jt){return typeof Set<"u"&&(Ct.working?Ct(jt):jt instanceof Set)}function Kt(jt){return X(jt)==="[object WeakMap]"}function Qt(jt){return typeof WeakMap<"u"&&(Kt.working?Kt(jt):jt instanceof WeakMap)}function pe(jt){return X(jt)==="[object WeakSet]"}function $t(jt){return pe(jt)}function Wt(jt){return X(jt)==="[object ArrayBuffer]"}function fe(jt){return typeof ArrayBuffer<"u"&&(Wt.working?Wt(jt):jt instanceof ArrayBuffer)}function oe(jt){return X(jt)==="[object DataView]"}function Xt(jt){return typeof DataView<"u"&&(oe.working?oe(jt):jt instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=D,g.isTypedArray=F,g.isPromise=yt,g.isArrayBufferView=vt,g.isUint8Array=mt,g.isUint8ClampedArray=dt,g.isUint16Array=gt,g.isUint32Array=At,g.isInt8Array=_t,g.isInt16Array=Mt,g.isInt32Array=wt,g.isFloat32Array=zt,g.isFloat64Array=ht,g.isBigInt64Array=It,g.isBigUint64Array=qt,Nt.working=typeof Map<"u"&&Nt(new Map),g.isMap=Ot,Ct.working=typeof Set<"u"&&Ct(new Set),g.isSet=Jt,Kt.working=typeof WeakMap<"u"&&Kt(new WeakMap),g.isWeakMap=Qt,pe.working=typeof WeakSet<"u"&&pe(new WeakSet),g.isWeakSet=$t,Wt.working=typeof ArrayBuffer<"u"&&Wt(new ArrayBuffer),g.isArrayBuffer=fe,oe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&oe(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=Xt;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ye(jt){return X(jt)==="[object SharedArrayBuffer]"}function Ie(jt){return ne!==void 0&&(ye.working===void 0&&(ye.working=ye(new ne)),ye.working?ye(jt):jt instanceof ne)}function $e(jt){return X(jt)==="[object AsyncFunction]"}function he(jt){return X(jt)==="[object Map Iterator]"}function xt(jt){return X(jt)==="[object Set Iterator]"}function ue(jt){return X(jt)==="[object Generator]"}function Ft(jt){return X(jt)==="[object WebAssembly.Module]"}function Ut(jt){return ut(jt,V)}function Lt(jt){return ut(jt,J)}function Vt(jt){return ut(jt,et)}function ge(jt){return H&&ut(jt,at)}function pt(jt){return q&&ut(jt,ot)}function Rt(jt){return Ut(jt)||Lt(jt)||Vt(jt)||ge(jt)||pt(jt)}function Gt(jt){return typeof Uint8Array<"u"&&(fe(jt)||Ie(jt))}g.isSharedArrayBuffer=Ie,g.isAsyncFunction=$e,g.isMapIterator=he,g.isSetIterator=xt,g.isGeneratorObject=ue,g.isWebAssemblyCompiledModule=Ft,g.isNumberObject=Ut,g.isStringObject=Lt,g.isBooleanObject=Vt,g.isBigIntObject=ge,g.isSymbolObject=pt,g.isBoxedPrimitive=Rt,g.isAnyArrayBuffer=Gt,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(jt){Object.defineProperty(g,jt,{enumerable:!1,value:function(){throw new Error(jt+" is not supported in userland")}})}))},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var D=Object.getOwnPropertyDescriptors||function(Xt){for(var ne=Object.keys(Xt),ye={},Ie=0;Ie<ne.length;Ie++)ye[ne[Ie]]=Object.getOwnPropertyDescriptor(Xt,ne[Ie]);return ye},P=/%[sdj%]/g;g.format=function(Xt){if(!Mt(Xt)){for(var ne=[],ye=0;ye<arguments.length;ye++)ne.push(q(arguments[ye]));return ne.join(" ")}ye=1;for(var Ie=arguments,$e=Ie.length,he=String(Xt).replace(P,(function(ue){if(ue==="%%")return"%";if(ye>=$e)return ue;switch(ue){case"%s":return String(Ie[ye++]);case"%d":return Number(Ie[ye++]);case"%j":try{return JSON.stringify(Ie[ye++])}catch{return"[Circular]"}default:return ue}})),xt=Ie[ye];ye<$e;xt=Ie[++ye])gt(xt)||!It(xt)?he+=" "+xt:he+=" "+q(xt);return he},g.deprecate=function(Xt,ne){if(w!==void 0&&w.noDeprecation===!0)return Xt;if(w===void 0)return function(){return g.deprecate(Xt,ne).apply(this,arguments)};var ye=!1;function Ie(){if(!ye){if(w.throwDeprecation)throw new Error(ne);w.traceDeprecation?console.trace(ne):console.error(ne),ye=!0}return Xt.apply(this,arguments)}return Ie};var F={},U=/^$/;if(w.env.NODE_DEBUG){var H=w.env.NODE_DEBUG;H=H.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),U=new RegExp("^"+H+"$","i")}function q(Xt,ne){var ye={seen:[],stylize:V};return arguments.length>=3&&(ye.depth=arguments[2]),arguments.length>=4&&(ye.colors=arguments[3]),dt(ne)?ye.showHidden=ne:ne&&g._extend(ye,ne),zt(ye.showHidden)&&(ye.showHidden=!1),zt(ye.depth)&&(ye.depth=2),zt(ye.colors)&&(ye.colors=!1),zt(ye.customInspect)&&(ye.customInspect=!0),ye.colors&&(ye.stylize=X),et(ye,Xt,ye.depth)}function X(Xt,ne){var ye=q.styles[ne];return ye?"\x1B["+q.colors[ye][0]+"m"+Xt+"\x1B["+q.colors[ye][1]+"m":Xt}function V(Xt,ne){return Xt}function J(Xt){var ne={};return Xt.forEach((function(ye,Ie){ne[ye]=!0})),ne}function et(Xt,ne,ye){if(Xt.customInspect&&ne&&Ot(ne.inspect)&&ne.inspect!==g.inspect&&(!ne.constructor||ne.constructor.prototype!==ne)){var Ie=ne.inspect(ye,Xt);return Mt(Ie)||(Ie=et(Xt,Ie,ye)),Ie}var $e=at(Xt,ne);if($e)return $e;var he=Object.keys(ne),xt=J(he);if(Xt.showHidden&&(he=Object.getOwnPropertyNames(ne)),Nt(ne)&&(he.indexOf("message")>=0||he.indexOf("description")>=0))return ot(ne);if(he.length===0){if(Ot(ne)){var ue=ne.name?": "+ne.name:"";return Xt.stylize("[Function"+ue+"]","special")}if(ht(ne))return Xt.stylize(RegExp.prototype.toString.call(ne),"regexp");if(qt(ne))return Xt.stylize(Date.prototype.toString.call(ne),"date");if(Nt(ne))return ot(ne)}var Ft,Ut="",Lt=!1,Vt=["{","}"];return mt(ne)&&(Lt=!0,Vt=["[","]"]),Ot(ne)&&(Ut=" [Function"+(ne.name?": "+ne.name:"")+"]"),ht(ne)&&(Ut=" "+RegExp.prototype.toString.call(ne)),qt(ne)&&(Ut=" "+Date.prototype.toUTCString.call(ne)),Nt(ne)&&(Ut=" "+ot(ne)),he.length!==0||Lt&&ne.length!=0?ye<0?ht(ne)?Xt.stylize(RegExp.prototype.toString.call(ne),"regexp"):Xt.stylize("[Object]","special"):(Xt.seen.push(ne),Ft=Lt?ut(Xt,ne,ye,xt,he):he.map((function(ge){return yt(Xt,ne,ye,xt,ge,Lt)})),Xt.seen.pop(),vt(Ft,Ut,Vt)):Vt[0]+Ut+Vt[1]}function at(Xt,ne){if(zt(ne))return Xt.stylize("undefined","undefined");if(Mt(ne)){var ye="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Xt.stylize(ye,"string")}return _t(ne)?Xt.stylize(""+ne,"number"):dt(ne)?Xt.stylize(""+ne,"boolean"):gt(ne)?Xt.stylize("null","null"):void 0}function ot(Xt){return"["+Error.prototype.toString.call(Xt)+"]"}function ut(Xt,ne,ye,Ie,$e){for(var he=[],xt=0,ue=ne.length;xt<ue;++xt)$t(ne,String(xt))?he.push(yt(Xt,ne,ye,Ie,String(xt),!0)):he.push("");return $e.forEach((function(Ft){Ft.match(/^\d+$/)||he.push(yt(Xt,ne,ye,Ie,Ft,!0))})),he}function yt(Xt,ne,ye,Ie,$e,he){var xt,ue,Ft;if((Ft=Object.getOwnPropertyDescriptor(ne,$e)||{value:ne[$e]}).get?ue=Ft.set?Xt.stylize("[Getter/Setter]","special"):Xt.stylize("[Getter]","special"):Ft.set&&(ue=Xt.stylize("[Setter]","special")),$t(Ie,$e)||(xt="["+$e+"]"),ue||(Xt.seen.indexOf(Ft.value)<0?(ue=gt(ye)?et(Xt,Ft.value,null):et(Xt,Ft.value,ye-1)).indexOf(`
`)>-1&&(ue=he?ue.split(`
`).map((function(Ut){return"  "+Ut})).join(`
`).slice(2):`
`+ue.split(`
`).map((function(Ut){return"   "+Ut})).join(`
`)):ue=Xt.stylize("[Circular]","special")),zt(xt)){if(he&&$e.match(/^\d+$/))return ue;(xt=JSON.stringify(""+$e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xt=xt.slice(1,-1),xt=Xt.stylize(xt,"name")):(xt=xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xt=Xt.stylize(xt,"string"))}return xt+": "+ue}function vt(Xt,ne,ye){return Xt.reduce((function(Ie,$e){return $e.indexOf(`
`),Ie+$e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?ye[0]+(ne===""?"":ne+`
 `)+" "+Xt.join(`,
  `)+" "+ye[1]:ye[0]+ne+" "+Xt.join(", ")+" "+ye[1]}function mt(Xt){return Array.isArray(Xt)}function dt(Xt){return typeof Xt=="boolean"}function gt(Xt){return Xt===null}function At(Xt){return Xt==null}function _t(Xt){return typeof Xt=="number"}function Mt(Xt){return typeof Xt=="string"}function wt(Xt){return typeof Xt=="symbol"}function zt(Xt){return Xt===void 0}function ht(Xt){return It(Xt)&&Jt(Xt)==="[object RegExp]"}function It(Xt){return typeof Xt=="object"&&Xt!==null}function qt(Xt){return It(Xt)&&Jt(Xt)==="[object Date]"}function Nt(Xt){return It(Xt)&&(Jt(Xt)==="[object Error]"||Xt instanceof Error)}function Ot(Xt){return typeof Xt=="function"}function Ct(Xt){return Xt===null||typeof Xt=="boolean"||typeof Xt=="number"||typeof Xt=="string"||typeof Xt=="symbol"||Xt===void 0}function Jt(Xt){return Object.prototype.toString.call(Xt)}function Kt(Xt){return Xt<10?"0"+Xt.toString(10):Xt.toString(10)}g.debuglog=function(Xt){if(Xt=Xt.toUpperCase(),!F[Xt])if(U.test(Xt)){var ne=w.pid;F[Xt]=function(){var ye=g.format.apply(g,arguments);console.error("%s %d: %s",Xt,ne,ye)}}else F[Xt]=function(){};return F[Xt]},g.inspect=q,q.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},q.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=mt,g.isBoolean=dt,g.isNull=gt,g.isNullOrUndefined=At,g.isNumber=_t,g.isString=Mt,g.isSymbol=wt,g.isUndefined=zt,g.isRegExp=ht,g.types.isRegExp=ht,g.isObject=It,g.isDate=qt,g.types.isDate=qt,g.isError=Nt,g.types.isNativeError=Nt,g.isFunction=Ot,g.isPrimitive=Ct,g.isBuffer=d("./support/isBuffer");var Qt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(){var Xt=new Date,ne=[Kt(Xt.getHours()),Kt(Xt.getMinutes()),Kt(Xt.getSeconds())].join(":");return[Xt.getDate(),Qt[Xt.getMonth()],ne].join(" ")}function $t(Xt,ne){return Object.prototype.hasOwnProperty.call(Xt,ne)}g.log=function(){console.log("%s - %s",pe(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Xt,ne){if(!ne||!It(ne))return Xt;for(var ye=Object.keys(ne),Ie=ye.length;Ie--;)Xt[ye[Ie]]=ne[ye[Ie]];return Xt};var Wt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function fe(Xt,ne){if(!Xt){var ye=new Error("Promise was rejected with a falsy value");ye.reason=Xt,Xt=ye}return ne(Xt)}function oe(Xt){if(typeof Xt!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var ye=[],Ie=0;Ie<arguments.length;Ie++)ye.push(arguments[Ie]);var $e=ye.pop();if(typeof $e!="function")throw new TypeError("The last argument must be of type Function");var he=this,xt=function(){return $e.apply(he,arguments)};Xt.apply(this,ye).then((function(ue){w.nextTick(xt.bind(null,null,ue))}),(function(ue){w.nextTick(fe.bind(null,ue,xt))}))}return Object.setPrototypeOf(ne,Object.getPrototypeOf(Xt)),Object.defineProperties(ne,D(Xt)),ne}g.promisify=function(Xt){if(typeof Xt!="function")throw new TypeError('The "original" argument must be of type Function');if(Wt&&Xt[Wt]){var ne;if(typeof(ne=Xt[Wt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,Wt,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ye,Ie,$e=new Promise((function(ue,Ft){ye=ue,Ie=Ft})),he=[],xt=0;xt<arguments.length;xt++)he.push(arguments[xt]);he.push((function(ue,Ft){ue?Ie(ue):ye(Ft)}));try{Xt.apply(this,he)}catch(ue){Ie(ue)}return $e}return Object.setPrototypeOf(ne,Object.getPrototypeOf(Xt)),Wt&&Object.defineProperty(ne,Wt,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,D(Xt))},g.promisify.custom=Wt,g.callbackify=oe}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var D=d("for-each"),P=d("available-typed-arrays"),F=d("call-bind/callBound"),U=d("gopd"),H=F("Object.prototype.toString"),q=d("has-tostringtag/shams")(),X=typeof globalThis>"u"?w:globalThis,V=P(),J=F("String.prototype.slice"),et={},at=Object.getPrototypeOf;q&&U&&at&&D(V,(function(yt){if(typeof X[yt]=="function"){var vt=new X[yt];if(Symbol.toStringTag in vt){var mt=at(vt),dt=U(mt,Symbol.toStringTag);if(!dt){var gt=at(mt);dt=U(gt,Symbol.toStringTag)}et[yt]=dt.get}}}));var ot=function(yt){var vt=!1;return D(et,(function(mt,dt){if(!vt)try{var gt=mt.call(yt);gt===dt&&(vt=gt)}catch{}})),vt},ut=d("is-typed-array");m.exports=function(yt){return!!ut(yt)&&(q&&Symbol.toStringTag in yt?ot(yt):J(H(yt),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:D,inputHasAlpha:P=!0,...F}={})=>{const U=new browserExports.PNG({width:d.width,height:d.height});return U.data=d.data,browserExports.PNG.sync.write(U,{...F,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:D!==void 0?D:P?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:P})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,(function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(P,F){return Object.prototype.hasOwnProperty.call(P,F)}d.assign=function(P){for(var F=Array.prototype.slice.call(arguments,1);F.length;){var U=F.shift();if(U){if(typeof U!="object")throw new TypeError(U+"must be non-object");for(var H in U)g(U,H)&&(P[H]=U[H])}}return P},d.shrinkBuf=function(P,F){return P.length===F?P:P.subarray?P.subarray(0,F):(P.length=F,P)};var w={arraySet:function(P,F,U,H,q){if(F.subarray&&P.subarray)P.set(F.subarray(U,U+H),q);else for(var X=0;X<H;X++)P[q+X]=F[U+X]},flattenChunks:function(P){var F,U,H,q,X,V;for(H=0,F=0,U=P.length;F<U;F++)H+=P[F].length;for(V=new Uint8Array(H),q=0,F=0,U=P.length;F<U;F++)X=P[F],V.set(X,q),q+=X.length;return V}},D={arraySet:function(P,F,U,H,q){for(var X=0;X<H;X++)P[q+X]=F[U+X]},flattenChunks:function(P){return[].concat.apply([],P)}};d.setTyped=function(P){P?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,D))},d.setTyped(m)})(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(Ft){for(var Ut=Ft.length;--Ut>=0;)Ft[Ut]=0}var D=0,P=29,F=256,U=F+1+P,H=30,q=19,X=2*U+1,V=15,J=16,et=7,at=256,ot=16,ut=17,yt=18,vt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],At=new Array(2*(U+2));w(At);var _t=new Array(2*H);w(_t);var Mt=new Array(512);w(Mt);var wt=new Array(256);w(wt);var zt=new Array(P);w(zt);var ht,It,qt,Nt=new Array(H);function Ot(Ft,Ut,Lt,Vt,ge){this.static_tree=Ft,this.extra_bits=Ut,this.extra_base=Lt,this.elems=Vt,this.max_length=ge,this.has_stree=Ft&&Ft.length}function Ct(Ft,Ut){this.dyn_tree=Ft,this.max_code=0,this.stat_desc=Ut}function Jt(Ft){return Ft<256?Mt[Ft]:Mt[256+(Ft>>>7)]}function Kt(Ft,Ut){Ft.pending_buf[Ft.pending++]=255&Ut,Ft.pending_buf[Ft.pending++]=Ut>>>8&255}function Qt(Ft,Ut,Lt){Ft.bi_valid>J-Lt?(Ft.bi_buf|=Ut<<Ft.bi_valid&65535,Kt(Ft,Ft.bi_buf),Ft.bi_buf=Ut>>J-Ft.bi_valid,Ft.bi_valid+=Lt-J):(Ft.bi_buf|=Ut<<Ft.bi_valid&65535,Ft.bi_valid+=Lt)}function pe(Ft,Ut,Lt){Qt(Ft,Lt[2*Ut],Lt[2*Ut+1])}function $t(Ft,Ut){var Lt=0;do Lt|=1&Ft,Ft>>>=1,Lt<<=1;while(--Ut>0);return Lt>>>1}function Wt(Ft,Ut,Lt){var Vt,ge,pt=new Array(V+1),Rt=0;for(Vt=1;Vt<=V;Vt++)pt[Vt]=Rt=Rt+Lt[Vt-1]<<1;for(ge=0;ge<=Ut;ge++){var Gt=Ft[2*ge+1];Gt!==0&&(Ft[2*ge]=$t(pt[Gt]++,Gt))}}function fe(Ft){var Ut;for(Ut=0;Ut<U;Ut++)Ft.dyn_ltree[2*Ut]=0;for(Ut=0;Ut<H;Ut++)Ft.dyn_dtree[2*Ut]=0;for(Ut=0;Ut<q;Ut++)Ft.bl_tree[2*Ut]=0;Ft.dyn_ltree[2*at]=1,Ft.opt_len=Ft.static_len=0,Ft.last_lit=Ft.matches=0}function oe(Ft){Ft.bi_valid>8?Kt(Ft,Ft.bi_buf):Ft.bi_valid>0&&(Ft.pending_buf[Ft.pending++]=Ft.bi_buf),Ft.bi_buf=0,Ft.bi_valid=0}function Xt(Ft,Ut,Lt,Vt){var ge=2*Ut,pt=2*Lt;return Ft[ge]<Ft[pt]||Ft[ge]===Ft[pt]&&Vt[Ut]<=Vt[Lt]}function ne(Ft,Ut,Lt){for(var Vt=Ft.heap[Lt],ge=Lt<<1;ge<=Ft.heap_len&&(ge<Ft.heap_len&&Xt(Ut,Ft.heap[ge+1],Ft.heap[ge],Ft.depth)&&ge++,!Xt(Ut,Vt,Ft.heap[ge],Ft.depth));)Ft.heap[Lt]=Ft.heap[ge],Lt=ge,ge<<=1;Ft.heap[Lt]=Vt}function ye(Ft,Ut,Lt){var Vt,ge,pt,Rt,Gt=0;if(Ft.last_lit!==0)do Vt=Ft.pending_buf[Ft.d_buf+2*Gt]<<8|Ft.pending_buf[Ft.d_buf+2*Gt+1],ge=Ft.pending_buf[Ft.l_buf+Gt],Gt++,Vt===0?pe(Ft,ge,Ut):(pe(Ft,(pt=wt[ge])+F+1,Ut),(Rt=vt[pt])!==0&&Qt(Ft,ge-=zt[pt],Rt),pe(Ft,pt=Jt(--Vt),Lt),(Rt=mt[pt])!==0&&Qt(Ft,Vt-=Nt[pt],Rt));while(Gt<Ft.last_lit);pe(Ft,at,Ut)}function Ie(Ft,Ut){var Lt,Vt,ge,pt=Ut.dyn_tree,Rt=Ut.stat_desc.static_tree,Gt=Ut.stat_desc.has_stree,jt=Ut.stat_desc.elems,xe=-1;for(Ft.heap_len=0,Ft.heap_max=X,Lt=0;Lt<jt;Lt++)pt[2*Lt]!==0?(Ft.heap[++Ft.heap_len]=xe=Lt,Ft.depth[Lt]=0):pt[2*Lt+1]=0;for(;Ft.heap_len<2;)pt[2*(ge=Ft.heap[++Ft.heap_len]=xe<2?++xe:0)]=1,Ft.depth[ge]=0,Ft.opt_len--,Gt&&(Ft.static_len-=Rt[2*ge+1]);for(Ut.max_code=xe,Lt=Ft.heap_len>>1;Lt>=1;Lt--)ne(Ft,pt,Lt);ge=jt;do Lt=Ft.heap[1],Ft.heap[1]=Ft.heap[Ft.heap_len--],ne(Ft,pt,1),Vt=Ft.heap[1],Ft.heap[--Ft.heap_max]=Lt,Ft.heap[--Ft.heap_max]=Vt,pt[2*ge]=pt[2*Lt]+pt[2*Vt],Ft.depth[ge]=(Ft.depth[Lt]>=Ft.depth[Vt]?Ft.depth[Lt]:Ft.depth[Vt])+1,pt[2*Lt+1]=pt[2*Vt+1]=ge,Ft.heap[1]=ge++,ne(Ft,pt,1);while(Ft.heap_len>=2);Ft.heap[--Ft.heap_max]=Ft.heap[1],(function(Be,oi){var mi,li,gi,We,Ii,Si,Ti=oi.dyn_tree,Bi=oi.max_code,Ei=oi.stat_desc.static_tree,_e=oi.stat_desc.has_stree,hi=oi.stat_desc.extra_bits,Ce=oi.stat_desc.extra_base,Ne=oi.stat_desc.max_length,te=0;for(We=0;We<=V;We++)Be.bl_count[We]=0;for(Ti[2*Be.heap[Be.heap_max]+1]=0,mi=Be.heap_max+1;mi<X;mi++)(We=Ti[2*Ti[2*(li=Be.heap[mi])+1]+1]+1)>Ne&&(We=Ne,te++),Ti[2*li+1]=We,li>Bi||(Be.bl_count[We]++,Ii=0,li>=Ce&&(Ii=hi[li-Ce]),Si=Ti[2*li],Be.opt_len+=Si*(We+Ii),_e&&(Be.static_len+=Si*(Ei[2*li+1]+Ii)));if(te!==0){do{for(We=Ne-1;Be.bl_count[We]===0;)We--;Be.bl_count[We]--,Be.bl_count[We+1]+=2,Be.bl_count[Ne]--,te-=2}while(te>0);for(We=Ne;We!==0;We--)for(li=Be.bl_count[We];li!==0;)(gi=Be.heap[--mi])>Bi||(Ti[2*gi+1]!==We&&(Be.opt_len+=(We-Ti[2*gi+1])*Ti[2*gi],Ti[2*gi+1]=We),li--)}})(Ft,Ut),Wt(pt,xe,Ft.bl_count)}function $e(Ft,Ut,Lt){var Vt,ge,pt=-1,Rt=Ut[1],Gt=0,jt=7,xe=4;for(Rt===0&&(jt=138,xe=3),Ut[2*(Lt+1)+1]=65535,Vt=0;Vt<=Lt;Vt++)ge=Rt,Rt=Ut[2*(Vt+1)+1],++Gt<jt&&ge===Rt||(Gt<xe?Ft.bl_tree[2*ge]+=Gt:ge!==0?(ge!==pt&&Ft.bl_tree[2*ge]++,Ft.bl_tree[2*ot]++):Gt<=10?Ft.bl_tree[2*ut]++:Ft.bl_tree[2*yt]++,Gt=0,pt=ge,Rt===0?(jt=138,xe=3):ge===Rt?(jt=6,xe=3):(jt=7,xe=4))}function he(Ft,Ut,Lt){var Vt,ge,pt=-1,Rt=Ut[1],Gt=0,jt=7,xe=4;for(Rt===0&&(jt=138,xe=3),Vt=0;Vt<=Lt;Vt++)if(ge=Rt,Rt=Ut[2*(Vt+1)+1],!(++Gt<jt&&ge===Rt)){if(Gt<xe)do pe(Ft,ge,Ft.bl_tree);while(--Gt!=0);else ge!==0?(ge!==pt&&(pe(Ft,ge,Ft.bl_tree),Gt--),pe(Ft,ot,Ft.bl_tree),Qt(Ft,Gt-3,2)):Gt<=10?(pe(Ft,ut,Ft.bl_tree),Qt(Ft,Gt-3,3)):(pe(Ft,yt,Ft.bl_tree),Qt(Ft,Gt-11,7));Gt=0,pt=ge,Rt===0?(jt=138,xe=3):ge===Rt?(jt=6,xe=3):(jt=7,xe=4)}}w(Nt);var xt=!1;function ue(Ft,Ut,Lt,Vt){Qt(Ft,(D<<1)+(Vt?1:0),3),(function(ge,pt,Rt,Gt){oe(ge),Kt(ge,Rt),Kt(ge,~Rt),d.arraySet(ge.pending_buf,ge.window,pt,Rt,ge.pending),ge.pending+=Rt})(Ft,Ut,Lt)}return trees._tr_init=function(Ft){xt||((function(){var Ut,Lt,Vt,ge,pt,Rt=new Array(V+1);for(Vt=0,ge=0;ge<P-1;ge++)for(zt[ge]=Vt,Ut=0;Ut<1<<vt[ge];Ut++)wt[Vt++]=ge;for(wt[Vt-1]=ge,pt=0,ge=0;ge<16;ge++)for(Nt[ge]=pt,Ut=0;Ut<1<<mt[ge];Ut++)Mt[pt++]=ge;for(pt>>=7;ge<H;ge++)for(Nt[ge]=pt<<7,Ut=0;Ut<1<<mt[ge]-7;Ut++)Mt[256+pt++]=ge;for(Lt=0;Lt<=V;Lt++)Rt[Lt]=0;for(Ut=0;Ut<=143;)At[2*Ut+1]=8,Ut++,Rt[8]++;for(;Ut<=255;)At[2*Ut+1]=9,Ut++,Rt[9]++;for(;Ut<=279;)At[2*Ut+1]=7,Ut++,Rt[7]++;for(;Ut<=287;)At[2*Ut+1]=8,Ut++,Rt[8]++;for(Wt(At,U+1,Rt),Ut=0;Ut<H;Ut++)_t[2*Ut+1]=5,_t[2*Ut]=$t(Ut,5);ht=new Ot(At,vt,F+1,U,V),It=new Ot(_t,mt,0,H,V),qt=new Ot(new Array(0),dt,0,q,et)})(),xt=!0),Ft.l_desc=new Ct(Ft.dyn_ltree,ht),Ft.d_desc=new Ct(Ft.dyn_dtree,It),Ft.bl_desc=new Ct(Ft.bl_tree,qt),Ft.bi_buf=0,Ft.bi_valid=0,fe(Ft)},trees._tr_stored_block=ue,trees._tr_flush_block=function(Ft,Ut,Lt,Vt){var ge,pt,Rt=0;Ft.level>0?(Ft.strm.data_type===2&&(Ft.strm.data_type=(function(Gt){var jt,xe=4093624447;for(jt=0;jt<=31;jt++,xe>>>=1)if(1&xe&&Gt.dyn_ltree[2*jt]!==0)return m;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return g;for(jt=32;jt<F;jt++)if(Gt.dyn_ltree[2*jt]!==0)return g;return m})(Ft)),Ie(Ft,Ft.l_desc),Ie(Ft,Ft.d_desc),Rt=(function(Gt){var jt;for($e(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),$e(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),Ie(Gt,Gt.bl_desc),jt=q-1;jt>=3&&Gt.bl_tree[2*gt[jt]+1]===0;jt--);return Gt.opt_len+=3*(jt+1)+5+5+4,jt})(Ft),ge=Ft.opt_len+3+7>>>3,(pt=Ft.static_len+3+7>>>3)<=ge&&(ge=pt)):ge=pt=Lt+5,Lt+4<=ge&&Ut!==-1?ue(Ft,Ut,Lt,Vt):Ft.strategy===4||pt===ge?(Qt(Ft,2+(Vt?1:0),3),ye(Ft,At,_t)):(Qt(Ft,4+(Vt?1:0),3),(function(Gt,jt,xe,Be){var oi;for(Qt(Gt,jt-257,5),Qt(Gt,xe-1,5),Qt(Gt,Be-4,4),oi=0;oi<Be;oi++)Qt(Gt,Gt.bl_tree[2*gt[oi]+1],3);he(Gt,Gt.dyn_ltree,jt-1),he(Gt,Gt.dyn_dtree,xe-1)})(Ft,Ft.l_desc.max_code+1,Ft.d_desc.max_code+1,Rt+1),ye(Ft,Ft.dyn_ltree,Ft.dyn_dtree)),fe(Ft),Vt&&oe(Ft)},trees._tr_tally=function(Ft,Ut,Lt){return Ft.pending_buf[Ft.d_buf+2*Ft.last_lit]=Ut>>>8&255,Ft.pending_buf[Ft.d_buf+2*Ft.last_lit+1]=255&Ut,Ft.pending_buf[Ft.l_buf+Ft.last_lit]=255&Lt,Ft.last_lit++,Ut===0?Ft.dyn_ltree[2*Lt]++:(Ft.matches++,Ut--,Ft.dyn_ltree[2*(wt[Lt]+F+1)]++,Ft.dyn_dtree[2*Jt(Ut)]++),Ft.last_lit===Ft.lit_bufsize-1},trees._tr_align=function(Ft){Qt(Ft,2,3),pe(Ft,at,At),(function(Ut){Ut.bi_valid===16?(Kt(Ut,Ut.bi_buf),Ut.bi_buf=0,Ut.bi_valid=0):Ut.bi_valid>=8&&(Ut.pending_buf[Ut.pending++]=255&Ut.bi_buf,Ut.bi_buf>>=8,Ut.bi_valid-=8)})(Ft)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var D=65535&d,P=d>>>16&65535,F=0;g!==0;){g-=F=g>2e3?2e3:g;do P=P+(D=D+m[w++]|0)|0;while(--F);D%=65521,P%=65521}return D|P<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=(function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var D=0;D<8;D++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g})();return crc32_1=function(m,g,w,D){var P=d,F=D+w;m^=-1;for(var U=D;U<F;U++)m=m>>>8^P[255&(m^g[U])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),D=requireCrc32(),P=requireMessages(),F=0,U=4,H=0,q=-2,X=-1,V=4,J=2,et=8,at=9,ot=286,ut=30,yt=19,vt=2*ot+1,mt=15,dt=3,gt=258,At=gt+dt+1,_t=42,Mt=103,wt=113,zt=666,ht=1,It=2,qt=3,Nt=4;function Ot(xt,ue){return xt.msg=P[ue],ue}function Ct(xt){return(xt<<1)-(xt>4?9:0)}function Jt(xt){for(var ue=xt.length;--ue>=0;)xt[ue]=0}function Kt(xt){var ue=xt.state,Ft=ue.pending;Ft>xt.avail_out&&(Ft=xt.avail_out),Ft!==0&&(m.arraySet(xt.output,ue.pending_buf,ue.pending_out,Ft,xt.next_out),xt.next_out+=Ft,ue.pending_out+=Ft,xt.total_out+=Ft,xt.avail_out-=Ft,ue.pending-=Ft,ue.pending===0&&(ue.pending_out=0))}function Qt(xt,ue){g._tr_flush_block(xt,xt.block_start>=0?xt.block_start:-1,xt.strstart-xt.block_start,ue),xt.block_start=xt.strstart,Kt(xt.strm)}function pe(xt,ue){xt.pending_buf[xt.pending++]=ue}function $t(xt,ue){xt.pending_buf[xt.pending++]=ue>>>8&255,xt.pending_buf[xt.pending++]=255&ue}function Wt(xt,ue){var Ft,Ut,Lt=xt.max_chain_length,Vt=xt.strstart,ge=xt.prev_length,pt=xt.nice_match,Rt=xt.strstart>xt.w_size-At?xt.strstart-(xt.w_size-At):0,Gt=xt.window,jt=xt.w_mask,xe=xt.prev,Be=xt.strstart+gt,oi=Gt[Vt+ge-1],mi=Gt[Vt+ge];xt.prev_length>=xt.good_match&&(Lt>>=2),pt>xt.lookahead&&(pt=xt.lookahead);do if(Gt[(Ft=ue)+ge]===mi&&Gt[Ft+ge-1]===oi&&Gt[Ft]===Gt[Vt]&&Gt[++Ft]===Gt[Vt+1]){Vt+=2,Ft++;do;while(Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Gt[++Vt]===Gt[++Ft]&&Vt<Be);if(Ut=gt-(Be-Vt),Vt=Be-gt,Ut>ge){if(xt.match_start=ue,ge=Ut,Ut>=pt)break;oi=Gt[Vt+ge-1],mi=Gt[Vt+ge]}}while((ue=xe[ue&jt])>Rt&&--Lt!=0);return ge<=xt.lookahead?ge:xt.lookahead}function fe(xt){var ue,Ft,Ut,Lt,Vt,ge,pt,Rt,Gt,jt,xe=xt.w_size;do{if(Lt=xt.window_size-xt.lookahead-xt.strstart,xt.strstart>=xe+(xe-At)){m.arraySet(xt.window,xt.window,xe,xe,0),xt.match_start-=xe,xt.strstart-=xe,xt.block_start-=xe,ue=Ft=xt.hash_size;do Ut=xt.head[--ue],xt.head[ue]=Ut>=xe?Ut-xe:0;while(--Ft);ue=Ft=xe;do Ut=xt.prev[--ue],xt.prev[ue]=Ut>=xe?Ut-xe:0;while(--Ft);Lt+=xe}if(xt.strm.avail_in===0)break;if(ge=xt.strm,pt=xt.window,Rt=xt.strstart+xt.lookahead,Gt=Lt,jt=void 0,(jt=ge.avail_in)>Gt&&(jt=Gt),Ft=jt===0?0:(ge.avail_in-=jt,m.arraySet(pt,ge.input,ge.next_in,jt,Rt),ge.state.wrap===1?ge.adler=w(ge.adler,pt,jt,Rt):ge.state.wrap===2&&(ge.adler=D(ge.adler,pt,jt,Rt)),ge.next_in+=jt,ge.total_in+=jt,jt),xt.lookahead+=Ft,xt.lookahead+xt.insert>=dt)for(Vt=xt.strstart-xt.insert,xt.ins_h=xt.window[Vt],xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[Vt+1])&xt.hash_mask;xt.insert&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[Vt+dt-1])&xt.hash_mask,xt.prev[Vt&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=Vt,Vt++,xt.insert--,!(xt.lookahead+xt.insert<dt)););}while(xt.lookahead<At&&xt.strm.avail_in!==0)}function oe(xt,ue){for(var Ft,Ut;;){if(xt.lookahead<At){if(fe(xt),xt.lookahead<At&&ue===F)return ht;if(xt.lookahead===0)break}if(Ft=0,xt.lookahead>=dt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+dt-1])&xt.hash_mask,Ft=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),Ft!==0&&xt.strstart-Ft<=xt.w_size-At&&(xt.match_length=Wt(xt,Ft)),xt.match_length>=dt)if(Ut=g._tr_tally(xt,xt.strstart-xt.match_start,xt.match_length-dt),xt.lookahead-=xt.match_length,xt.match_length<=xt.max_lazy_match&&xt.lookahead>=dt){xt.match_length--;do xt.strstart++,xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+dt-1])&xt.hash_mask,Ft=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart;while(--xt.match_length!=0);xt.strstart++}else xt.strstart+=xt.match_length,xt.match_length=0,xt.ins_h=xt.window[xt.strstart],xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+1])&xt.hash_mask;else Ut=g._tr_tally(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++;if(Ut&&(Qt(xt,!1),xt.strm.avail_out===0))return ht}return xt.insert=xt.strstart<dt-1?xt.strstart:dt-1,ue===U?(Qt(xt,!0),xt.strm.avail_out===0?qt:Nt):xt.last_lit&&(Qt(xt,!1),xt.strm.avail_out===0)?ht:It}function Xt(xt,ue){for(var Ft,Ut,Lt;;){if(xt.lookahead<At){if(fe(xt),xt.lookahead<At&&ue===F)return ht;if(xt.lookahead===0)break}if(Ft=0,xt.lookahead>=dt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+dt-1])&xt.hash_mask,Ft=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),xt.prev_length=xt.match_length,xt.prev_match=xt.match_start,xt.match_length=dt-1,Ft!==0&&xt.prev_length<xt.max_lazy_match&&xt.strstart-Ft<=xt.w_size-At&&(xt.match_length=Wt(xt,Ft),xt.match_length<=5&&(xt.strategy===1||xt.match_length===dt&&xt.strstart-xt.match_start>4096)&&(xt.match_length=dt-1)),xt.prev_length>=dt&&xt.match_length<=xt.prev_length){Lt=xt.strstart+xt.lookahead-dt,Ut=g._tr_tally(xt,xt.strstart-1-xt.prev_match,xt.prev_length-dt),xt.lookahead-=xt.prev_length-1,xt.prev_length-=2;do++xt.strstart<=Lt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+dt-1])&xt.hash_mask,Ft=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart);while(--xt.prev_length!=0);if(xt.match_available=0,xt.match_length=dt-1,xt.strstart++,Ut&&(Qt(xt,!1),xt.strm.avail_out===0))return ht}else if(xt.match_available){if((Ut=g._tr_tally(xt,0,xt.window[xt.strstart-1]))&&Qt(xt,!1),xt.strstart++,xt.lookahead--,xt.strm.avail_out===0)return ht}else xt.match_available=1,xt.strstart++,xt.lookahead--}return xt.match_available&&(Ut=g._tr_tally(xt,0,xt.window[xt.strstart-1]),xt.match_available=0),xt.insert=xt.strstart<dt-1?xt.strstart:dt-1,ue===U?(Qt(xt,!0),xt.strm.avail_out===0?qt:Nt):xt.last_lit&&(Qt(xt,!1),xt.strm.avail_out===0)?ht:It}function ne(xt,ue,Ft,Ut,Lt){this.good_length=xt,this.max_lazy=ue,this.nice_length=Ft,this.max_chain=Ut,this.func=Lt}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*vt),this.dyn_dtree=new m.Buf16(2*(2*ut+1)),this.bl_tree=new m.Buf16(2*(2*yt+1)),Jt(this.dyn_ltree),Jt(this.dyn_dtree),Jt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(mt+1),this.heap=new m.Buf16(2*ot+1),Jt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*ot+1),Jt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ie(xt){var ue;return xt&&xt.state?(xt.total_in=xt.total_out=0,xt.data_type=J,(ue=xt.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?_t:wt,xt.adler=ue.wrap===2?0:1,ue.last_flush=F,g._tr_init(ue),H):Ot(xt,q)}function $e(xt){var ue=Ie(xt);return ue===H&&(function(Ft){Ft.window_size=2*Ft.w_size,Jt(Ft.head),Ft.max_lazy_match=d[Ft.level].max_lazy,Ft.good_match=d[Ft.level].good_length,Ft.nice_match=d[Ft.level].nice_length,Ft.max_chain_length=d[Ft.level].max_chain,Ft.strstart=0,Ft.block_start=0,Ft.lookahead=0,Ft.insert=0,Ft.match_length=Ft.prev_length=dt-1,Ft.match_available=0,Ft.ins_h=0})(xt.state),ue}function he(xt,ue,Ft,Ut,Lt,Vt){if(!xt)return q;var ge=1;if(ue===X&&(ue=6),Ut<0?(ge=0,Ut=-Ut):Ut>15&&(ge=2,Ut-=16),Lt<1||Lt>at||Ft!==et||Ut<8||Ut>15||ue<0||ue>9||Vt<0||Vt>V)return Ot(xt,q);Ut===8&&(Ut=9);var pt=new ye;return xt.state=pt,pt.strm=xt,pt.wrap=ge,pt.gzhead=null,pt.w_bits=Ut,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=Lt+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+dt-1)/dt),pt.window=new m.Buf8(2*pt.w_size),pt.head=new m.Buf16(pt.hash_size),pt.prev=new m.Buf16(pt.w_size),pt.lit_bufsize=1<<Lt+6,pt.pending_buf_size=4*pt.lit_bufsize,pt.pending_buf=new m.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=ue,pt.strategy=Vt,pt.method=Ft,$e(xt)}return d=[new ne(0,0,0,0,(function(xt,ue){var Ft=65535;for(Ft>xt.pending_buf_size-5&&(Ft=xt.pending_buf_size-5);;){if(xt.lookahead<=1){if(fe(xt),xt.lookahead===0&&ue===F)return ht;if(xt.lookahead===0)break}xt.strstart+=xt.lookahead,xt.lookahead=0;var Ut=xt.block_start+Ft;if((xt.strstart===0||xt.strstart>=Ut)&&(xt.lookahead=xt.strstart-Ut,xt.strstart=Ut,Qt(xt,!1),xt.strm.avail_out===0)||xt.strstart-xt.block_start>=xt.w_size-At&&(Qt(xt,!1),xt.strm.avail_out===0))return ht}return xt.insert=0,ue===U?(Qt(xt,!0),xt.strm.avail_out===0?qt:Nt):(xt.strstart>xt.block_start&&(Qt(xt,!1),xt.strm.avail_out),ht)})),new ne(4,4,8,4,oe),new ne(4,5,16,8,oe),new ne(4,6,32,32,oe),new ne(4,4,16,16,Xt),new ne(8,16,32,32,Xt),new ne(8,16,128,128,Xt),new ne(8,32,128,256,Xt),new ne(32,128,258,1024,Xt),new ne(32,258,258,4096,Xt)],deflate.deflateInit=function(xt,ue){return he(xt,ue,et,15,8,0)},deflate.deflateInit2=he,deflate.deflateReset=$e,deflate.deflateResetKeep=Ie,deflate.deflateSetHeader=function(xt,ue){return xt&&xt.state?xt.state.wrap!==2?q:(xt.state.gzhead=ue,H):q},deflate.deflate=function(xt,ue){var Ft,Ut,Lt,Vt;if(!xt||!xt.state||ue>5||ue<0)return xt?Ot(xt,q):q;if(Ut=xt.state,!xt.output||!xt.input&&xt.avail_in!==0||Ut.status===zt&&ue!==U)return Ot(xt,xt.avail_out===0?-5:q);if(Ut.strm=xt,Ft=Ut.last_flush,Ut.last_flush=ue,Ut.status===_t)if(Ut.wrap===2)xt.adler=0,pe(Ut,31),pe(Ut,139),pe(Ut,8),Ut.gzhead?(pe(Ut,(Ut.gzhead.text?1:0)+(Ut.gzhead.hcrc?2:0)+(Ut.gzhead.extra?4:0)+(Ut.gzhead.name?8:0)+(Ut.gzhead.comment?16:0)),pe(Ut,255&Ut.gzhead.time),pe(Ut,Ut.gzhead.time>>8&255),pe(Ut,Ut.gzhead.time>>16&255),pe(Ut,Ut.gzhead.time>>24&255),pe(Ut,Ut.level===9?2:Ut.strategy>=2||Ut.level<2?4:0),pe(Ut,255&Ut.gzhead.os),Ut.gzhead.extra&&Ut.gzhead.extra.length&&(pe(Ut,255&Ut.gzhead.extra.length),pe(Ut,Ut.gzhead.extra.length>>8&255)),Ut.gzhead.hcrc&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending,0)),Ut.gzindex=0,Ut.status=69):(pe(Ut,0),pe(Ut,0),pe(Ut,0),pe(Ut,0),pe(Ut,0),pe(Ut,Ut.level===9?2:Ut.strategy>=2||Ut.level<2?4:0),pe(Ut,3),Ut.status=wt);else{var ge=et+(Ut.w_bits-8<<4)<<8;ge|=(Ut.strategy>=2||Ut.level<2?0:Ut.level<6?1:Ut.level===6?2:3)<<6,Ut.strstart!==0&&(ge|=32),ge+=31-ge%31,Ut.status=wt,$t(Ut,ge),Ut.strstart!==0&&($t(Ut,xt.adler>>>16),$t(Ut,65535&xt.adler)),xt.adler=1}if(Ut.status===69)if(Ut.gzhead.extra){for(Lt=Ut.pending;Ut.gzindex<(65535&Ut.gzhead.extra.length)&&(Ut.pending!==Ut.pending_buf_size||(Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Kt(xt),Lt=Ut.pending,Ut.pending!==Ut.pending_buf_size));)pe(Ut,255&Ut.gzhead.extra[Ut.gzindex]),Ut.gzindex++;Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Ut.gzindex===Ut.gzhead.extra.length&&(Ut.gzindex=0,Ut.status=73)}else Ut.status=73;if(Ut.status===73)if(Ut.gzhead.name){Lt=Ut.pending;do{if(Ut.pending===Ut.pending_buf_size&&(Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Kt(xt),Lt=Ut.pending,Ut.pending===Ut.pending_buf_size)){Vt=1;break}Vt=Ut.gzindex<Ut.gzhead.name.length?255&Ut.gzhead.name.charCodeAt(Ut.gzindex++):0,pe(Ut,Vt)}while(Vt!==0);Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Vt===0&&(Ut.gzindex=0,Ut.status=91)}else Ut.status=91;if(Ut.status===91)if(Ut.gzhead.comment){Lt=Ut.pending;do{if(Ut.pending===Ut.pending_buf_size&&(Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Kt(xt),Lt=Ut.pending,Ut.pending===Ut.pending_buf_size)){Vt=1;break}Vt=Ut.gzindex<Ut.gzhead.comment.length?255&Ut.gzhead.comment.charCodeAt(Ut.gzindex++):0,pe(Ut,Vt)}while(Vt!==0);Ut.gzhead.hcrc&&Ut.pending>Lt&&(xt.adler=D(xt.adler,Ut.pending_buf,Ut.pending-Lt,Lt)),Vt===0&&(Ut.status=Mt)}else Ut.status=Mt;if(Ut.status===Mt&&(Ut.gzhead.hcrc?(Ut.pending+2>Ut.pending_buf_size&&Kt(xt),Ut.pending+2<=Ut.pending_buf_size&&(pe(Ut,255&xt.adler),pe(Ut,xt.adler>>8&255),xt.adler=0,Ut.status=wt)):Ut.status=wt),Ut.pending!==0){if(Kt(xt),xt.avail_out===0)return Ut.last_flush=-1,H}else if(xt.avail_in===0&&Ct(ue)<=Ct(Ft)&&ue!==U)return Ot(xt,-5);if(Ut.status===zt&&xt.avail_in!==0)return Ot(xt,-5);if(xt.avail_in!==0||Ut.lookahead!==0||ue!==F&&Ut.status!==zt){var pt=Ut.strategy===2?(function(Rt,Gt){for(var jt;;){if(Rt.lookahead===0&&(fe(Rt),Rt.lookahead===0)){if(Gt===F)return ht;break}if(Rt.match_length=0,jt=g._tr_tally(Rt,0,Rt.window[Rt.strstart]),Rt.lookahead--,Rt.strstart++,jt&&(Qt(Rt,!1),Rt.strm.avail_out===0))return ht}return Rt.insert=0,Gt===U?(Qt(Rt,!0),Rt.strm.avail_out===0?qt:Nt):Rt.last_lit&&(Qt(Rt,!1),Rt.strm.avail_out===0)?ht:It})(Ut,ue):Ut.strategy===3?(function(Rt,Gt){for(var jt,xe,Be,oi,mi=Rt.window;;){if(Rt.lookahead<=gt){if(fe(Rt),Rt.lookahead<=gt&&Gt===F)return ht;if(Rt.lookahead===0)break}if(Rt.match_length=0,Rt.lookahead>=dt&&Rt.strstart>0&&(xe=mi[Be=Rt.strstart-1])===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]){oi=Rt.strstart+gt;do;while(xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&xe===mi[++Be]&&Be<oi);Rt.match_length=gt-(oi-Be),Rt.match_length>Rt.lookahead&&(Rt.match_length=Rt.lookahead)}if(Rt.match_length>=dt?(jt=g._tr_tally(Rt,1,Rt.match_length-dt),Rt.lookahead-=Rt.match_length,Rt.strstart+=Rt.match_length,Rt.match_length=0):(jt=g._tr_tally(Rt,0,Rt.window[Rt.strstart]),Rt.lookahead--,Rt.strstart++),jt&&(Qt(Rt,!1),Rt.strm.avail_out===0))return ht}return Rt.insert=0,Gt===U?(Qt(Rt,!0),Rt.strm.avail_out===0?qt:Nt):Rt.last_lit&&(Qt(Rt,!1),Rt.strm.avail_out===0)?ht:It})(Ut,ue):d[Ut.level].func(Ut,ue);if(pt!==qt&&pt!==Nt||(Ut.status=zt),pt===ht||pt===qt)return xt.avail_out===0&&(Ut.last_flush=-1),H;if(pt===It&&(ue===1?g._tr_align(Ut):ue!==5&&(g._tr_stored_block(Ut,0,0,!1),ue===3&&(Jt(Ut.head),Ut.lookahead===0&&(Ut.strstart=0,Ut.block_start=0,Ut.insert=0))),Kt(xt),xt.avail_out===0))return Ut.last_flush=-1,H}return ue!==U?H:Ut.wrap<=0?1:(Ut.wrap===2?(pe(Ut,255&xt.adler),pe(Ut,xt.adler>>8&255),pe(Ut,xt.adler>>16&255),pe(Ut,xt.adler>>24&255),pe(Ut,255&xt.total_in),pe(Ut,xt.total_in>>8&255),pe(Ut,xt.total_in>>16&255),pe(Ut,xt.total_in>>24&255)):($t(Ut,xt.adler>>>16),$t(Ut,65535&xt.adler)),Kt(xt),Ut.wrap>0&&(Ut.wrap=-Ut.wrap),Ut.pending!==0?H:1)},deflate.deflateEnd=function(xt){var ue;return xt&&xt.state?(ue=xt.state.status)!==_t&&ue!==69&&ue!==73&&ue!==91&&ue!==Mt&&ue!==wt&&ue!==zt?Ot(xt,q):(xt.state=null,ue===wt?Ot(xt,-3):H):q},deflate.deflateSetDictionary=function(xt,ue){var Ft,Ut,Lt,Vt,ge,pt,Rt,Gt,jt=ue.length;if(!xt||!xt.state||(Vt=(Ft=xt.state).wrap)===2||Vt===1&&Ft.status!==_t||Ft.lookahead)return q;for(Vt===1&&(xt.adler=w(xt.adler,ue,jt,0)),Ft.wrap=0,jt>=Ft.w_size&&(Vt===0&&(Jt(Ft.head),Ft.strstart=0,Ft.block_start=0,Ft.insert=0),Gt=new m.Buf8(Ft.w_size),m.arraySet(Gt,ue,jt-Ft.w_size,Ft.w_size,0),ue=Gt,jt=Ft.w_size),ge=xt.avail_in,pt=xt.next_in,Rt=xt.input,xt.avail_in=jt,xt.next_in=0,xt.input=ue,fe(Ft);Ft.lookahead>=dt;){Ut=Ft.strstart,Lt=Ft.lookahead-(dt-1);do Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ut+dt-1])&Ft.hash_mask,Ft.prev[Ut&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ut,Ut++;while(--Lt);Ft.strstart=Ut,Ft.lookahead=dt-1,fe(Ft)}return Ft.strstart+=Ft.lookahead,Ft.block_start=Ft.strstart,Ft.insert=Ft.lookahead,Ft.lookahead=0,Ft.match_length=Ft.prev_length=dt-1,Ft.match_available=0,xt.next_in=pt,xt.input=Rt,xt.avail_in=ge,Ft.wrap=Vt,H},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),D=0;D<256;D++)w[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;function P(F,U){if(U<65534&&(F.subarray&&g||!F.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(F,U));for(var H="",q=0;q<U;q++)H+=String.fromCharCode(F[q]);return H}return w[254]=w[254]=1,strings.string2buf=function(F){var U,H,q,X,V,J=F.length,et=0;for(X=0;X<J;X++)(64512&(H=F.charCodeAt(X)))==55296&&X+1<J&&(64512&(q=F.charCodeAt(X+1)))==56320&&(H=65536+(H-55296<<10)+(q-56320),X++),et+=H<128?1:H<2048?2:H<65536?3:4;for(U=new d.Buf8(et),V=0,X=0;V<et;X++)(64512&(H=F.charCodeAt(X)))==55296&&X+1<J&&(64512&(q=F.charCodeAt(X+1)))==56320&&(H=65536+(H-55296<<10)+(q-56320),X++),H<128?U[V++]=H:H<2048?(U[V++]=192|H>>>6,U[V++]=128|63&H):H<65536?(U[V++]=224|H>>>12,U[V++]=128|H>>>6&63,U[V++]=128|63&H):(U[V++]=240|H>>>18,U[V++]=128|H>>>12&63,U[V++]=128|H>>>6&63,U[V++]=128|63&H);return U},strings.buf2binstring=function(F){return P(F,F.length)},strings.binstring2buf=function(F){for(var U=new d.Buf8(F.length),H=0,q=U.length;H<q;H++)U[H]=F.charCodeAt(H);return U},strings.buf2string=function(F,U){var H,q,X,V,J=U||F.length,et=new Array(2*J);for(q=0,H=0;H<J;)if((X=F[H++])<128)et[q++]=X;else if((V=w[X])>4)et[q++]=65533,H+=V-1;else{for(X&=V===2?31:V===3?15:7;V>1&&H<J;)X=X<<6|63&F[H++],V--;V>1?et[q++]=65533:X<65536?et[q++]=X:(X-=65536,et[q++]=55296|X>>10&1023,et[q++]=56320|1023&X)}return P(et,q)},strings.utf8border=function(F,U){var H;for((U=U||F.length)>F.length&&(U=F.length),H=U-1;H>=0&&(192&F[H])==128;)H--;return H<0||H===0?U:H+w[F[H]]>U?H:U},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),D=requireZstream(),P=Object.prototype.toString,F=0,U=-1,H=0,q=8;function X(J){if(!(this instanceof X))return new X(J);this.options=m.assign({level:U,method:q,chunkSize:16384,windowBits:15,memLevel:8,strategy:H,to:""},J||{});var et=this.options;et.raw&&et.windowBits>0?et.windowBits=-et.windowBits:et.gzip&&et.windowBits>0&&et.windowBits<16&&(et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var at=d.deflateInit2(this.strm,et.level,et.method,et.windowBits,et.memLevel,et.strategy);if(at!==F)throw new Error(w[at]);if(et.header&&d.deflateSetHeader(this.strm,et.header),et.dictionary){var ot;if(ot=typeof et.dictionary=="string"?g.string2buf(et.dictionary):P.call(et.dictionary)==="[object ArrayBuffer]"?new Uint8Array(et.dictionary):et.dictionary,(at=d.deflateSetDictionary(this.strm,ot))!==F)throw new Error(w[at]);this._dict_set=!0}}function V(J,et){var at=new X(et);if(at.push(J,!0),at.err)throw at.msg||w[at.err];return at.result}return X.prototype.push=function(J,et){var at,ot,ut=this.strm,yt=this.options.chunkSize;if(this.ended)return!1;ot=et===~~et?et:et===!0?4:0,typeof J=="string"?ut.input=g.string2buf(J):P.call(J)==="[object ArrayBuffer]"?ut.input=new Uint8Array(J):ut.input=J,ut.next_in=0,ut.avail_in=ut.input.length;do{if(ut.avail_out===0&&(ut.output=new m.Buf8(yt),ut.next_out=0,ut.avail_out=yt),(at=d.deflate(ut,ot))!==1&&at!==F)return this.onEnd(at),this.ended=!0,!1;ut.avail_out!==0&&(ut.avail_in!==0||ot!==4&&ot!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(ut.output,ut.next_out))):this.onData(m.shrinkBuf(ut.output,ut.next_out)))}while((ut.avail_in>0||ut.avail_out===0)&&at!==1);return ot===4?(at=d.deflateEnd(this.strm),this.onEnd(at),this.ended=!0,at===F):ot!==2||(this.onEnd(F),ut.avail_out=0,!0)},X.prototype.onData=function(J){this.chunks.push(J)},X.prototype.onEnd=function(J){J===F&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=J,this.msg=this.strm.msg},deflate$1.Deflate=X,deflate$1.deflate=V,deflate$1.deflateRaw=function(J,et){return(et=et||{}).raw=!0,V(J,et)},deflate$1.gzip=function(J,et){return(et=et||{}).gzip=!0,V(J,et)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,D,P,F,U,H,q,X,V,J,et,at,ot,ut,yt,vt,mt,dt,gt,At,_t,Mt,wt,zt;g=d.state,w=d.next_in,wt=d.input,D=w+(d.avail_in-5),P=d.next_out,zt=d.output,F=P-(m-d.avail_out),U=P+(d.avail_out-257),H=g.dmax,q=g.wsize,X=g.whave,V=g.wnext,J=g.window,et=g.hold,at=g.bits,ot=g.lencode,ut=g.distcode,yt=(1<<g.lenbits)-1,vt=(1<<g.distbits)-1;t:do{at<15&&(et+=wt[w++]<<at,at+=8,et+=wt[w++]<<at,at+=8),mt=ot[et&yt];e:for(;;){if(et>>>=dt=mt>>>24,at-=dt,(dt=mt>>>16&255)===0)zt[P++]=65535&mt;else{if(!(16&dt)){if(64&dt){if(32&dt){g.mode=12;break t}d.msg="invalid literal/length code",g.mode=30;break t}mt=ot[(65535&mt)+(et&(1<<dt)-1)];continue e}for(gt=65535&mt,(dt&=15)&&(at<dt&&(et+=wt[w++]<<at,at+=8),gt+=et&(1<<dt)-1,et>>>=dt,at-=dt),at<15&&(et+=wt[w++]<<at,at+=8,et+=wt[w++]<<at,at+=8),mt=ut[et&vt];;){if(et>>>=dt=mt>>>24,at-=dt,16&(dt=mt>>>16&255)){if(At=65535&mt,at<(dt&=15)&&(et+=wt[w++]<<at,(at+=8)<dt&&(et+=wt[w++]<<at,at+=8)),(At+=et&(1<<dt)-1)>H){d.msg="invalid distance too far back",g.mode=30;break t}if(et>>>=dt,at-=dt,At>(dt=P-F)){if((dt=At-dt)>X&&g.sane){d.msg="invalid distance too far back",g.mode=30;break t}if(_t=0,Mt=J,V===0){if(_t+=q-dt,dt<gt){gt-=dt;do zt[P++]=J[_t++];while(--dt);_t=P-At,Mt=zt}}else if(V<dt){if(_t+=q+V-dt,(dt-=V)<gt){gt-=dt;do zt[P++]=J[_t++];while(--dt);if(_t=0,V<gt){gt-=dt=V;do zt[P++]=J[_t++];while(--dt);_t=P-At,Mt=zt}}}else if(_t+=V-dt,dt<gt){gt-=dt;do zt[P++]=J[_t++];while(--dt);_t=P-At,Mt=zt}for(;gt>2;)zt[P++]=Mt[_t++],zt[P++]=Mt[_t++],zt[P++]=Mt[_t++],gt-=3;gt&&(zt[P++]=Mt[_t++],gt>1&&(zt[P++]=Mt[_t++]))}else{_t=P-At;do zt[P++]=zt[_t++],zt[P++]=zt[_t++],zt[P++]=zt[_t++],gt-=3;while(gt>2);gt&&(zt[P++]=zt[_t++],gt>1&&(zt[P++]=zt[_t++]))}break}if(64&dt){d.msg="invalid distance code",g.mode=30;break t}mt=ut[(65535&mt)+(et&(1<<dt)-1)]}}break}}while(w<D&&P<U);w-=gt=at>>3,et&=(1<<(at-=gt<<3))-1,d.next_in=w,d.next_out=P,d.avail_in=w<D?D-w+5:5-(w-D),d.avail_out=P<U?U-P+257:257-(P-U),g.hold=et,g.bits=at},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(F,U,H,q,X,V,J,et){var at,ot,ut,yt,vt,mt,dt,gt,At,_t=et.bits,Mt=0,wt=0,zt=0,ht=0,It=0,qt=0,Nt=0,Ot=0,Ct=0,Jt=0,Kt=null,Qt=0,pe=new d.Buf16(16),$t=new d.Buf16(16),Wt=null,fe=0;for(Mt=0;Mt<=m;Mt++)pe[Mt]=0;for(wt=0;wt<q;wt++)pe[U[H+wt]]++;for(It=_t,ht=m;ht>=1&&pe[ht]===0;ht--);if(It>ht&&(It=ht),ht===0)return X[V++]=20971520,X[V++]=20971520,et.bits=1,0;for(zt=1;zt<ht&&pe[zt]===0;zt++);for(It<zt&&(It=zt),Ot=1,Mt=1;Mt<=m;Mt++)if(Ot<<=1,(Ot-=pe[Mt])<0)return-1;if(Ot>0&&(F===0||ht!==1))return-1;for($t[1]=0,Mt=1;Mt<m;Mt++)$t[Mt+1]=$t[Mt]+pe[Mt];for(wt=0;wt<q;wt++)U[H+wt]!==0&&(J[$t[U[H+wt]]++]=wt);if(F===0?(Kt=Wt=J,mt=19):F===1?(Kt=g,Qt-=257,Wt=w,fe-=257,mt=256):(Kt=D,Wt=P,mt=-1),Jt=0,wt=0,Mt=zt,vt=V,qt=It,Nt=0,ut=-1,yt=(Ct=1<<It)-1,F===1&&Ct>852||F===2&&Ct>592)return 1;for(;;){dt=Mt-Nt,J[wt]<mt?(gt=0,At=J[wt]):J[wt]>mt?(gt=Wt[fe+J[wt]],At=Kt[Qt+J[wt]]):(gt=96,At=0),at=1<<Mt-Nt,zt=ot=1<<qt;do X[vt+(Jt>>Nt)+(ot-=at)]=dt<<24|gt<<16|At;while(ot!==0);for(at=1<<Mt-1;Jt&at;)at>>=1;if(at!==0?(Jt&=at-1,Jt+=at):Jt=0,wt++,--pe[Mt]==0){if(Mt===ht)break;Mt=U[H+J[wt]]}if(Mt>It&&(Jt&yt)!==ut){for(Nt===0&&(Nt=It),vt+=zt,Ot=1<<(qt=Mt-Nt);qt+Nt<ht&&!((Ot-=pe[qt+Nt])<=0);)qt++,Ot<<=1;if(Ct+=1<<qt,F===1&&Ct>852||F===2&&Ct>592)return 1;X[ut=Jt&yt]=It<<24|qt<<16|vt-V}}return Jt!==0&&(X[vt+Jt]=Mt-Nt<<24|64<<16),et.bits=It,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),D=requireInftrees(),P=1,F=2,U=0,H=-2,q=1,X=12,V=30,J=852,et=592;function at(wt){return(wt>>>24&255)+(wt>>>8&65280)+((65280&wt)<<8)+((255&wt)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ut(wt){var zt;return wt&&wt.state?(zt=wt.state,wt.total_in=wt.total_out=zt.total=0,wt.msg="",zt.wrap&&(wt.adler=1&zt.wrap),zt.mode=q,zt.last=0,zt.havedict=0,zt.dmax=32768,zt.head=null,zt.hold=0,zt.bits=0,zt.lencode=zt.lendyn=new d.Buf32(J),zt.distcode=zt.distdyn=new d.Buf32(et),zt.sane=1,zt.back=-1,U):H}function yt(wt){var zt;return wt&&wt.state?((zt=wt.state).wsize=0,zt.whave=0,zt.wnext=0,ut(wt)):H}function vt(wt,zt){var ht,It;return wt&&wt.state?(It=wt.state,zt<0?(ht=0,zt=-zt):(ht=1+(zt>>4),zt<48&&(zt&=15)),zt&&(zt<8||zt>15)?H:(It.window!==null&&It.wbits!==zt&&(It.window=null),It.wrap=ht,It.wbits=zt,yt(wt))):H}function mt(wt,zt){var ht,It;return wt?(It=new ot,wt.state=It,It.window=null,(ht=vt(wt,zt))!==U&&(wt.state=null),ht):H}var dt,gt,At=!0;function _t(wt){if(At){var zt;for(dt=new d.Buf32(512),gt=new d.Buf32(32),zt=0;zt<144;)wt.lens[zt++]=8;for(;zt<256;)wt.lens[zt++]=9;for(;zt<280;)wt.lens[zt++]=7;for(;zt<288;)wt.lens[zt++]=8;for(D(P,wt.lens,0,288,dt,0,wt.work,{bits:9}),zt=0;zt<32;)wt.lens[zt++]=5;D(F,wt.lens,0,32,gt,0,wt.work,{bits:5}),At=!1}wt.lencode=dt,wt.lenbits=9,wt.distcode=gt,wt.distbits=5}function Mt(wt,zt,ht,It){var qt,Nt=wt.state;return Nt.window===null&&(Nt.wsize=1<<Nt.wbits,Nt.wnext=0,Nt.whave=0,Nt.window=new d.Buf8(Nt.wsize)),It>=Nt.wsize?(d.arraySet(Nt.window,zt,ht-Nt.wsize,Nt.wsize,0),Nt.wnext=0,Nt.whave=Nt.wsize):((qt=Nt.wsize-Nt.wnext)>It&&(qt=It),d.arraySet(Nt.window,zt,ht-It,qt,Nt.wnext),(It-=qt)?(d.arraySet(Nt.window,zt,ht-It,It,0),Nt.wnext=It,Nt.whave=Nt.wsize):(Nt.wnext+=qt,Nt.wnext===Nt.wsize&&(Nt.wnext=0),Nt.whave<Nt.wsize&&(Nt.whave+=qt))),0}return inflate.inflateReset=yt,inflate.inflateReset2=vt,inflate.inflateResetKeep=ut,inflate.inflateInit=function(wt){return mt(wt,15)},inflate.inflateInit2=mt,inflate.inflate=function(wt,zt){var ht,It,qt,Nt,Ot,Ct,Jt,Kt,Qt,pe,$t,Wt,fe,oe,Xt,ne,ye,Ie,$e,he,xt,ue,Ft,Ut,Lt=0,Vt=new d.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wt||!wt.state||!wt.output||!wt.input&&wt.avail_in!==0)return H;(ht=wt.state).mode===X&&(ht.mode=13),Ot=wt.next_out,qt=wt.output,Jt=wt.avail_out,Nt=wt.next_in,It=wt.input,Ct=wt.avail_in,Kt=ht.hold,Qt=ht.bits,pe=Ct,$t=Jt,ue=U;t:for(;;)switch(ht.mode){case q:if(ht.wrap===0){ht.mode=13;break}for(;Qt<16;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(2&ht.wrap&&Kt===35615){ht.check=0,Vt[0]=255&Kt,Vt[1]=Kt>>>8&255,ht.check=g(ht.check,Vt,2,0),Kt=0,Qt=0,ht.mode=2;break}if(ht.flags=0,ht.head&&(ht.head.done=!1),!(1&ht.wrap)||(((255&Kt)<<8)+(Kt>>8))%31){wt.msg="incorrect header check",ht.mode=V;break}if((15&Kt)!=8){wt.msg="unknown compression method",ht.mode=V;break}if(Qt-=4,xt=8+(15&(Kt>>>=4)),ht.wbits===0)ht.wbits=xt;else if(xt>ht.wbits){wt.msg="invalid window size",ht.mode=V;break}ht.dmax=1<<xt,wt.adler=ht.check=1,ht.mode=512&Kt?10:X,Kt=0,Qt=0;break;case 2:for(;Qt<16;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(ht.flags=Kt,(255&ht.flags)!=8){wt.msg="unknown compression method",ht.mode=V;break}if(57344&ht.flags){wt.msg="unknown header flags set",ht.mode=V;break}ht.head&&(ht.head.text=Kt>>8&1),512&ht.flags&&(Vt[0]=255&Kt,Vt[1]=Kt>>>8&255,ht.check=g(ht.check,Vt,2,0)),Kt=0,Qt=0,ht.mode=3;case 3:for(;Qt<32;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.head&&(ht.head.time=Kt),512&ht.flags&&(Vt[0]=255&Kt,Vt[1]=Kt>>>8&255,Vt[2]=Kt>>>16&255,Vt[3]=Kt>>>24&255,ht.check=g(ht.check,Vt,4,0)),Kt=0,Qt=0,ht.mode=4;case 4:for(;Qt<16;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.head&&(ht.head.xflags=255&Kt,ht.head.os=Kt>>8),512&ht.flags&&(Vt[0]=255&Kt,Vt[1]=Kt>>>8&255,ht.check=g(ht.check,Vt,2,0)),Kt=0,Qt=0,ht.mode=5;case 5:if(1024&ht.flags){for(;Qt<16;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.length=Kt,ht.head&&(ht.head.extra_len=Kt),512&ht.flags&&(Vt[0]=255&Kt,Vt[1]=Kt>>>8&255,ht.check=g(ht.check,Vt,2,0)),Kt=0,Qt=0}else ht.head&&(ht.head.extra=null);ht.mode=6;case 6:if(1024&ht.flags&&((Wt=ht.length)>Ct&&(Wt=Ct),Wt&&(ht.head&&(xt=ht.head.extra_len-ht.length,ht.head.extra||(ht.head.extra=new Array(ht.head.extra_len)),d.arraySet(ht.head.extra,It,Nt,Wt,xt)),512&ht.flags&&(ht.check=g(ht.check,It,Wt,Nt)),Ct-=Wt,Nt+=Wt,ht.length-=Wt),ht.length))break t;ht.length=0,ht.mode=7;case 7:if(2048&ht.flags){if(Ct===0)break t;Wt=0;do xt=It[Nt+Wt++],ht.head&&xt&&ht.length<65536&&(ht.head.name+=String.fromCharCode(xt));while(xt&&Wt<Ct);if(512&ht.flags&&(ht.check=g(ht.check,It,Wt,Nt)),Ct-=Wt,Nt+=Wt,xt)break t}else ht.head&&(ht.head.name=null);ht.length=0,ht.mode=8;case 8:if(4096&ht.flags){if(Ct===0)break t;Wt=0;do xt=It[Nt+Wt++],ht.head&&xt&&ht.length<65536&&(ht.head.comment+=String.fromCharCode(xt));while(xt&&Wt<Ct);if(512&ht.flags&&(ht.check=g(ht.check,It,Wt,Nt)),Ct-=Wt,Nt+=Wt,xt)break t}else ht.head&&(ht.head.comment=null);ht.mode=9;case 9:if(512&ht.flags){for(;Qt<16;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(Kt!==(65535&ht.check)){wt.msg="header crc mismatch",ht.mode=V;break}Kt=0,Qt=0}ht.head&&(ht.head.hcrc=ht.flags>>9&1,ht.head.done=!0),wt.adler=ht.check=0,ht.mode=X;break;case 10:for(;Qt<32;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}wt.adler=ht.check=at(Kt),Kt=0,Qt=0,ht.mode=11;case 11:if(ht.havedict===0)return wt.next_out=Ot,wt.avail_out=Jt,wt.next_in=Nt,wt.avail_in=Ct,ht.hold=Kt,ht.bits=Qt,2;wt.adler=ht.check=1,ht.mode=X;case X:if(zt===5||zt===6)break t;case 13:if(ht.last){Kt>>>=7&Qt,Qt-=7&Qt,ht.mode=27;break}for(;Qt<3;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}switch(ht.last=1&Kt,Qt-=1,3&(Kt>>>=1)){case 0:ht.mode=14;break;case 1:if(_t(ht),ht.mode=20,zt===6){Kt>>>=2,Qt-=2;break t}break;case 2:ht.mode=17;break;case 3:wt.msg="invalid block type",ht.mode=V}Kt>>>=2,Qt-=2;break;case 14:for(Kt>>>=7&Qt,Qt-=7&Qt;Qt<32;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if((65535&Kt)!=(Kt>>>16^65535)){wt.msg="invalid stored block lengths",ht.mode=V;break}if(ht.length=65535&Kt,Kt=0,Qt=0,ht.mode=15,zt===6)break t;case 15:ht.mode=16;case 16:if(Wt=ht.length){if(Wt>Ct&&(Wt=Ct),Wt>Jt&&(Wt=Jt),Wt===0)break t;d.arraySet(qt,It,Nt,Wt,Ot),Ct-=Wt,Nt+=Wt,Jt-=Wt,Ot+=Wt,ht.length-=Wt;break}ht.mode=X;break;case 17:for(;Qt<14;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(ht.nlen=257+(31&Kt),Kt>>>=5,Qt-=5,ht.ndist=1+(31&Kt),Kt>>>=5,Qt-=5,ht.ncode=4+(15&Kt),Kt>>>=4,Qt-=4,ht.nlen>286||ht.ndist>30){wt.msg="too many length or distance symbols",ht.mode=V;break}ht.have=0,ht.mode=18;case 18:for(;ht.have<ht.ncode;){for(;Qt<3;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.lens[ge[ht.have++]]=7&Kt,Kt>>>=3,Qt-=3}for(;ht.have<19;)ht.lens[ge[ht.have++]]=0;if(ht.lencode=ht.lendyn,ht.lenbits=7,Ft={bits:ht.lenbits},ue=D(0,ht.lens,0,19,ht.lencode,0,ht.work,Ft),ht.lenbits=Ft.bits,ue){wt.msg="invalid code lengths set",ht.mode=V;break}ht.have=0,ht.mode=19;case 19:for(;ht.have<ht.nlen+ht.ndist;){for(;ne=(Lt=ht.lencode[Kt&(1<<ht.lenbits)-1])>>>16&255,ye=65535&Lt,!((Xt=Lt>>>24)<=Qt);){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(ye<16)Kt>>>=Xt,Qt-=Xt,ht.lens[ht.have++]=ye;else{if(ye===16){for(Ut=Xt+2;Qt<Ut;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(Kt>>>=Xt,Qt-=Xt,ht.have===0){wt.msg="invalid bit length repeat",ht.mode=V;break}xt=ht.lens[ht.have-1],Wt=3+(3&Kt),Kt>>>=2,Qt-=2}else if(ye===17){for(Ut=Xt+3;Qt<Ut;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}Qt-=Xt,xt=0,Wt=3+(7&(Kt>>>=Xt)),Kt>>>=3,Qt-=3}else{for(Ut=Xt+7;Qt<Ut;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}Qt-=Xt,xt=0,Wt=11+(127&(Kt>>>=Xt)),Kt>>>=7,Qt-=7}if(ht.have+Wt>ht.nlen+ht.ndist){wt.msg="invalid bit length repeat",ht.mode=V;break}for(;Wt--;)ht.lens[ht.have++]=xt}}if(ht.mode===V)break;if(ht.lens[256]===0){wt.msg="invalid code -- missing end-of-block",ht.mode=V;break}if(ht.lenbits=9,Ft={bits:ht.lenbits},ue=D(P,ht.lens,0,ht.nlen,ht.lencode,0,ht.work,Ft),ht.lenbits=Ft.bits,ue){wt.msg="invalid literal/lengths set",ht.mode=V;break}if(ht.distbits=6,ht.distcode=ht.distdyn,Ft={bits:ht.distbits},ue=D(F,ht.lens,ht.nlen,ht.ndist,ht.distcode,0,ht.work,Ft),ht.distbits=Ft.bits,ue){wt.msg="invalid distances set",ht.mode=V;break}if(ht.mode=20,zt===6)break t;case 20:ht.mode=21;case 21:if(Ct>=6&&Jt>=258){wt.next_out=Ot,wt.avail_out=Jt,wt.next_in=Nt,wt.avail_in=Ct,ht.hold=Kt,ht.bits=Qt,w(wt,$t),Ot=wt.next_out,qt=wt.output,Jt=wt.avail_out,Nt=wt.next_in,It=wt.input,Ct=wt.avail_in,Kt=ht.hold,Qt=ht.bits,ht.mode===X&&(ht.back=-1);break}for(ht.back=0;ne=(Lt=ht.lencode[Kt&(1<<ht.lenbits)-1])>>>16&255,ye=65535&Lt,!((Xt=Lt>>>24)<=Qt);){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(ne&&!(240&ne)){for(Ie=Xt,$e=ne,he=ye;ne=(Lt=ht.lencode[he+((Kt&(1<<Ie+$e)-1)>>Ie)])>>>16&255,ye=65535&Lt,!(Ie+(Xt=Lt>>>24)<=Qt);){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}Kt>>>=Ie,Qt-=Ie,ht.back+=Ie}if(Kt>>>=Xt,Qt-=Xt,ht.back+=Xt,ht.length=ye,ne===0){ht.mode=26;break}if(32&ne){ht.back=-1,ht.mode=X;break}if(64&ne){wt.msg="invalid literal/length code",ht.mode=V;break}ht.extra=15&ne,ht.mode=22;case 22:if(ht.extra){for(Ut=ht.extra;Qt<Ut;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.length+=Kt&(1<<ht.extra)-1,Kt>>>=ht.extra,Qt-=ht.extra,ht.back+=ht.extra}ht.was=ht.length,ht.mode=23;case 23:for(;ne=(Lt=ht.distcode[Kt&(1<<ht.distbits)-1])>>>16&255,ye=65535&Lt,!((Xt=Lt>>>24)<=Qt);){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(!(240&ne)){for(Ie=Xt,$e=ne,he=ye;ne=(Lt=ht.distcode[he+((Kt&(1<<Ie+$e)-1)>>Ie)])>>>16&255,ye=65535&Lt,!(Ie+(Xt=Lt>>>24)<=Qt);){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}Kt>>>=Ie,Qt-=Ie,ht.back+=Ie}if(Kt>>>=Xt,Qt-=Xt,ht.back+=Xt,64&ne){wt.msg="invalid distance code",ht.mode=V;break}ht.offset=ye,ht.extra=15&ne,ht.mode=24;case 24:if(ht.extra){for(Ut=ht.extra;Qt<Ut;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}ht.offset+=Kt&(1<<ht.extra)-1,Kt>>>=ht.extra,Qt-=ht.extra,ht.back+=ht.extra}if(ht.offset>ht.dmax){wt.msg="invalid distance too far back",ht.mode=V;break}ht.mode=25;case 25:if(Jt===0)break t;if(Wt=$t-Jt,ht.offset>Wt){if((Wt=ht.offset-Wt)>ht.whave&&ht.sane){wt.msg="invalid distance too far back",ht.mode=V;break}Wt>ht.wnext?(Wt-=ht.wnext,fe=ht.wsize-Wt):fe=ht.wnext-Wt,Wt>ht.length&&(Wt=ht.length),oe=ht.window}else oe=qt,fe=Ot-ht.offset,Wt=ht.length;Wt>Jt&&(Wt=Jt),Jt-=Wt,ht.length-=Wt;do qt[Ot++]=oe[fe++];while(--Wt);ht.length===0&&(ht.mode=21);break;case 26:if(Jt===0)break t;qt[Ot++]=ht.length,Jt--,ht.mode=21;break;case 27:if(ht.wrap){for(;Qt<32;){if(Ct===0)break t;Ct--,Kt|=It[Nt++]<<Qt,Qt+=8}if($t-=Jt,wt.total_out+=$t,ht.total+=$t,$t&&(wt.adler=ht.check=ht.flags?g(ht.check,qt,$t,Ot-$t):m(ht.check,qt,$t,Ot-$t)),$t=Jt,(ht.flags?Kt:at(Kt))!==ht.check){wt.msg="incorrect data check",ht.mode=V;break}Kt=0,Qt=0}ht.mode=28;case 28:if(ht.wrap&&ht.flags){for(;Qt<32;){if(Ct===0)break t;Ct--,Kt+=It[Nt++]<<Qt,Qt+=8}if(Kt!==(4294967295&ht.total)){wt.msg="incorrect length check",ht.mode=V;break}Kt=0,Qt=0}ht.mode=29;case 29:ue=1;break t;case V:ue=-3;break t;case 31:return-4;default:return H}return wt.next_out=Ot,wt.avail_out=Jt,wt.next_in=Nt,wt.avail_in=Ct,ht.hold=Kt,ht.bits=Qt,(ht.wsize||$t!==wt.avail_out&&ht.mode<V&&(ht.mode<27||zt!==4))&&Mt(wt,wt.output,wt.next_out,$t-wt.avail_out),pe-=wt.avail_in,$t-=wt.avail_out,wt.total_in+=pe,wt.total_out+=$t,ht.total+=$t,ht.wrap&&$t&&(wt.adler=ht.check=ht.flags?g(ht.check,qt,$t,wt.next_out-$t):m(ht.check,qt,$t,wt.next_out-$t)),wt.data_type=ht.bits+(ht.last?64:0)+(ht.mode===X?128:0)+(ht.mode===20||ht.mode===15?256:0),(pe===0&&$t===0||zt===4)&&ue===U&&(ue=-5),ue},inflate.inflateEnd=function(wt){if(!wt||!wt.state)return H;var zt=wt.state;return zt.window&&(zt.window=null),wt.state=null,U},inflate.inflateGetHeader=function(wt,zt){var ht;return wt&&wt.state&&2&(ht=wt.state).wrap?(ht.head=zt,zt.done=!1,U):H},inflate.inflateSetDictionary=function(wt,zt){var ht,It=zt.length;return wt&&wt.state?(ht=wt.state).wrap!==0&&ht.mode!==11?H:ht.mode===11&&m(1,zt,It,0)!==ht.check?-3:Mt(wt,zt,It,It)?(ht.mode=31,-4):(ht.havedict=1,U):H},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),D=requireMessages(),P=requireZstream(),F=requireGzheader(),U=Object.prototype.toString;function H(X){if(!(this instanceof H))return new H(X);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},X||{});var V=this.options;V.raw&&V.windowBits>=0&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),!(V.windowBits>=0&&V.windowBits<16)||X&&X.windowBits||(V.windowBits+=32),V.windowBits>15&&V.windowBits<48&&(15&V.windowBits||(V.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var J=d.inflateInit2(this.strm,V.windowBits);if(J!==w.Z_OK)throw new Error(D[J]);if(this.header=new F,d.inflateGetHeader(this.strm,this.header),V.dictionary&&(typeof V.dictionary=="string"?V.dictionary=g.string2buf(V.dictionary):U.call(V.dictionary)==="[object ArrayBuffer]"&&(V.dictionary=new Uint8Array(V.dictionary)),V.raw&&(J=d.inflateSetDictionary(this.strm,V.dictionary))!==w.Z_OK))throw new Error(D[J])}function q(X,V){var J=new H(V);if(J.push(X,!0),J.err)throw J.msg||D[J.err];return J.result}return H.prototype.push=function(X,V){var J,et,at,ot,ut,yt=this.strm,vt=this.options.chunkSize,mt=this.options.dictionary,dt=!1;if(this.ended)return!1;et=V===~~V?V:V===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof X=="string"?yt.input=g.binstring2buf(X):U.call(X)==="[object ArrayBuffer]"?yt.input=new Uint8Array(X):yt.input=X,yt.next_in=0,yt.avail_in=yt.input.length;do{if(yt.avail_out===0&&(yt.output=new m.Buf8(vt),yt.next_out=0,yt.avail_out=vt),(J=d.inflate(yt,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&mt&&(J=d.inflateSetDictionary(this.strm,mt)),J===w.Z_BUF_ERROR&&dt===!0&&(J=w.Z_OK,dt=!1),J!==w.Z_STREAM_END&&J!==w.Z_OK)return this.onEnd(J),this.ended=!0,!1;yt.next_out&&(yt.avail_out!==0&&J!==w.Z_STREAM_END&&(yt.avail_in!==0||et!==w.Z_FINISH&&et!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(at=g.utf8border(yt.output,yt.next_out),ot=yt.next_out-at,ut=g.buf2string(yt.output,at),yt.next_out=ot,yt.avail_out=vt-ot,ot&&m.arraySet(yt.output,yt.output,at,ot,0),this.onData(ut)):this.onData(m.shrinkBuf(yt.output,yt.next_out)))),yt.avail_in===0&&yt.avail_out===0&&(dt=!0)}while((yt.avail_in>0||yt.avail_out===0)&&J!==w.Z_STREAM_END);return J===w.Z_STREAM_END&&(et=w.Z_FINISH),et===w.Z_FINISH?(J=d.inflateEnd(this.strm),this.onEnd(J),this.ended=!0,J===w.Z_OK):et!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),yt.avail_out=0,!0)},H.prototype.onData=function(X){this.chunks.push(X)},H.prototype.onEnd=function(X){X===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=X,this.msg=this.strm.msg},inflate$1.Inflate=H,inflate$1.inflate=q,inflate$1.inflateRaw=function(X,V){return(V=V||{}).raw=!0,q(X,V)},inflate$1.ungzip=q,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,(function(w,D){(function(){var P=(function(){function H(q){this.message="JPEG error: "+q}return H.prototype=new Error,H.prototype.name="JpegError",H.constructor=H,H})(),F=(function(){var H=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),q=4017,X=799,V=3406,J=2276,et=1567,at=3784,ot=5793,ut=2896;function yt(Mt){Mt==null&&(Mt={}),Mt.w==null&&(Mt.w=-1),this.V=Mt.n,this.N=Mt.w}function vt(Mt,wt){for(var zt,ht,It,qt=0,Nt=[],Ot=16;Ot>0&&!Mt[Ot-1];)Ot--;Nt.push({children:[],index:0});var Ct=Nt[0];for(zt=0;zt<Ot;zt++){for(ht=0;ht<Mt[zt];ht++){for((Ct=Nt.pop()).children[Ct.index]=wt[qt];Ct.index>0;)Ct=Nt.pop();for(Ct.index++,Nt.push(Ct);Nt.length<=zt;)Nt.push(It={children:[],index:0}),Ct.children[Ct.index]=It.children,Ct=It;qt++}zt+1<Ot&&(Nt.push(It={children:[],index:0}),Ct.children[Ct.index]=It.children,Ct=It)}return Nt[0].children}function mt(Mt,wt,zt){return 64*((Mt.P+1)*wt+zt)}function dt(Mt,wt,zt,ht,It,qt,Nt,Ot,Ct,Jt){Jt==null&&(Jt=!1);var Kt,Qt,pe,$t,Wt,fe,oe,Xt,ne,ye,Ie,$e=zt.m,he=zt.Z,xt=wt,ue=0,Ft=0,Ut=0,Lt=0,Vt=0,ge=0;function pt(){if(Ft>0)return Ft--,ue>>Ft&1;if((ue=Mt[wt++])===255){var li=Mt[wt++];if(li){if(li===220&&Jt){var gi=U(Mt,wt+=2);if(wt+=2,gi>0&&gi!==zt.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",gi)}else if(li===217){if(Jt){var We=8*Vt;if(We>0&&We<zt.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",We)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new P("unexpected marker")}}return Ft=7,ue>>>7}function Rt(li){for(var gi=li;;){switch(typeof(gi=gi[pt()])){case"number":return gi;case"object":continue}throw new P("invalid huffman sequence")}}function Gt(li){for(var gi=0;li>0;)gi=gi<<1|pt(),li--;return gi}function jt(li){if(li===1)return pt()===1?1:-1;var gi=Gt(li);return gi>=1<<li-1?gi:gi+(-1<<li)+1}function xe(li,gi,We,Ii,Si){var Ti=We%$e;Vt=(We/$e|0)*li.A+Ii;var Bi=Ti*li.h+Si;gi(li,mt(li,Vt,Bi))}function Be(li,gi,We){Vt=We/li.P|0;var Ii=We%li.P;gi(li,mt(li,Vt,Ii))}var oi=ht.length;for(oe=he?qt===0?Ot===0?function(li,gi){var We=Rt(li.J),Ii=We===0?0:jt(We)<<Ct;li.D[gi]=li.Q+=Ii}:function(li,gi){li.D[gi]|=pt()<<Ct}:Ot===0?function(li,gi){if(Ut>0)Ut--;else for(var We=qt,Ii=Nt;We<=Ii;){var Si=Rt(li.i),Ti=15&Si,Bi=Si>>4;if(Ti!==0){var Ei=H[We+=Bi];li.D[gi+Ei]=jt(Ti)*(1<<Ct),We++}else{if(Bi<15){Ut=Gt(Bi)+(1<<Bi)-1;break}We+=16}}}:function(li,gi){for(var We,Ii,Si=qt,Ti=Nt,Bi=0;Si<=Ti;){var Ei=gi+H[Si],_e=li.D[Ei]<0?-1:1;switch(Lt){case 0:if(Bi=(Ii=Rt(li.i))>>4,(We=15&Ii)==0)Bi<15?(Ut=Gt(Bi)+(1<<Bi),Lt=4):(Bi=16,Lt=1);else{if(We!==1)throw new P("invalid ACn encoding");Kt=jt(We),Lt=Bi?2:3}continue;case 1:case 2:li.D[Ei]?li.D[Ei]+=_e*(pt()<<Ct):--Bi==0&&(Lt=Lt===2?3:0);break;case 3:li.D[Ei]?li.D[Ei]+=_e*(pt()<<Ct):(li.D[Ei]=Kt<<Ct,Lt=0);break;case 4:li.D[Ei]&&(li.D[Ei]+=_e*(pt()<<Ct))}Si++}Lt===4&&--Ut==0&&(Lt=0)}:function(li,gi){var We=Rt(li.J),Ii=We===0?0:jt(We),Si=1;for(li.D[gi]=li.Q+=Ii;Si<64;){var Ti=Rt(li.i),Bi=15&Ti,Ei=Ti>>4;if(Bi!==0){var _e=H[Si+=Ei];li.D[gi+_e]=jt(Bi),Si++}else{if(Ei<15)break;Si+=16}}},ne=oi===1?ht[0].P*ht[0].c:$e*zt.R;ge<=ne;){var mi=It?Math.min(ne-ge,It):ne;if(mi>0){for(pe=0;pe<oi;pe++)ht[pe].Q=0;if(Ut=0,oi===1)for(Qt=ht[0],fe=0;fe<mi;fe++)Be(Qt,oe,ge),ge++;else for(fe=0;fe<mi;fe++){for(pe=0;pe<oi;pe++)for(ye=(Qt=ht[pe]).h,Ie=Qt.A,$t=0;$t<Ie;$t++)for(Wt=0;Wt<ye;Wt++)xe(Qt,oe,ge,$t,Wt);ge++}}if(Ft=0,!(Xt=_t(Mt,wt))||(Xt.u&&(wt=Xt.offset),!(Xt.M>=65488&&Xt.M<=65495)))break;wt+=2}return wt-xt}function gt(Mt,wt,zt){var ht,It,qt,Nt,Ot,Ct,Jt,Kt,Qt,pe,$t,Wt,fe,oe,Xt,ne,ye,Ie=Mt.$,$e=Mt.D;if(!Ie)throw new P("missing required Quantization Table.");for(var he=0;he<64;he+=8)Qt=$e[wt+he],pe=$e[wt+he+1],$t=$e[wt+he+2],Wt=$e[wt+he+3],fe=$e[wt+he+4],oe=$e[wt+he+5],Xt=$e[wt+he+6],ne=$e[wt+he+7],Qt*=Ie[he],pe|$t|Wt|fe|oe|Xt|ne?(pe*=Ie[he+1],$t*=Ie[he+2],Wt*=Ie[he+3],fe*=Ie[he+4],oe*=Ie[he+5],Xt*=Ie[he+6],ne*=Ie[he+7],It=(ht=(ht=ot*Qt+128>>8)+(It=ot*fe+128>>8)+1>>1)-It,ye=(qt=$t)*at+(Nt=Xt)*et+128>>8,qt=qt*et-Nt*at+128>>8,Jt=(Ot=(Ot=ut*(pe-ne)+128>>8)+(Jt=oe<<4)+1>>1)-Jt,Ct=(Kt=(Kt=ut*(pe+ne)+128>>8)+(Ct=Wt<<4)+1>>1)-Ct,Nt=(ht=ht+(Nt=ye)+1>>1)-Nt,qt=(It=It+qt+1>>1)-qt,ye=Ot*J+Kt*V+2048>>12,Ot=Ot*V-Kt*J+2048>>12,Kt=ye,ye=Ct*X+Jt*q+2048>>12,Ct=Ct*q-Jt*X+2048>>12,Jt=ye,zt[he]=ht+Kt,zt[he+7]=ht-Kt,zt[he+1]=It+Jt,zt[he+6]=It-Jt,zt[he+2]=qt+Ct,zt[he+5]=qt-Ct,zt[he+3]=Nt+Ot,zt[he+4]=Nt-Ot):(ye=ot*Qt+512>>10,zt[he]=ye,zt[he+1]=ye,zt[he+2]=ye,zt[he+3]=ye,zt[he+4]=ye,zt[he+5]=ye,zt[he+6]=ye,zt[he+7]=ye);for(var xt=0;xt<8;++xt)Qt=zt[xt],(pe=zt[xt+8])|($t=zt[xt+16])|(Wt=zt[xt+24])|(fe=zt[xt+32])|(oe=zt[xt+40])|(Xt=zt[xt+48])|(ne=zt[xt+56])?(It=(ht=4112+((ht=ot*Qt+2048>>12)+(It=ot*fe+2048>>12)+1>>1))-It,ye=(qt=$t)*at+(Nt=Xt)*et+2048>>12,qt=qt*et-Nt*at+2048>>12,Nt=ye,Jt=(Ot=(Ot=ut*(pe-ne)+2048>>12)+(Jt=oe)+1>>1)-Jt,Ct=(Kt=(Kt=ut*(pe+ne)+2048>>12)+(Ct=Wt)+1>>1)-Ct,ye=Ot*J+Kt*V+2048>>12,Ot=Ot*V-Kt*J+2048>>12,Kt=ye,ye=Ct*X+Jt*q+2048>>12,Ct=Ct*q-Jt*X+2048>>12,(Qt=(ht=ht+Nt+1>>1)+Kt)<16?Qt=0:Qt>=4080?Qt=255:Qt>>=4,(pe=(It=It+qt+1>>1)+(Jt=ye))<16?pe=0:pe>=4080?pe=255:pe>>=4,($t=(qt=It-qt)+Ct)<16?$t=0:$t>=4080?$t=255:$t>>=4,(Wt=(Nt=ht-Nt)+Ot)<16?Wt=0:Wt>=4080?Wt=255:Wt>>=4,(fe=Nt-Ot)<16?fe=0:fe>=4080?fe=255:fe>>=4,(oe=qt-Ct)<16?oe=0:oe>=4080?oe=255:oe>>=4,(Xt=It-Jt)<16?Xt=0:Xt>=4080?Xt=255:Xt>>=4,(ne=ht-Kt)<16?ne=0:ne>=4080?ne=255:ne>>=4,$e[wt+xt]=Qt,$e[wt+xt+8]=pe,$e[wt+xt+16]=$t,$e[wt+xt+24]=Wt,$e[wt+xt+32]=fe,$e[wt+xt+40]=oe,$e[wt+xt+48]=Xt,$e[wt+xt+56]=ne):(ye=(ye=ot*Qt+8192>>14)<-2040?0:ye>=2024?255:ye+2056>>4,$e[wt+xt]=ye,$e[wt+xt+8]=ye,$e[wt+xt+16]=ye,$e[wt+xt+24]=ye,$e[wt+xt+32]=ye,$e[wt+xt+40]=ye,$e[wt+xt+48]=ye,$e[wt+xt+56]=ye)}function At(Mt,wt){for(var zt=wt.P,ht=wt.c,It=new Int16Array(64),qt=0;qt<ht;qt++)for(var Nt=0;Nt<zt;Nt++)gt(wt,mt(wt,qt,Nt),It);return wt.D}function _t(Mt,wt,zt){zt==null&&(zt=wt);var ht=Mt.length-1,It=zt<wt?zt:wt;if(wt>=ht)return null;var qt=U(Mt,wt);if(qt>=65472&&qt<=65534)return{u:null,M:qt,offset:wt};for(var Nt=U(Mt,It);!(Nt>=65472&&Nt<=65534);){if(++It>=ht)return null;Nt=U(Mt,It)}return{u:qt.toString(16),M:Nt,offset:It}}return yt.prototype={parse(Mt,wt){wt==null&&(wt={});var zt,ht,It=wt.F,qt=0,Nt=null,Ot=null,Ct=0;function Jt(){var Ce=U(Mt,qt),Ne=(qt+=2)+Ce-2,te=_t(Mt,Ne,qt);te&&te.u&&(Ne=te.offset);var ui=Mt.subarray(qt,Ne);return qt+=ui.length,ui}function Kt(Ce){for(var Ne=Math.ceil(Ce.o/8/Ce.X),te=Math.ceil(Ce.s/8/Ce.B),ui=0;ui<Ce.W.length;ui++){Be=Ce.W[ui];var Ai=Math.ceil(Math.ceil(Ce.o/8)*Be.h/Ce.X),Bt=Math.ceil(Math.ceil(Ce.s/8)*Be.A/Ce.B),Ye=Ne*Be.h,Oe=64*(te*Be.A)*(Ye+1);Be.D=new Int16Array(Oe),Be.P=Ai,Be.c=Bt}Ce.m=Ne,Ce.R=te}var Qt=[],pe=[],$t=[],Wt=U(Mt,qt);if(qt+=2,Wt!==65496)throw new P("SOI not found");Wt=U(Mt,qt),qt+=2;t:for(;Wt!==65497;){var fe,oe,Xt;switch(Wt){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ne=Jt();Wt===65504&&ne[0]===74&&ne[1]===70&&ne[2]===73&&ne[3]===70&&ne[4]===0&&(Nt={version:{d:ne[5],T:ne[6]},K:ne[7],j:ne[8]<<8|ne[9],H:ne[10]<<8|ne[11],S:ne[12],I:ne[13],C:ne.subarray(14,14+3*ne[12]*ne[13])}),Wt===65518&&ne[0]===65&&ne[1]===100&&ne[2]===111&&ne[3]===98&&ne[4]===101&&(Ot={version:ne[5]<<8|ne[6],k:ne[7]<<8|ne[8],q:ne[9]<<8|ne[10],a:ne[11]});break;case 65499:for(var ye=U(Mt,qt)+(qt+=2)-2;qt<ye;){var Ie=Mt[qt++],$e=new Uint16Array(64);if(Ie>>4){if(Ie>>4!=1)throw new P("DQT - invalid table spec");for(oe=0;oe<64;oe++)$e[H[oe]]=U(Mt,qt),qt+=2}else for(oe=0;oe<64;oe++)$e[H[oe]]=Mt[qt++];Qt[15&Ie]=$e}break;case 65472:case 65473:case 65474:if(zt)throw new P("Only single frame JPEGs supported");qt+=2,(zt={}).G=Wt===65473,zt.Z=Wt===65474,zt.precision=Mt[qt++];var he,xt=U(Mt,qt),ue=0,Ft=0;qt+=2,zt.s=It||xt,zt.o=U(Mt,qt),qt+=2,zt.W=[],zt._={};var Ut=Mt[qt++];for(fe=0;fe<Ut;fe++){he=Mt[qt];var Lt=Mt[qt+1]>>4,Vt=15&Mt[qt+1];ue<Lt&&(ue=Lt),Ft<Vt&&(Ft=Vt);var ge=Mt[qt+2];Xt=zt.W.push({h:Lt,A:Vt,L:ge,$:null}),zt._[he]=Xt-1,qt+=3}zt.X=ue,zt.B=Ft,Kt(zt);break;case 65476:var pt=U(Mt,qt);for(qt+=2,fe=2;fe<pt;){var Rt=Mt[qt++],Gt=new Uint8Array(16),jt=0;for(oe=0;oe<16;oe++,qt++)jt+=Gt[oe]=Mt[qt];var xe=new Uint8Array(jt);for(oe=0;oe<jt;oe++,qt++)xe[oe]=Mt[qt];fe+=17+jt,(Rt>>4?pe:$t)[15&Rt]=vt(Gt,xe)}break;case 65501:ht=U(Mt,qt+=2),qt+=2;break;case 65498:var Be,oi=++Ct==1&&!It;qt+=2;var mi=Mt[qt++],li=[];for(fe=0;fe<mi;fe++){var gi=Mt[qt++],We=zt._[gi];(Be=zt.W[We]).index=gi;var Ii=Mt[qt++];Be.J=$t[Ii>>4],Be.i=pe[15&Ii],li.push(Be)}var Si=Mt[qt++],Ti=Mt[qt++],Bi=Mt[qt++];try{var Ei=dt(Mt,qt,zt,li,ht,Si,Ti,Bi>>4,15&Bi,oi);qt+=Ei}catch(Ce){if(Ce instanceof DNLMarkerError)return this.parse(Mt,{F:Ce.s});if(Ce instanceof EOIMarkerError)break t;throw Ce}break;case 65500:qt+=4;break;case 65535:Mt[qt]!==255&&qt--;break;default:var _e=_t(Mt,qt-2,qt-3);if(_e&&_e.u){qt=_e.offset;break}if(qt>=Mt.length-1)break t;throw new P("JpegImage.parse - unknown marker: "+Wt.toString(16))}Wt=U(Mt,qt),qt+=2}for(this.width=zt.o,this.height=zt.s,this.g=Nt,this.b=Ot,this.W=[],fe=0;fe<zt.W.length;fe++){var hi=Qt[(Be=zt.W[fe]).L];hi&&(Be.$=hi),this.W.push({index:Be.index,e:At(0,Be),l:Be.h/zt.X,t:Be.A/zt.B,P:Be.P,c:Be.c})}this.p=this.W.length},Y(Mt,wt,zt){zt==null&&(zt=!1);var ht,It,qt,Nt,Ot,Ct,Jt,Kt,Qt,pe,$t,Wt,fe=this.width/Mt,oe=this.height/wt,Xt=0,ne=this.W.length,ye=Mt*wt*ne,Ie=new Uint8ClampedArray(ye),$e=new Uint32Array(Mt),he=4294967288;for(Jt=0;Jt<ne;Jt++){if(It=(ht=this.W[Jt]).l*fe,qt=ht.t*oe,Xt=Jt,$t=ht.e,Nt=ht.P+1<<3,It!==Wt){for(Ot=0;Ot<Mt;Ot++)Kt=0|Ot*It,$e[Ot]=(Kt&he)<<3|7&Kt;Wt=It}for(Ct=0;Ct<wt;Ct++)for(pe=Nt*((Kt=0|Ct*qt)&he)|(7&Kt)<<3,Ot=0;Ot<Mt;Ot++)Ie[Xt]=$t[pe+$e[Ot]],Xt+=ne}var xt=this.V;if(zt||ne!==4||xt||(xt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),xt)for(Jt=0;Jt<ye;)for(Kt=0,Qt=0;Kt<ne;Kt++,Jt++,Qt+=2)Ie[Jt]=(Ie[Jt]*xt[Qt]>>8)+xt[Qt+1];return Ie},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(Mt){for(var wt,zt,ht,It=0,qt=Mt.length;It<qt;It+=3)wt=Mt[It],zt=Mt[It+1],ht=Mt[It+2],Mt[It]=wt-179.456+1.402*ht,Mt[It+1]=wt+135.459-.344*zt-.714*ht,Mt[It+2]=wt-226.816+1.772*zt;return Mt},O:function(Mt){for(var wt,zt,ht,It,qt=0,Nt=0,Ot=Mt.length;Nt<Ot;Nt+=4)wt=Mt[Nt],zt=Mt[Nt+1],ht=Mt[Nt+2],It=Mt[Nt+3],Mt[qt++]=zt*(-660635669420364e-19*zt+.000437130475926232*ht-54080610064599e-18*wt+.00048449797120281*It-.154362151871126)-122.67195406894+ht*(-.000957964378445773*ht+.000817076911346625*wt-.00477271405408747*It+1.53380253221734)+wt*(.000961250184130688*wt-.00266257332283933*It+.48357088451265)+It*(-.000336197177618394*It+.484791561490776),Mt[qt++]=107.268039397724+zt*(219927104525741e-19*zt-.000640992018297945*ht+.000659397001245577*wt+.000426105652938837*It-.176491792462875)+ht*(-.000778269941513683*ht+.00130872261408275*wt+.000770482631801132*It-.151051492775562)+wt*(.00126935368114843*wt-.00265090189010898*It+.25802910206845)+It*(-.000318913117588328*It-.213742400323665),Mt[qt++]=zt*(-.000570115196973677*zt-263409051004589e-19*ht+.0020741088115012*wt-.00288260236853442*It+.814272968359295)-20.810012546947+ht*(-153496057440975e-19*ht-.000132689043961446*wt+.000560833691242812*It-.195152027534049)+wt*(.00174418132927582*wt-.00255243321439347*It+.116935020465145)+It*(-.000343531996510555*It+.24165260232407);return Mt.subarray(0,qt)},r:function(Mt){for(var wt,zt,ht,It=0,qt=Mt.length;It<qt;It+=4)wt=Mt[It],zt=Mt[It+1],ht=Mt[It+2],Mt[It]=434.456-wt-1.402*ht,Mt[It+1]=119.541-wt+.344*zt+.714*ht,Mt[It+2]=481.816-wt-1.772*zt;return Mt},U:function(Mt){for(var wt,zt,ht,It,qt=0,Nt=0,Ot=Mt.length;Nt<Ot;Nt+=4)wt=Mt[Nt],zt=Mt[Nt+1],ht=Mt[Nt+2],It=Mt[Nt+3],Mt[qt++]=255+wt*(-6747147073602441e-20*wt+.0008379262121013727*zt+.0002894718188643294*ht+.003264231057537806*It-1.1185611867203937)+zt*(26374107616089405e-21*zt-8626949158638572e-20*ht-.0002748769067499491*It-.02155688794978967)+ht*(-3878099212869363e-20*ht-.0003267808279485286*It+.0686742238595345)-It*(.0003361971776183937*It+.7430659151342254),Mt[qt++]=255+wt*(.00013596372813588848*wt+.000924537132573585*zt+.00010567359618683593*ht+.0004791864687436512*It-.3109689587515875)+zt*(-.00023545346108370344*zt+.0002702845253534714*ht+.0020200308977307156*It-.7488052167015494)+ht*(6834815998235662e-20*ht+.00015168452363460973*It-.09751927774728933)-It*(.0003189131175883281*It+.7364883807733168),Mt[qt++]=255+wt*(13598650411385307e-21*wt+.00012423956175490851*zt+.0004751985097583589*ht-36729317476630422e-22*It-.05562186980264034)+zt*(.00016141380598724676*zt+.0009692239130725186*ht+.0007782692450036253*It-.44015232367526463)+ht*(5068882914068769e-22*ht+.0017778369011375071*It-.7591454649749609)-It*(.0003435319965105553*It+.7063770186160144);return Mt.subarray(0,qt)},getData:function(Mt){var wt=Mt.width,zt=Mt.height,ht=Mt.forceRGB,It=Mt.isSourcePDF;if(this.p>4)throw new P("Unsupported color mode");var qt=this.Y(wt,zt,It);if(this.p===1&&ht){for(var Nt=qt.length,Ot=new Uint8ClampedArray(3*Nt),Ct=0,Jt=0;Jt<Nt;Jt++){var Kt=qt[Jt];Ot[Ct++]=Kt,Ot[Ct++]=Kt,Ot[Ct++]=Kt}return Ot}if(this.p===3&&this.f)return this.z(qt);if(this.p===4){if(this.f)return ht?this.O(qt):this.r(qt);if(ht)return this.U(qt)}return qt}},yt})();function U(H,q){return H[q]<<8|H[q+1]}w.JpegDecoder=F})(),w.encodeImage=function(P,F,U,H){var q={t256:[F],t257:[U],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[U],t279:[F*U*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(H)for(var X in H)q[X]=H[X];var V=new Uint8Array(w.encode([q])),J=new Uint8Array(P),et=new Uint8Array(1e3+F*U*4);for(X=0;X<V.length;X++)et[X]=V[X];for(X=0;X<J.length;X++)et[1e3+X]=J[X];return et.buffer},w.encode=function(P){var F=new Uint8Array(2e4),U=4,H=w._binBE;F[0]=F[1]=77,H.writeUshort(F,2,42);var q=8;H.writeUint(F,U,q),U+=4;for(var X=0;X<P.length;X++){var V=w._writeIFD(H,w._types.basic,F,q,P[X]);q=V[1],X<P.length-1&&(3&q&&(q+=4-(3&q)),H.writeUint(F,V[0],q))}return F.slice(0,q).buffer},w.decode=function(P,F){F==null&&(F={parseMN:!0,debug:!1});var U=new Uint8Array(P),H=0,q=w._binBE.readASCII(U,H,2);H+=2;var X=q=="II"?w._binLE:w._binBE;X.readUshort(U,H),H+=2;var V=X.readUint(U,H);H+=4;for(var J=[];;){var et=X.readUshort(U,V),at=X.readUshort(U,V+4);if(et!=0&&(at<1||13<at)){g("error in TIFF");break}if(w._readIFD(X,U,V,J,0,F),(V=X.readUint(U,V+2+12*et))==0)break}return J},w.decodeImage=function(P,F,U){if(!F.data){var H=new Uint8Array(P),q=w._binBE.readASCII(H,0,2);if(F.t256!=null){F.isLE=q=="II",F.width=F.t256[0],F.height=F.t257[0];var X=F.t259?F.t259[0]:1,V=F.t266?F.t266[0]:1;F.t284&&F.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),X==7&&F.t258&&F.t258.length>3&&(F.t258=F.t258.slice(0,3));var J=F.t277?F.t277[0]:1,et=(F.t258?F.t258[0]:1)*J;X==1&&F.t279!=null&&F.t278&&F.t262[0]==32803&&(et=Math.round(8*F.t279[0]/(F.width*F.t278[0]))),F.t50885&&F.t50885[0]==4&&(et=3*F.t258[0]);var at=8*Math.ceil(F.width*et/8),ot=F.t273;(ot==null||F.t322)&&(ot=F.t324);var ut=F.t279;X==1&&ot.length==1&&(ut=[F.height*(at>>>3)]),(ut==null||F.t322)&&(ut=F.t325);var yt=new Uint8Array(F.height*(at>>>3)),vt=0;if(F.t322!=null){var mt=F.t322[0],dt=F.t323[0],gt=Math.floor((F.width+mt-1)/mt),At=Math.floor((F.height+dt-1)/dt),_t=new Uint8Array(0|Math.ceil(mt*dt*et/8));console.log("====",gt,At);for(var Mt=0;Mt<At;Mt++)for(var wt=0;wt<gt;wt++){var zt=Mt*gt+wt;_t.fill(0),w.decode._decompress(F,U,H,ot[zt],ut[zt],X,_t,0,V,mt,dt),X==6?yt=_t:w._copyTile(_t,0|Math.ceil(mt*et/8),dt,yt,0|Math.ceil(F.width*et/8),F.height,0|Math.ceil(wt*mt*et/8),Mt*dt)}vt=8*yt.length}else{if(ot==null)return;var ht=F.t278?F.t278[0]:F.height;for(ht=Math.min(ht,F.height),zt=0;zt<ot.length;zt++)w.decode._decompress(F,U,H,ot[zt],ut[zt],X,yt,0|Math.ceil(vt/8),V,F.width,ht),vt+=at*ht;vt=Math.min(vt,8*yt.length)}F.data=new Uint8Array(yt.buffer,0,0|Math.ceil(vt/8))}}},w.decode._decompress=function(P,F,U,H,q,X,V,J,et,at,ot){if(P.t271&&P.t271[0]=="Panasonic"&&P.t45&&P.t45[0]==6&&(X=34316),X==1)for(var ut=0;ut<q;ut++)V[J+ut]=U[H+ut];else if(X==2)w.decode._decodeG2(U,H,q,V,J,at,et);else if(X==3)w.decode._decodeG3(U,H,q,V,J,at,et,!!P.t292&&!(1&~P.t292[0]));else if(X==4)w.decode._decodeG4(U,H,q,V,J,at,et);else if(X==5)w.decode._decodeLZW(U,H,q,V,J,8);else if(X==6)w.decode._decodeOldJPEG(P,U,H,q,V,J);else if(X==7||X==34892)w.decode._decodeNewJPEG(P,U,H,q,V,J);else if(X==8||X==32946){var yt=new Uint8Array(U.buffer,H+2,q-6),vt=D.inflateRaw(yt);J+vt.length<=V.length&&V.set(vt,J)}else X==9?w.decode._decodeVC5(U,H,q,V,J,P.t33422):X==32767?w.decode._decodeARW(P,U,H,q,V,J):X==32773?w.decode._decodePackBits(U,H,q,V,J):X==32809?w.decode._decodeThunder(U,H,q,V,J):X==34316?w.decode._decodePanasonic(P,U,H,q,V,J):X==34713?w.decode._decodeNikon(P,F,U,H,q,V,J):X==34676?w.decode._decodeLogLuv32(P,U,H,q,V,J):g("Unknown compression",X);var mt=P.t258?Math.min(32,P.t258[0]):1,dt=P.t277?P.t277[0]:1,gt=mt*dt>>>3,At=Math.ceil(mt*dt*at/8);if(mt==16&&!P.isLE&&P.t33422==null)for(var _t=0;_t<ot;_t++)for(var Mt=J+_t*At,wt=1;wt<At;wt+=2){var zt=V[Mt+wt];V[Mt+wt]=V[Mt+wt-1],V[Mt+wt-1]=zt}if(P.t317&&P.t317[0]==2)for(_t=0;_t<ot;_t++){var ht=J+_t*At;if(mt==16)for(ut=gt;ut<At;ut+=2){var It=(V[ht+ut+1]<<8|V[ht+ut])+(V[ht+ut-gt+1]<<8|V[ht+ut-gt]);V[ht+ut]=255&It,V[ht+ut+1]=It>>>8&255}else if(dt==3)for(ut=3;ut<At;ut+=3)V[ht+ut]=V[ht+ut]+V[ht+ut-3]&255,V[ht+ut+1]=V[ht+ut+1]+V[ht+ut-2]&255,V[ht+ut+2]=V[ht+ut+2]+V[ht+ut-1]&255;else for(ut=gt;ut<At;ut++)V[ht+ut]=V[ht+ut]+V[ht+ut-gt]&255}},w.decode._decodePanasonic=function(P,F,U,H,q,X){var V,J,et,at,ot,ut,yt,vt,mt=F.buffer,dt=P.t2[0],gt=P.t3[0],At=P.t10[0],_t=P.t45[0],Mt=0,wt=0,zt=0,ht=0,It=_t==6?new Uint32Array(18):new Uint8Array(16),qt=[0,0],Nt=[0,0],Ot=0,Ct=new Uint8Array(16384),Jt=new Uint16Array(q.buffer);function Kt(ge){if(zt==0){var pt=new Uint8Array(mt,U+wt+8184,8200),Rt=new Uint8Array(mt,U+wt,8184);Ct.set(pt),Ct.set(Rt,pt.length),wt+=16384}if(_t!=5)return(Ct[ht=(zt=zt-ge&131071)>>3^16368]|Ct[ht+1]<<8)>>(7&zt)&~(-1<<ge);for(V=0;V<16;V++)It[V]=Ct[zt++],zt&=16383}function Qt(ge){return Ct[zt+15-ge]}function pe(){qt[0]=0,qt[1]=0,Nt[0]=0,Nt[1]=0}if(_t==7)throw _t;if(_t==6){var $t=At==12,Wt=$t?function(){It[0]=Qt(0)<<4|Qt(1)>>4,It[1]=4095&((15&Qt(1))<<8|Qt(2)),It[2]=Qt(3)>>6&3,It[3]=(63&Qt(3))<<2|Qt(4)>>6,It[4]=(63&Qt(4))<<2|Qt(5)>>6,It[5]=(63&Qt(5))<<2|Qt(6)>>6,It[6]=Qt(6)>>4&3,It[7]=(15&Qt(6))<<4|Qt(7)>>4,It[8]=(15&Qt(7))<<4|Qt(8)>>4,It[9]=(15&Qt(8))<<4|Qt(9)>>4,It[10]=Qt(9)>>2&3,It[11]=(3&Qt(9))<<6|Qt(10)>>2,It[12]=(3&Qt(10))<<6|Qt(11)>>2,It[13]=(3&Qt(11))<<6|Qt(12)>>2,It[14]=3&Qt(12),It[15]=Qt(13),It[16]=Qt(14),It[17]=Qt(15),zt+=16,ht=0}:function(){It[0]=Qt(0)<<6|Qt(1)>>2,It[1]=16383&((3&Qt(1))<<12|Qt(2)<<4|Qt(3)>>4),It[2]=Qt(3)>>2&3,It[3]=(3&Qt(3))<<8|Qt(4),It[4]=Qt(5)<<2|Qt(6)>>6,It[5]=(63&Qt(6))<<4|Qt(7)>>4,It[6]=Qt(7)>>2&3,It[7]=(3&Qt(7))<<8|Qt(8),It[8]=Qt(9)<<2&1020|Qt(10)>>6,It[9]=1023&(Qt(10)<<4|Qt(11)>>4),It[10]=Qt(11)>>2&3,It[11]=(3&Qt(11))<<8|Qt(12),It[12]=1023&(Qt(13)<<2&1020|Qt(14)>>6),It[13]=1023&(Qt(14)<<4|Qt(15)>>4),zt+=16,ht=0},fe=$t?14:11,oe=$t?128:512,Xt=$t?2048:8192,ne=$t?16383:65535,ye=$t?4095:16383,Ie=dt/fe,$e=16*Ie,he=$t?18:14;for(ut=0;ut<gt-15;ut+=16){var xt=Math.min(16,gt-ut),ue=$e*xt;for(Ct=new Uint8Array(mt,U+Mt,ue),zt=0,Mt+=ue,vt=0,yt=0;vt<xt;vt++,yt=0){Ot=(ut+vt)*dt;for(var Ft=0;Ft<Ie;Ft++)for(Wt(),pe(),et=0,ot=0,V=0;V<fe;V++){if(at=1&V,V%3==2){var Ut=ht<he?It[ht++]:0;Ut==3&&(Ut=4),ot=oe<<Ut,et=1<<Ut}var Lt=ht<he?It[ht++]:0;qt[at]?(Lt*=et,ot<Xt&&Nt[at]>ot&&(Lt+=Nt[at]-ot),Nt[at]=Lt):(qt[at]=Lt,Lt?Nt[at]=Lt:Lt=Nt[at]),Jt[Ot+yt++]=Lt-15<=ne?Lt-15&ne:Lt+2147483633>>31&ye}}}}else if(_t==5){var Vt=At==12?10:9;for(ut=0;ut<gt;ut++)for(yt=0;yt<dt;yt+=Vt)Kt(0),At==12?(Jt[Ot++]=((15&It[1])<<8)+It[0],Jt[Ot++]=16*It[2]+(It[1]>>4),Jt[Ot++]=((15&It[4])<<8)+It[3],Jt[Ot++]=16*It[5]+(It[4]>>4),Jt[Ot++]=((15&It[7])<<8)+It[6],Jt[Ot++]=16*It[8]+(It[7]>>4),Jt[Ot++]=((15&It[10])<<8)+It[9],Jt[Ot++]=16*It[11]+(It[10]>>4),Jt[Ot++]=((15&It[13])<<8)+It[12],Jt[Ot++]=16*It[14]+(It[13]>>4)):At==14&&(Jt[Ot++]=It[0]+((63&It[1])<<8),Jt[Ot++]=(It[1]>>6)+4*It[2]+((15&It[3])<<10),Jt[Ot++]=(It[3]>>4)+16*It[4]+((3&It[5])<<12),Jt[Ot++]=((252&It[5])>>2)+(It[6]<<6),Jt[Ot++]=It[7]+((63&It[8])<<8),Jt[Ot++]=(It[8]>>6)+4*It[9]+((15&It[10])<<10),Jt[Ot++]=(It[10]>>4)+16*It[11]+((3&It[12])<<12),Jt[Ot++]=((252&It[12])>>2)+(It[13]<<6),Jt[Ot++]=It[14]+((63&It[15])<<8))}else{if(_t!=4)throw _t;for(ut=0;ut<gt;ut++)for(yt=0;yt<dt;yt++)at=1&(V=yt%14),V==0&&pe(),V%3==2&&(et=4>>3-Kt(2)),Nt[at]?(J=Kt(8))!=0&&(qt[at]-=128<<et,(qt[at]<0||et==4)&&(qt[at]&=~(-1<<et)),qt[at]+=J<<et):(Nt[at]=Kt(8),(Nt[at]||V>11)&&(qt[at]=Nt[at]<<4|Kt(4))),Jt[Ot++]=qt[1&yt]}},w.decode._decodeVC5=(function(){var P,F,U,H=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],q=[3,3,3,3,2,2,2,1,1,1];function X(vt){var mt=vt[1],dt=vt[0][mt>>>3]>>>7-(7&mt)&1;return vt[1]++,dt}function V(vt,mt){if(P==null){P={};for(var dt=0;dt<H.length;dt+=4)P[H[dt+1]]=H.slice(dt,dt+4)}for(var gt=X(vt),At=P[gt];At==null;)gt=gt<<1|X(vt),At=P[gt];var _t=At[3];_t!=0&&(_t=X(vt)==0?_t:-_t),mt[0]=At[2],mt[1]=_t}function J(vt,mt){for(var dt=0;dt<mt;dt++)1&~vt||vt++,vt>>>=1;return vt}function et(vt,mt){return vt>>mt}function at(vt,mt,dt,gt,At,_t){mt[dt]=et(et(11*vt[At]-4*vt[At+_t]+vt[At+_t+_t]+4,3)+vt[gt],1),mt[dt+_t]=et(et(5*vt[At]+4*vt[At+_t]-vt[At+_t+_t]+4,3)-vt[gt],1)}function ot(vt,mt,dt,gt,At,_t){var Mt=vt[At-_t]-vt[At+_t],wt=vt[At],zt=vt[gt];mt[dt]=et(et(Mt+4,3)+wt+zt,1),mt[dt+_t]=et(et(4-Mt,3)+wt-zt,1)}function ut(vt,mt,dt,gt,At,_t){mt[dt]=et(et(5*vt[At]+4*vt[At-_t]-vt[At-_t-_t]+4,3)+vt[gt],1),mt[dt+_t]=et(et(11*vt[At]-4*vt[At-_t]+vt[At-_t-_t]+4,3)-vt[gt],1)}function yt(vt){return vt=U[vt=vt<0?0:vt>4095?4095:vt]>>>2}return function(vt,mt,dt,gt,At,_t){gt=new Uint16Array(gt.buffer);var Mt,wt,zt,ht,It,qt,Nt,Ot,Ct=Date.now(),Jt=w._binBE,Kt=mt+dt;mt+=4;for(var Qt=_t[0]==1;mt<Kt;){var pe=Jt.readShort(vt,mt),$t=Jt.readUshort(vt,mt+2);if(mt+=4,pe==12)Ie=$t;else if(pe==20)Mt=$t;else if(pe==21)wt=$t;else if(pe==48)zt=$t;else if(pe==53)ht=$t;else if(pe!=35){if(pe==62)It=$t;else if(pe!=101){if(pe==109)qt=$t;else if(pe!=84){if(pe!=106){if(pe!=107){if(pe!=108){if(pe!=102){if(pe==104)We=$t;else if(pe!=105){var Wt=pe<0?-pe:pe,fe=65280&Wt,oe=0;if(24576&Wt&&(8192&Wt?(oe=65535&$t,oe+=(255&Wt)<<16):oe=65535&$t),24576&~Wt){if(Wt==16388)mt+=4*oe;else if(fe!=8192&&fe!=8448&&fe!=9216)throw Wt.toString(16)}else{if(Nt==null){Nt=[];for(var Xt=0;Xt<4;Xt++)Nt[Xt]=new Int16Array((Mt>>>1)*(wt>>>1));for(Ot=new Int16Array((Mt>>>1)*(wt>>>1)),F=new Int16Array(1024),Xt=0;Xt<1024;Xt++){var ne=Xt-512,ye=Math.abs(ne),Ie=Math.floor(768*ye*ye*ye/16581375)+ye;F[Xt]=Math.sign(ne)*Ie}for(U=new Uint16Array(4096),Xt=0;Xt<4096;Xt++){var $e=Xt,he=65535*(Math.pow(113,$e/4095)-1)/112;U[Xt]=Math.min(he,65535)}}var xt=Nt[It],ue=J(Mt,1+q[zt]),Ft=J(wt,1+q[zt]);if(zt==0)for(var Ut=0;Ut<Ft;Ut++)for(var Lt=0;Lt<ue;Lt++){var Vt=mt+2*(Ut*ue+Lt);xt[Ut*(Mt>>>1)+Lt]=vt[Vt]<<8|vt[Vt+1]}else{var ge=[vt,8*mt],pt=[],Rt=0,Gt=ue*Ft,jt=[0,0],xe=0;for($t=0;Rt<Gt;)for(V(ge,jt),xe=jt[0],$t=jt[1];xe>0;)pt[Rt++]=$t,xe--;var Be=(zt-1)%3,oi=Be!=1?ue:0,mi=Be!=0?Ft:0;for(Ut=0;Ut<Ft;Ut++){var li=(Ut+mi)*(Mt>>>1)+oi,gi=Ut*ue;for(Lt=0;Lt<ue;Lt++)xt[li+Lt]=F[pt[gi+Lt]+512]*ht}if(Be==2){var We=Mt>>>1,Ii=2*ue,Si=2*Ft;for(Ut=0;Ut<Ft;Ut++)for(Lt=0;Lt<Ii;Lt++){Xt=2*Ut*We+Lt;var Ti=Ft*We+(Ei=Ut*We+Lt);Ut==0?at(xt,Ot,Xt,Ti,Ei,We):Ut==Ft-1?ut(xt,Ot,Xt,Ti,Ei,We):ot(xt,Ot,Xt,Ti,Ei,We)}var Bi=xt;for(xt=Ot,Ot=Bi,Ut=0;Ut<Si;Ut++)for(Lt=0;Lt<ue;Lt++){var Ei;Xt=Ut*We+2*Lt,Ti=ue+(Ei=Ut*We+Lt),Lt==0?at(xt,Ot,Xt,Ti,Ei,1):Lt==ue-1?ut(xt,Ot,Xt,Ti,Ei,1):ot(xt,Ot,Xt,Ti,Ei,1)}Bi=xt,xt=Ot,Ot=Bi;for(var _e=[],hi=2-~~((zt-1)/3),Ce=0;Ce<3;Ce++)_e[Ce]=qt>>14-2*Ce&3;var Ne=_e[hi];if(Ne!=0)for(Ut=0;Ut<Si;Ut++)for(Lt=0;Lt<Ii;Lt++)xt[Xt=Ut*We+Lt]=xt[Xt]<<Ne}}if(zt==9&&It==3){var te=Nt[0],ui=Nt[1],Ai=Nt[2],Bt=Nt[3];for(Ut=0;Ut<wt;Ut+=2)for(Lt=0;Lt<Mt;Lt+=2){var Ye=Ut*Mt+Lt,Oe=te[Vt=(Ut>>>1)*(Mt>>>1)+(Lt>>>1)],Se=ui[Vt]-2048,Ge=Ai[Vt]-2048,Qe=Bt[Vt]-2048,Ri=(Se<<1)+Oe,bi=(Ge<<1)+Oe,Mi=Oe+Qe,Ni=Oe-Qe;Qt?(gt[Ye]=yt(Mi),gt[Ye+1]=yt(bi),gt[Ye+Mt]=yt(Ri),gt[Ye+Mt+1]=yt(Ni)):(gt[Ye]=yt(Ri),gt[Ye+1]=yt(Mi),gt[Ye+Mt]=yt(Ni),gt[Ye+Mt+1]=yt(bi))}}mt+=4*oe}}}}}}}}}}console.log(Date.now()-Ct)}})(),w.decode._decodeLogLuv32=function(P,F,U,H,q,X){for(var V=P.width,J=4*V,et=0,at=new Uint8Array(J);et<H;){for(var ot=0;ot<J;){var ut=F[U+et];if(et++,ut<128){for(var yt=0;yt<ut;yt++)at[ot+yt]=F[U+et+yt];ot+=ut,et+=ut}else{for(ut-=126,yt=0;yt<ut;yt++)at[ot+yt]=F[U+et];ot+=ut,et++}}for(var vt=0;vt<V;vt++)q[X+0]=at[vt],q[X+1]=at[vt+V],q[X+2]=at[vt+2*V],q[X+4]=at[vt+3*V],X+=6}},w.decode._ljpeg_diff=function(P,F,U){var H,q,X=w.decode._getbithuff;return H=X(P,F,U[0],U),(q=X(P,F,H,0))&1<<H-1||(q-=(1<<H)-1),q},w.decode._decodeARW=function(P,F,U,H,q,X){var V=P.t256[0],J=P.t257[0],et=P.t258[0],at=P.isLE?w._binLE:w._binBE;if(V*J==H||V*J*1.5==H)if(V*J*1.5!=H){var ot,ut,yt,vt,mt,dt,gt,At,_t=new Uint16Array(16),Mt=new Uint8Array(V+1);for(Ct=0;Ct<J;Ct++){for(var wt=0;wt<V;wt++)Mt[wt]=F[U++];for(At=0,Ot=0;Ot<V-30;At+=16){for(ut=2047&(ot=at.readUint(Mt,At)),yt=2047&ot>>>11,vt=15&ot>>>22,mt=15&ot>>>26,dt=0;dt<4&&128<<dt<=ut-yt;dt++);for(gt=30,zt=0;zt<16;zt++)zt==vt?_t[zt]=ut:zt==mt?_t[zt]=yt:(_t[zt]=((at.readUshort(Mt,At+(gt>>3))>>>(7&gt)&127)<<dt)+yt,_t[zt]>2047&&(_t[zt]=2047),gt+=7);for(zt=0;zt<16;zt++,Ot+=2)oe=_t[zt]<<1,w.decode._putsF(q,(Ct*V+Ot)*et,oe<<16-et);Ot-=1&Ot?1:31}}}else for(var zt=0;zt<H;zt+=3){var ht=F[U+zt+0],It=F[U+zt+1],qt=F[U+zt+2];q[X+zt]=It<<4|ht>>>4,q[X+zt+1]=ht<<4|qt>>>4,q[X+zt+2]=qt<<4|It>>>4}else{J+=8;var Nt,Ot,Ct,Jt=[U,0,0,0],Kt=new Uint16Array(32770),Qt=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],pe=0,$t=w.decode._ljpeg_diff;for(Kt[0]=15,Nt=zt=0;zt<18;zt++)for(var Wt=32768>>>(Qt[zt]>>>8),fe=0;fe<Wt;fe++)Kt[++Nt]=Qt[zt];for(Ot=V;Ot--;)for(Ct=0;Ct<J+1;Ct+=2)if(Ct==J&&(Ct=1),pe+=$t(F,Jt,Kt),Ct<J){var oe=4095&pe;w.decode._putsF(q,(Ct*V+Ot)*et,oe<<16-et)}}},w.decode._decodeNikon=function(P,F,U,H,q,X,V){var J=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],et=P.t256[0],at=P.t257[0],ot=P.t258[0],ut=0,yt=0,vt=w.decode._make_decoder,mt=w.decode._getbithuff,dt=F[0].exifIFD.makerNote,gt=dt.t150?dt.t150:dt.t140,At=0,_t=gt[At++],Mt=gt[At++];_t!=73&&Mt!=88||(At+=2110),_t==70&&(ut=2),ot==14&&(ut+=3);for(var wt=[[0,0],[0,0]],zt=P.isLE?w._binLE:w._binBE,ht=0;ht<2;ht++)for(var It=0;It<2;It++)wt[ht][It]=zt.readShort(gt,At),At+=2;var qt,Nt,Ot,Ct,Jt,Kt=1<<ot&32767,Qt=0,pe=zt.readShort(gt,At);At+=2,pe>1&&(Qt=Math.floor(Kt/(pe-1))),_t==68&&Mt==32&&Qt>0&&(yt=zt.readShort(gt,562));var $t=[0,0],Wt=vt(J[ut]),fe=[H,0,0,0];for(qt=0;qt<at;qt++)for(yt&&qt==yt&&(Wt=vt(J[ut+1])),Nt=0;Nt<et;Nt++){ht=mt(U,fe,Wt[0],Wt),(Jt=1+(mt(U,fe,(Ot=15&ht)-(Ct=ht>>>4),0)<<1)<<Ct>>>1)&1<<Ot-1||(Jt-=(1<<Ot)-(Ct==0?1:0)),Nt<2?$t[Nt]=wt[1&qt][Nt]+=Jt:$t[1&Nt]+=Jt;var oe=Math.min(Math.max($t[1&Nt],0),(1<<ot)-1),Xt=(qt*et+Nt)*ot;w.decode._putsF(X,Xt,oe<<16-ot)}},w.decode._putsF=function(P,F,U){U<<=8-(7&F);var H=F>>>3;P[H]|=U>>>16,P[H+1]|=U>>>8,P[H+2]|=U},w.decode._getbithuff=function(P,F,U,H){var q;w.decode._get_byte;var X=F[0],V=F[1],J=F[2],et=F[3];if(U==0||J<0)return 0;for(;!et&&J<U&&(q=P[X++])!=-1&&!(et=0);)V=(V<<8)+q,J+=8;if(q=V<<32-J>>>32-U,H?(J-=H[q+1]>>>8,q=255&H[q+1]):J-=U,J<0)throw"e";return F[0]=X,F[1]=V,F[2]=J,F[3]=et,q},w.decode._make_decoder=function(P){var F,U,H,q,X,V=[];for(F=16;F!=0&&!P[F];F--);var J=17;for(V[0]=F,H=U=1;U<=F;U++)for(q=0;q<P[U];q++,++J)for(X=0;X<1<<F-U;X++)H<=1<<F&&(V[H++]=U<<8|P[J]);return V},w.decode._decodeNewJPEG=function(P,F,U,H,q,X){H=Math.min(H,F.length-U);var V=P.t347,J=V?V.length:0,et=new Uint8Array(J+H);if(V){for(var at=0,ot=0;ot<J-1&&(V[ot]!=255||V[ot+1]!=217);ot++)et[at++]=V[ot];var ut=F[U],yt=F[U+1];for(ut==255&&yt==216||(et[at++]=ut,et[at++]=yt),ot=2;ot<H;ot++)et[at++]=F[U+ot]}else for(ot=0;ot<H;ot++)et[ot]=F[U+ot];if(P.t262[0]==32803||P.t259[0]==7&&P.t262[0]==34892){var vt=P.t258[0],mt=w.LosslessJpegDecode(et),dt=mt.length;if(vt==16)if(P.isLE)for(ot=0;ot<dt;ot++)q[X+(ot<<1)]=255&mt[ot],q[X+(ot<<1)+1]=mt[ot]>>>8;else for(ot=0;ot<dt;ot++)q[X+(ot<<1)]=mt[ot]>>>8,q[X+(ot<<1)+1]=255&mt[ot];else if(vt==14||vt==12||vt==10){var gt=16-vt;for(ot=0;ot<dt;ot++)w.decode._putsF(q,ot*vt,mt[ot]<<gt)}else{if(vt!=8)throw new Error("unsupported bit depth "+vt);for(ot=0;ot<dt;ot++)q[X+ot]=mt[ot]}}else{var At=new w.JpegDecoder;At.parse(et);var _t=At.getData({width:At.width,height:At.height,forceRGB:!0,isSourcePDF:!1});for(ot=0;ot<_t.length;ot++)q[X+ot]=_t[ot]}P.t262[0]==6&&(P.t262[0]=2)},w.decode._decodeOldJPEGInit=function(P,F,U,H){var q,X,V,J,et,at=216,ot=0,ut=0,yt=!1,vt=P.t513,mt=vt?vt[0]:0,dt=P.t514,gt=dt?dt[0]:0,At=P.t324||P.t273||vt,_t=P.t530,Mt=0,wt=0,zt=P.t277?P.t277[0]:1,ht=P.t515;if(At&&(ut=At[0],yt=At.length>1),!yt){if(F[U]==255&&F[U+1]==at)return{jpegOffset:U};if(vt!=null&&(F[U+mt]==255&&F[U+mt+1]==at?ot=U+mt:g("JPEGInterchangeFormat does not point to SOI"),dt==null?g("JPEGInterchangeFormatLength field is missing"):(mt>=ut||mt+gt<=ut)&&g("JPEGInterchangeFormatLength field value is invalid"),ot!=null))return{jpegOffset:ot}}if(_t!=null&&(Mt=_t[0],wt=_t[1]),vt!=null&&dt!=null)if(gt>=2&&mt+gt<=ut){for(q=F[U+mt+gt-2]==255&&F[U+mt+gt-1]==at?new Uint8Array(gt-2):new Uint8Array(gt),V=0;V<q.length;V++)q[V]=F[U+mt+V];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(q==null){var It=0,qt=[];qt[It++]=255,qt[It++]=at;var Nt=P.t519;if(Nt==null)throw new Error("JPEGQTables tag is missing");for(V=0;V<Nt.length;V++)for(qt[It++]=255,qt[It++]=219,qt[It++]=0,qt[It++]=67,qt[It++]=V,J=0;J<64;J++)qt[It++]=F[U+Nt[V]+J];for(et=0;et<2;et++){var Ot=P[et==0?"t520":"t521"];if(Ot==null)throw new Error((et==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(V=0;V<Ot.length;V++){qt[It++]=255,qt[It++]=196;var Ct=19;for(J=0;J<16;J++)Ct+=F[U+Ot[V]+J];for(qt[It++]=Ct>>>8,qt[It++]=255&Ct,qt[It++]=V|et<<4,J=0;J<16;J++)qt[It++]=F[U+Ot[V]+J];for(J=0;J<Ct;J++)qt[It++]=F[U+Ot[V]+16+J]}}if(qt[It++]=255,qt[It++]=192,qt[It++]=0,qt[It++]=8+3*zt,qt[It++]=8,qt[It++]=P.height>>>8&255,qt[It++]=255&P.height,qt[It++]=P.width>>>8&255,qt[It++]=255&P.width,qt[It++]=zt,zt==1)qt[It++]=1,qt[It++]=17,qt[It++]=0;else for(V=0;V<3;V++)qt[It++]=V+1,qt[It++]=V!=0?17:(15&Mt)<<4|15&wt,qt[It++]=V;ht!=null&&ht[0]!=0&&(qt[It++]=255,qt[It++]=221,qt[It++]=0,qt[It++]=4,qt[It++]=ht[0]>>>8&255,qt[It++]=255&ht[0]),q=new Uint8Array(qt)}var Jt=-1;for(V=0;V<q.length-1;){if(q[V]==255&&q[V+1]==192){Jt=V;break}V++}if(Jt==-1){var Kt=new Uint8Array(q.length+10+3*zt);Kt.set(q);var Qt=q.length;if(Jt=q.length,(q=Kt)[Qt++]=255,q[Qt++]=192,q[Qt++]=0,q[Qt++]=8+3*zt,q[Qt++]=8,q[Qt++]=P.height>>>8&255,q[Qt++]=255&P.height,q[Qt++]=P.width>>>8&255,q[Qt++]=255&P.width,q[Qt++]=zt,zt==1)q[Qt++]=1,q[Qt++]=17,q[Qt++]=0;else for(V=0;V<3;V++)q[Qt++]=V+1,q[Qt++]=V!=0?17:(15&Mt)<<4|15&wt,q[Qt++]=V}if(F[ut]==255&&F[ut+1]==218){var pe=F[ut+2]<<8|F[ut+3];for((X=new Uint8Array(pe+2))[0]=F[ut],X[1]=F[ut+1],X[2]=F[ut+2],X[3]=F[ut+3],V=0;V<pe-2;V++)X[V+4]=F[ut+V+4]}else{var $t=0;if((X=new Uint8Array(8+2*zt))[$t++]=255,X[$t++]=218,X[$t++]=0,X[$t++]=6+2*zt,X[$t++]=zt,zt==1)X[$t++]=1,X[$t++]=0;else for(V=0;V<3;V++)X[$t++]=V+1,X[$t++]=V<<4|V;X[$t++]=0,X[$t++]=63,X[$t++]=0}return{jpegOffset:U,tables:q,sosMarker:X,sofPosition:Jt}},w.decode._decodeOldJPEG=function(P,F,U,H,q,X){var V,J,et,at,ot=w.decode._decodeOldJPEGInit(P,F,U,H);if(ot.jpegOffset!=null)for(V=U+H-ot.jpegOffset,et=new Uint8Array(V),vt=0;vt<V;vt++)et[vt]=F[ot.jpegOffset+vt];else{for(J=ot.tables.length,(et=new Uint8Array(J+ot.sosMarker.length+H+2)).set(ot.tables),at=J,et[ot.sofPosition+5]=P.height>>>8&255,et[ot.sofPosition+6]=255&P.height,et[ot.sofPosition+7]=P.width>>>8&255,et[ot.sofPosition+8]=255&P.width,F[U]==255&&F[U+1]==SOS||(et.set(ot.sosMarker,at),at+=sosMarker.length),vt=0;vt<H;vt++)et[at++]=F[U+vt];et[at++]=255,et[at++]=EOI}var ut=new w.JpegDecoder;ut.parse(et);for(var yt=ut.getData({width:ut.width,height:ut.height,forceRGB:!0,isSourcePDF:!1}),vt=0;vt<yt.length;vt++)q[X+vt]=yt[vt];P.t262&&P.t262[0]==6&&(P.t262[0]=2)},w.decode._decodePackBits=function(P,F,U,H,q){for(var X=new Int8Array(P.buffer),V=new Int8Array(H.buffer),J=F+U;F<J;){var et=X[F];if(F++,et>=0&&et<128)for(var at=0;at<et+1;at++)V[q]=X[F],q++,F++;if(et>=-127&&et<0){for(at=0;at<1-et;at++)V[q]=X[F],q++;F++}}return q},w.decode._decodeThunder=function(P,F,U,H,q){for(var X=[0,1,0,-1],V=[0,1,2,3,0,-3,-2,-1],J=F+U,et=2*q,at=0;F<J;){var ot=P[F],ut=ot>>>6,yt=63&ot;if(F++,ut==3&&(at=15&yt,H[et>>>1]|=at<<4*(1-et&1),et++),ut==0)for(var vt=0;vt<yt;vt++)H[et>>>1]|=at<<4*(1-et&1),et++;if(ut==2)for(vt=0;vt<2;vt++)(mt=yt>>>3*(1-vt)&7)!=4&&(at+=V[mt],H[et>>>1]|=at<<4*(1-et&1),et++);if(ut==1)for(vt=0;vt<3;vt++){var mt;(mt=yt>>>2*(2-vt)&3)!=2&&(at+=X[mt],H[et>>>1]|=at<<4*(1-et&1),et++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=(function(){var P=function(et,at,ot,ut){for(var yt=0;yt<at.length;yt++)et[at[yt]]=ot+yt*ut},F="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",U="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",H="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",q="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",X="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";F=F.split(","),U=U.split(","),H=H.split(","),q=q.split(","),X=X.split(",");var V={},J={};return P(V,F,0,1),P(V,H,64,64),P(V,X,1792,64),P(J,U,0,1),P(J,q,64,64),P(J,X,1792,64),[V,J]})(),w.decode._decodeG4=function(P,F,U,H,q,X,V){for(var J=w.decode,et=F<<3,at=0,ot="",ut=[],yt=[],vt=0;vt<X;vt++)yt.push(0);yt=J._makeDiff(yt);for(var mt=0,dt=0,gt=0,At=0,_t=0,Mt=0,wt="",zt=0,ht=8*Math.ceil(X/8);et>>>3<F+U;){gt=J._findDiff(yt,mt+(mt==0?0:1),1-_t),At=J._findDiff(yt,gt,_t);var It=0;if(V==1&&(It=P[et>>>3]>>>7-(7&et)&1),V==2&&(It=P[et>>>3]>>>(7&et)&1),et++,ot+=It,wt=="H"){if(J._lens[_t][ot]!=null){var qt=J._lens[_t][ot];ot="",at+=qt,qt<64&&(J._addNtimes(ut,at,_t),mt+=at,_t=1-_t,at=0,--zt==0&&(wt=""))}}else ot=="0001"&&(ot="",J._addNtimes(ut,At-mt,_t),mt=At),ot=="001"&&(ot="",wt="H",zt=2),J._dmap[ot]!=null&&(dt=gt+J._dmap[ot],J._addNtimes(ut,dt-mt,_t),mt=dt,ot="",_t=1-_t);ut.length==X&&wt==""&&(J._writeBits(ut,H,8*q+Mt*ht),_t=0,Mt++,mt=0,yt=J._makeDiff(ut),ut=[])}},w.decode._findDiff=function(P,F,U){for(var H=0;H<P.length;H+=2)if(P[H]>=F&&P[H+1]==U)return P[H]},w.decode._makeDiff=function(P){var F=[];P[0]==1&&F.push(0,1);for(var U=1;U<P.length;U++)P[U-1]!=P[U]&&F.push(U,P[U]);return F.push(P.length,0,P.length,1),F},w.decode._decodeG2=function(P,F,U,H,q,X,V){for(var J=w.decode,et=F<<3,at=0,ot="",ut=[],yt=0,vt=0,mt=8*Math.ceil(X/8);et>>>3<F+U;){var dt=0;V==1&&(dt=P[et>>>3]>>>7-(7&et)&1),V==2&&(dt=P[et>>>3]>>>(7&et)&1),et++,ot+=dt,(at=J._lens[yt][ot])!=null&&(J._addNtimes(ut,at,yt),ot="",at<64&&(yt=1-yt),ut.length==X&&(J._writeBits(ut,H,8*q+vt*mt),ut=[],vt++,yt=0,7&et&&(et+=8-(7&et)),at>=64&&(et+=8)))}},w.decode._decodeG3=function(P,F,U,H,q,X,V,J){for(var et=w.decode,at=F<<3,ot=0,ut="",yt=[],vt=[],mt=0;mt<X;mt++)yt.push(0);for(var dt=0,gt=0,At=0,_t=0,Mt=0,wt=-1,zt="",ht=0,It=!0,qt=8*Math.ceil(X/8);at>>>3<F+U;){At=et._findDiff(vt,dt+(dt==0?0:1),1-Mt),_t=et._findDiff(vt,At,Mt);var Nt=0;if(V==1&&(Nt=P[at>>>3]>>>7-(7&at)&1),V==2&&(Nt=P[at>>>3]>>>(7&at)&1),at++,ut+=Nt,It){if(et._lens[Mt][ut]!=null){var Ot=et._lens[Mt][ut];ut="",ot+=Ot,Ot<64&&(et._addNtimes(yt,ot,Mt),Mt=1-Mt,ot=0)}}else zt=="H"?et._lens[Mt][ut]!=null&&(Ot=et._lens[Mt][ut],ut="",ot+=Ot,Ot<64&&(et._addNtimes(yt,ot,Mt),dt+=ot,Mt=1-Mt,ot=0,--ht==0&&(zt=""))):(ut=="0001"&&(ut="",et._addNtimes(yt,_t-dt,Mt),dt=_t),ut=="001"&&(ut="",zt="H",ht=2),et._dmap[ut]!=null&&(gt=At+et._dmap[ut],et._addNtimes(yt,gt-dt,Mt),dt=gt,ut="",Mt=1-Mt));ut.endsWith("000000000001")&&(wt>=0&&et._writeBits(yt,H,8*q+wt*qt),J&&(V==1&&(It=(P[at>>>3]>>>7-(7&at)&1)==1),V==2&&(It=(P[at>>>3]>>>(7&at)&1)==1),at++),ut="",Mt=0,wt++,dt=0,vt=et._makeDiff(yt),yt=[])}yt.length==X&&et._writeBits(yt,H,8*q+wt*qt)},w.decode._addNtimes=function(P,F,U){for(var H=0;H<F;H++)P.push(U)},w.decode._writeBits=function(P,F,U){for(var H=0;H<P.length;H++)F[U+H>>>3]|=P[H]<<7-(U+H&7)},w.decode._decodeLZW=w.decode._decodeLZW=(function(){var P,F,U,H,q=0,X=0,V=0,J=0,et=function(){var mt=P>>>3,dt=(F[mt]<<16|F[mt+1]<<8|F[mt+2])>>>24-(7&P)-X&(1<<X)-1;return P+=X,dt},at=new Uint32Array(16384),ot=0,ut=function(mt){X=mt+1,q=J+1},yt=function(mt){for(var dt=mt<<2,gt=at[dt+2],At=H+gt-1;dt!=65535;)U[At--]=at[dt],dt=at[dt+1];H+=gt},vt=function(mt,dt){var gt=q<<2,At=mt<<2;at[gt]=at[3+(dt<<2)],at[gt+1]=At,at[gt+2]=at[At+2]+1,at[gt+3]=at[At+3],++q+1==1<<X&&X!=12&&X++};return function(mt,dt,gt,At,_t,Mt){P=dt<<3,F=mt,U=At,H=_t;var wt=dt+gt<<3,zt=0,ht=0;for((function(It){if(It!=ot){ot=It,J=1+(V=1<<It);for(var qt=0;qt<J+1;qt++)at[4*qt]=at[4*qt+3]=qt,at[4*qt+1]=65535,at[4*qt+2]=1}})(Mt),ut(Mt);P<wt&&(zt=et())!=J;){if(zt==V){if(ut(Mt),(zt=et())==J)break;yt(zt)}else zt<q?(yt(zt),vt(ht,zt)):(vt(ht,ht),yt(q-1));ht=zt}return H}})(),w.tags={},w._types=(function(){var P=new Array(250);return P.fill(0),{basic:{main:P=P.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}})(),w._readIFD=function(P,F,U,H,q,X){var V=P.readUshort(F,U);U+=2;var J={};X.debug&&g("   ".repeat(q),H.length-1,">>>----------------");for(var et=0;et<V;et++){var at=P.readUshort(F,U);U+=2;var ot=P.readUshort(F,U);U+=2;var ut=P.readUint(F,U);U+=4;var yt=P.readUint(F,U);U+=4;var vt=[];if(ot==1||ot==7){var mt=ut<5?U-4:yt;mt+ut>F.buffer.byteLength&&(ut=F.buffer.byteLength-mt),vt=new Uint8Array(F.buffer,mt,ut)}if(ot==2){var dt=ut<5?U-4:yt,gt=F[dt],At=Math.max(0,Math.min(ut-1,F.length-dt));gt<128||At==0?vt.push(P.readASCII(F,dt,At)):vt=new Uint8Array(F.buffer,dt,At)}if(ot==3)for(var _t=0;_t<ut;_t++)vt.push(P.readUshort(F,(ut<3?U-4:yt)+2*_t));if(ot==4||ot==13)for(_t=0;_t<ut;_t++)vt.push(P.readUint(F,(ut<2?U-4:yt)+4*_t));if(ot==5||ot==10){var Mt=ot==5?P.readUint:P.readInt;for(_t=0;_t<ut;_t++)vt.push([Mt(F,yt+8*_t),Mt(F,yt+8*_t+4)])}if(ot==8)for(_t=0;_t<ut;_t++)vt.push(P.readShort(F,(ut<3?U-4:yt)+2*_t));if(ot==9)for(_t=0;_t<ut;_t++)vt.push(P.readInt(F,(ut<2?U-4:yt)+4*_t));if(ot==11)for(_t=0;_t<ut;_t++)vt.push(P.readFloat(F,yt+4*_t));if(ot==12)for(_t=0;_t<ut;_t++)vt.push(P.readDouble(F,yt+8*_t));if(ut==0||vt.length!=0){if(X.debug&&g("   ".repeat(q),at,ot,w.tags[at],vt),J["t"+at]=vt,!(at==330&&J.t272&&J.t272[0]=="DSLR-A100")){if(at==330||at==34665||at==34853||at==50740&&P.readUshort(F,P.readUint(vt,0))<300||at==61440){var wt=at==50740?[P.readUint(vt,0)]:vt,zt=[];for(_t=0;_t<wt.length;_t++)w._readIFD(P,F,wt[_t],zt,q+1,X);at==330&&(J.subIFD=zt),at==34665&&(J.exifIFD=zt[0]),at==34853&&(J.gpsiIFD=zt[0]),at==50740&&(J.dngPrvt=zt[0]),at==61440&&(J.fujiIFD=zt[0])}}if(at==37500&&X.parseMN){var ht=vt;if(P.readASCII(ht,0,5)=="Nikon")J.makerNote=w.decode(ht.slice(10).buffer)[0];else if(P.readASCII(ht,0,5)=="OLYMP"||P.readASCII(ht,0,9)=="OM SYSTEM"){var It=[8208,8224,8240,8256,8272],qt=[];w._readIFD(P,ht,ht[1]==77?16:ht[5]==85?12:8,qt,q+1,X);var Nt=J.makerNote=qt.pop();for(_t=0;_t<It.length;_t++){var Ot="t"+It[_t];Nt[Ot]!=null&&(w._readIFD(P,ht,Nt[Ot][0],qt,q+1,X),Nt[Ot]=qt.pop())}Nt.t12288&&(w._readIFD(P,Nt.t12288,0,qt,q+1,X),Nt.t12288=qt.pop())}else P.readUshort(F,yt)<300&&P.readUshort(F,yt+4)<=12&&(qt=[],w._readIFD(P,F,yt,qt,q+1,X),J.makerNote=qt[0])}}else if(g(at,"unknown TIFF tag type: ",ot,"num:",ut),et==0)return}return H.push(J),X.debug&&g("   ".repeat(q),"<<<---------------"),U},w._writeIFD=function(P,F,U,H,q){var X=Object.keys(q),V=X.length;q.exifIFD&&V--,q.gpsiIFD&&V--,P.writeUshort(U,H,V);for(var J=(H+=2)+12*V+4,et=0;et<X.length;et++){var at=X[et];if(at!="t34665"&&at!="t34853"){at=="exifIFD"&&(at="t34665"),at=="gpsiIFD"&&(at="t34853");var ot=parseInt(at.slice(1)),ut=F.main[ot];if(ut==null&&(ut=F.rest[ot]),ut==null||ut==0)throw new Error("unknown type of tag: "+ot);var yt=q[at];ot==34665&&(yt=[J],J=w._writeIFD(P,F,U,J,q.exifIFD)[1]),ot==34853&&(yt=[J],J=w._writeIFD(P,w._types.gps,U,J,q.gpsiIFD)[1]),ut==2&&(yt=yt[0]+"\0");var vt=yt.length;P.writeUshort(U,H,ot),H+=2,P.writeUshort(U,H,ut),H+=2,P.writeUint(U,H,vt);var mt=[-1,1,1,2,4,8,0,1,0,4,8,0,8][ut]*vt,dt=H+=4;if(mt>4&&(P.writeUint(U,H,J),dt=J),ut==1||ut==7)for(var gt=0;gt<vt;gt++)U[dt+gt]=yt[gt];else if(ut==2)P.writeASCII(U,dt,yt);else if(ut==3)for(gt=0;gt<vt;gt++)P.writeUshort(U,dt+2*gt,yt[gt]);else if(ut==4)for(gt=0;gt<vt;gt++)P.writeUint(U,dt+4*gt,yt[gt]);else if(ut==5||ut==10){var At=ut==5?P.writeUint:P.writeInt;for(gt=0;gt<vt;gt++){var _t=yt[gt],Mt=_t[0],wt=_t[1];if(Mt==null)throw"e";At(U,dt+8*gt,Mt),At(U,dt+8*gt+4,wt)}}else if(ut==9)for(gt=0;gt<vt;gt++)P.writeInt(U,dt+4*gt,yt[gt]);else{if(ut!=12)throw ut;for(gt=0;gt<vt;gt++)P.writeDouble(U,dt+8*gt,yt[gt])}mt>4&&(J+=mt+=1&mt),H+=4}}return[H,J]},w.toRGBA8=function(P,F){function U(oi){return oi<.0031308?12.92*oi:1.055*Math.pow(oi,1/2.4)-.055}var H=P.width,q=P.height,X=H*q,V=P.data,J=new Uint8Array(4*X),et=P.t262?P.t262[0]:2,at=P.t258?Math.min(32,P.t258[0]):1;P.t262==null&&at==1&&(et=0);var ot=P.t277?P.t277[0]:P.t258?P.t258.length:[1,1,3,1,1,4,3][et],ut=P.t339?P.t339[0]:null;if(et==1&&at==32&&ut!=3)throw"e";var yt=Math.ceil(ot*at*H/8);if(et==0){F=1/256;for(var vt=0;vt<q;vt++){var mt=vt*yt,dt=vt*H;if(at==1)for(var gt=0;gt<H;gt++){var At=dt+gt<<2,_t=V[mt+(gt>>3)]>>7-(7&gt)&1;J[At]=J[At+1]=J[At+2]=255*(1-_t),J[At+3]=255}if(at==4)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[mt+(gt>>1)]>>4-4*(1&gt)&15,J[At]=J[At+1]=J[At+2]=17*(15-_t),J[At+3]=255;if(at==8)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[mt+gt],J[At]=J[At+1]=J[At+2]=255-_t,J[At+3]=255;if(at==16)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[(wt=mt+2*gt)+1]<<8|V[wt],J[At]=J[At+1]=J[At+2]=Math.min(255,255-~~(_t*F)),J[At+3]=255}}else if(et==1){F==null&&(F=1/256);var Mt=3&V.length?null:new Float32Array(V.buffer);for(vt=0;vt<q;vt++){if(mt=vt*yt,dt=vt*H,at==1)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[mt+(gt>>3)]>>7-(7&gt)&1,J[At]=J[At+1]=J[At+2]=255*_t,J[At+3]=255;if(at==2)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[mt+(gt>>2)]>>6-2*(3&gt)&3,J[At]=J[At+1]=J[At+2]=85*_t,J[At+3]=255;if(at==8)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[mt+gt*ot],J[At]=J[At+1]=J[At+2]=_t,J[At+3]=255;if(at==16)for(gt=0;gt<H;gt++)At=dt+gt<<2,_t=V[(wt=mt+2*gt)+1]<<8|V[wt],J[At]=J[At+1]=J[At+2]=Math.min(255,~~(_t*F)),J[At+3]=255;if(at==32)for(gt=0;gt<H;gt++){var wt;At=dt+gt<<2,_t=Mt[wt=(mt>>>2)+gt],J[At]=J[At+1]=J[At+2]=~~(.5+255*_t),J[At+3]=255}}}else if(et==2)if(at==8){if(ot==1)for(gt=0;gt<X;gt++)J[4*gt]=J[4*gt+1]=J[4*gt+2]=V[gt],J[4*gt+3]=255;if(ot==3)for(gt=0;gt<X;gt++){var zt=3*gt;J[At=gt<<2]=V[zt],J[At+1]=V[zt+1],J[At+2]=V[zt+2],J[At+3]=255}if(ot>=4)for(gt=0;gt<X;gt++)zt=gt*ot,J[At=gt<<2]=V[zt],J[At+1]=V[zt+1],J[At+2]=V[zt+2],J[At+3]=V[zt+3]}else if(at==16){if(ot==4)for(gt=0;gt<X;gt++)zt=8*gt+1,J[At=gt<<2]=V[zt],J[At+1]=V[zt+2],J[At+2]=V[zt+4],J[At+3]=V[zt+6];if(ot==3)for(gt=0;gt<X;gt++)zt=6*gt+1,J[At=gt<<2]=V[zt],J[At+1]=V[zt+2],J[At+2]=V[zt+4],J[At+3]=255}else{if(at!=32)throw at;var ht=new Float32Array(V.buffer),It=0;for(gt=0;gt<ht.length;gt++)It=Math.min(It,ht[gt]);if(It<0)for(gt=0;gt<V.length;gt+=4){var qt=V[gt];V[gt]=V[gt+3],V[gt+3]=qt,qt=V[gt+1],V[gt+1]=V[gt+2],V[gt+2]=qt}var Nt=[];for(gt=0;gt<65536;gt++)Nt.push(U(gt/65535));for(gt=0;gt<ht.length;gt++){var Ot=Math.max(0,Math.min(1,ht[gt]));ht[gt]=Nt[~~(.5+65535*Ot)]}if(ot==3)for(gt=0;gt<X;gt++)zt=3*gt,J[At=gt<<2]=~~(.5+255*ht[zt]),J[At+1]=~~(.5+255*ht[zt+1]),J[At+2]=~~(.5+255*ht[zt+2]),J[At+3]=255;else{if(ot!=4)throw ot;for(gt=0;gt<X;gt++)zt=4*gt,J[At=gt<<2]=~~(.5+255*ht[zt]),J[At+1]=~~(.5+255*ht[zt+1]),J[At+2]=~~(.5+255*ht[zt+2]),J[At+3]=~~(.5+255*ht[zt+3])}}else if(et==3){var Ct=P.t320,Jt=1<<at,Kt=at==8&&ot>1&&P.t338&&P.t338[0]!=0;for(vt=0;vt<q;vt++)for(var Qt=0;Qt<H;Qt++){At=(gt=vt*H+Qt)<<2;var pe=0,$t=vt*yt;if(at==1)pe=V[$t+(Qt>>>3)]>>>7-(7&Qt)&1;else if(at==2)pe=V[$t+(Qt>>>2)]>>>6-2*(3&Qt)&3;else if(at==4)pe=V[$t+(Qt>>>1)]>>>4-4*(1&Qt)&15;else{if(at!=8)throw at;pe=V[$t+Qt*ot]}J[At]=Ct[pe]>>8,J[At+1]=Ct[Jt+pe]>>8,J[At+2]=Ct[Jt+Jt+pe]>>8,J[At+3]=Kt?V[$t+Qt*ot+1]:255}}else if(et==5){var Wt=ot>4?1:0;for(gt=0;gt<X;gt++){At=gt<<2;var fe=gt*ot;if(window.UDOC){var oe=V[fe],Xt=V[fe+1],ne=V[fe+2],ye=V[fe+3],Ie=UDOC.C.cmykToRgb([oe*(1/255),Xt*(1/255),ne*(1/255),ye*(1/255)]);J[At]=~~(.5+255*Ie[0]),J[At+1]=~~(.5+255*Ie[1]),J[At+2]=~~(.5+255*Ie[2])}else oe=255-V[fe],Xt=255-V[fe+1],ne=255-V[fe+2],ye=(255-V[fe+3])*(1/255),J[At]=~~(oe*ye+.5),J[At+1]=~~(Xt*ye+.5),J[At+2]=~~(ne*ye+.5);J[At+3]=255*(1-Wt)+V[fe+4]*Wt}}else if(et==6&&P.t278){var $e=P.t278[0];for(vt=0;vt<q;vt+=$e){gt=vt*H;for(var he=$e*H,xt=0;xt<he;xt++){At=4*(gt+xt),ne=V[(fe=3*gt+4*(xt>>>1))+(1&xt)];var ue=V[fe+2]-128,Ft=V[fe+3]-128,Ut=ne+((Ft>>2)+(Ft>>3)+(Ft>>5)),Lt=ne-((ue>>2)+(ue>>4)+(ue>>5))-((Ft>>1)+(Ft>>3)+(Ft>>4)+(Ft>>5)),Vt=ne+(ue+(ue>>1)+(ue>>2)+(ue>>6));J[At]=Math.max(0,Math.min(255,Ut)),J[At+1]=Math.max(0,Math.min(255,Lt)),J[At+2]=Math.max(0,Math.min(255,Vt)),J[At+3]=255}}}else if(et==32845)for(vt=0;vt<q;vt++)for(Qt=0;Qt<H;Qt++){At=4*(vt*H+Qt);var ge=V[(fe=6*(vt*H+Qt))+1]<<8|V[fe],pt=(ge=Math.pow(2,(ge+.5)/256-64),(V[fe+3]+.5)/410),Rt=(V[fe+5]+.5)/410,Gt=9*pt/(6*pt-16*Rt+12),jt=4*Rt/(6*pt-16*Rt+12),xe=Gt*ge/jt,Be=(1-Gt-jt)*ge/jt;Ut=2.69*xe-1.276*(ne=ge)-.414*Be,Lt=-1.022*xe+1.978*ne+.044*Be,Vt=.061*xe-.224*ne+1.163*Be,J[At]=255*U(Math.min(Ut,1)),J[At+1]=255*U(Math.min(Lt,1)),J[At+2]=255*U(Math.min(Vt,1)),J[At+3]=255}else g("Unknown Photometric interpretation: "+et);return J},w.replaceIMG=function(P){P==null&&(P=document.getElementsByTagName("img"));for(var F=["tif","tiff","dng","cr2","nef"],U=0;U<P.length;U++){var H=P[U],q=H.getAttribute("src");if(q!=null){var X=q.split(".").pop().toLowerCase();if(F.indexOf(X)!=-1){var V=new XMLHttpRequest;w._xhrs.push(V),w._imgs.push(H),V.open("GET",q),V.responseType="arraybuffer",V.onload=w._imgLoaded,V.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(P){var F=w._xhrs.indexOf(P.target),U=w._imgs[F];w._xhrs.splice(F,1),w._imgs.splice(F,1),U.setAttribute("src",w.bufferToURI(P.target.response))},w.bufferToURI=function(P){var F=w.decode(P),U=F,H=0,q=U[0];F[0].subIFD&&(U=U.concat(F[0].subIFD));for(var X=0;X<U.length;X++){var V=U[X];if(!(V.t258==null||V.t258.length<3)){var J=V.t256*V.t257;J>H&&(H=J,q=V)}}w.decodeImage(P,q,F);var et=w.toRGBA8(q),at=q.width,ot=q.height,ut=document.createElement("canvas");ut.width=at,ut.height=ot;var yt=ut.getContext("2d"),vt=new ImageData(new Uint8ClampedArray(et.buffer),at,ot);return yt.putImageData(vt,0,0),ut.toDataURL()},w._binBE={nextZero:function(P,F){for(;P[F]!=0;)F++;return F},readUshort:function(P,F){return P[F]<<8|P[F+1]},readShort:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+1],U[1]=P[F+0],w._binBE.i16[0]},readInt:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+3],U[1]=P[F+2],U[2]=P[F+1],U[3]=P[F+0],w._binBE.i32[0]},readUint:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+3],U[1]=P[F+2],U[2]=P[F+1],U[3]=P[F+0],w._binBE.ui32[0]},readASCII:function(P,F,U){for(var H="",q=0;q<U;q++)H+=String.fromCharCode(P[F+q]);return H},readFloat:function(P,F){for(var U=w._binBE.ui8,H=0;H<4;H++)U[H]=P[F+3-H];return w._binBE.fl32[0]},readDouble:function(P,F){for(var U=w._binBE.ui8,H=0;H<8;H++)U[H]=P[F+7-H];return w._binBE.fl64[0]},writeUshort:function(P,F,U){P[F]=U>>8&255,P[F+1]=255&U},writeInt:function(P,F,U){var H=w._binBE.ui8;w._binBE.i32[0]=U,P[F+3]=H[0],P[F+2]=H[1],P[F+1]=H[2],P[F+0]=H[3]},writeUint:function(P,F,U){P[F]=U>>24&255,P[F+1]=U>>16&255,P[F+2]=U>>8&255,P[F+3]=255&U},writeASCII:function(P,F,U){for(var H=0;H<U.length;H++)P[F+H]=U.charCodeAt(H)},writeDouble:function(P,F,U){w._binBE.fl64[0]=U;for(var H=0;H<8;H++)P[F+H]=w._binBE.ui8[7-H]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(P,F){return P[F+1]<<8|P[F]},readShort:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+0],U[1]=P[F+1],w._binBE.i16[0]},readInt:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+0],U[1]=P[F+1],U[2]=P[F+2],U[3]=P[F+3],w._binBE.i32[0]},readUint:function(P,F){var U=w._binBE.ui8;return U[0]=P[F+0],U[1]=P[F+1],U[2]=P[F+2],U[3]=P[F+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(P,F){for(var U=w._binBE.ui8,H=0;H<4;H++)U[H]=P[F+H];return w._binBE.fl32[0]},readDouble:function(P,F){for(var U=w._binBE.ui8,H=0;H<8;H++)U[H]=P[F+H];return w._binBE.fl64[0]},writeUshort:function(P,F,U){P[F]=255&U,P[F+1]=U>>8&255},writeInt:function(P,F,U){var H=w._binBE.ui8;w._binBE.i32[0]=U,P[F+0]=H[0],P[F+1]=H[1],P[F+2]=H[2],P[F+3]=H[3]},writeUint:function(P,F,U){P[F]=U>>>0&255,P[F+1]=U>>>8&255,P[F+2]=U>>>16&255,P[F+3]=U>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(P,F,U,H,q,X,V,J){for(var et=Math.min(F,q-V),at=Math.min(U,X-J),ot=0;ot<at;ot++)for(var ut=(J+ot)*q+V,yt=ot*F,vt=0;vt<et;vt++)H[ut+vt]=P[yt+vt]},w.LosslessJpegDecode=(function(){var P,F;function U(){return P[F++]}function H(){return P[F++]<<8|P[F++]}function q(mt){for(var dt=U(),gt=[0,0,0,255],At=[],_t=0;_t<16;_t++)At[_t]=U();for(_t=0;_t<16;_t++)for(var Mt=0;Mt<At[_t];Mt++)gt[X(gt,0,_t+1,1)+3]=U();var wt=new Uint8Array(256);for(mt[dt]=[new Uint8Array(gt),wt],_t=0;_t<256;_t++){for(var zt=8,ht=_t,It=0;gt[It+3]==255&&zt!=0;)It=gt[It+(ht>>--zt&1)];wt[_t]=It}}function X(mt,dt,gt,At){if(mt[dt+3]!=255)return 0;if(gt==0)return dt;for(var _t=0;_t<2;_t++){mt[dt+_t]==0&&(mt[dt+_t]=mt.length,mt.push(0,0,At,255));var Mt=X(mt,mt[dt+_t],gt-1,At+1);if(Mt!=0)return Mt}return 0}function V(mt){for(var dt=mt.b,gt=mt.f;dt<25&&mt.a<mt.d;){var At=mt.data[mt.a++];At!=255||mt.c||mt.a++,gt=gt<<8|At,dt+=8}if(dt<0)throw"e";mt.b=dt,mt.f=gt}function J(mt,dt){return dt.b<mt&&V(dt),dt.f>>(dt.b-=mt)&65535>>16-mt}function et(mt,dt){var gt=mt[0],At=0,_t=255;dt.b<16&&V(dt);var Mt=dt.f>>dt.b-8&255;for(_t=gt[(At=mt[1][Mt])+3],dt.b-=gt[At+2];_t==255;)_t=gt[(At=gt[At+(dt.f>>--dt.b&1)])+3];return _t}function at(mt,dt){return mt<32768>>16-dt&&(mt+=1-(1<<dt)),mt}function ot(mt,dt){var gt=et(mt,dt);return gt==0?0:gt==16?-32768:at(J(gt,dt),gt)}function ut(mt,dt,gt,At,_t,Mt){for(var wt=0,zt=0;zt<Mt;zt++){for(var ht=zt*dt,It=0;It<dt;It+=_t){wt++;for(var qt=0;qt<_t;qt++)mt[ht+It+qt]=ot(At[qt],gt)}if(gt.e!=0&&wt%gt.e==0&&zt!=0){for(var Nt=gt.a,Ot=gt.data;Ot[Nt]!=255||!(208<=Ot[Nt+1]&&Ot[Nt+1]<=215);)Nt--;gt.a=Nt+2,gt.f=0,gt.b=0}}}function yt(mt,dt){return at(J(mt,dt),mt)}function vt(mt,dt,gt,At,_t,Mt,wt,zt){for(var ht=gt*wt,It=_t;It<Mt;It++)mt[It]+=1<<zt-1;for(var qt=wt;qt<ht;qt+=wt)for(It=_t;It<Mt;It++)mt[qt+It]+=mt[qt+It-wt];for(var Nt=1;Nt<At;Nt++){var Ot=Nt*ht;for(It=_t;It<Mt;It++)mt[Ot+It]+=mt[Ot+It-ht];for(qt=wt;qt<ht;qt+=wt)for(It=_t;It<Mt;It++){var Ct=Ot+qt+It,Jt=Ct-ht,Kt=mt[Ct-wt],Qt=0;if(dt==0)Qt=0;else if(dt==1)Qt=Kt;else if(dt==2)Qt=mt[Jt];else if(dt==3)Qt=mt[Jt-wt];else if(dt==4)Qt=Kt+(mt[Jt]-mt[Jt-wt]);else if(dt==5)Qt=Kt+(mt[Jt]-mt[Jt-wt]>>>1);else if(dt==6)Qt=mt[Jt]+(Kt-mt[Jt-wt]>>>1);else{if(dt!=7)throw dt;Qt=Kt+mt[Jt]>>>1}mt[Ct]+=Qt}}}return function(mt){if(P=mt,F=0,H()!=65496)throw"e";for(var dt=[],gt=0,At=0,_t=0,Mt=[],wt=[],zt=[],ht=0,It=0,qt=0;;){var Nt=H();if(Nt!=65535){var Ot=H();if(Nt==65475){At=U(),It=H(),qt=H(),ht=U();for(var Ct=0;Ct<ht;Ct++){var Jt=U(),Kt=U();if(U()!=0)throw"e";dt[Jt]=[Ct,Kt>>4,15&Kt]}}else if(Nt==65476)for(var Qt=F+Ot-2;F<Qt;)q(wt);else{if(Nt==65498){for(F++,Ct=0;Ct<ht;Ct++){var pe=dt[U()];zt[pe[0]]=wt[U()>>>4],Mt[pe[0]]=pe.slice(1)}gt=U(),F+=2;break}Nt==65501?_t=H():F+=Ot-2}}else F--}var $t=new(At>8?Uint16Array:Uint8Array)(It*qt*ht),Wt={b:0,f:0,c:gt==8,a:F,data:P,d:P.length,e:_t};if(Wt.c)(function(xe,Be,oi,mi,li){for(var gi=P.length-F,We=0;We<gi;We+=4){var Ii=P[F+We];P[F+We]=P[F+We+3],P[F+We+3]=Ii,Ii=P[F+We+1],P[F+We+1]=P[F+We+2],P[F+We+2]=Ii}for(var Si=0;Si<li;Si++)for(var Ti=32768,Bi=32768,Ei=0;Ei<Be;Ei+=2){var _e=et(mi,oi),hi=et(mi,oi);_e!=0&&(Ti+=yt(_e,oi)),hi!=0&&(Bi+=yt(hi,oi)),xe[Si*Be+Ei]=65535&Ti,xe[Si*Be+Ei+1]=65535&Bi}})($t,qt*ht,Wt,zt[0],It);else{var fe=[],oe=0,Xt=0;for(Ct=0;Ct<ht;Ct++){var ne=Mt[Ct];(Vt=ne[0])>oe&&(oe=Vt),(Lt=ne[1])>Xt&&(Xt=Lt),fe.push(Vt*Lt)}if(oe!=1||Xt!=1){if(ht!=3||fe[1]!=1||fe[2]!=1||oe!=2||Xt!=1&&Xt!=2)throw"e";var ye=[],Ie=0;for(Ct=0;Ct<ht;Ct++){for(var $e=0;$e<fe[Ct];$e++)ye.push(zt[Ct]);Ie+=fe[Ct]}var he=qt/oe,xt=It/Xt,ue=he*xt;ut($t,he*Ie,Wt,ye,Ie,xt),vt($t,gt,he,xt,Ie-2,Ie,Ie,At);var Ft=new Uint16Array(ue*fe[0]);if(oe==2&&Xt==2){for(Ct=0;Ct<ue;Ct++)Ft[4*Ct]=$t[6*Ct],Ft[4*Ct+1]=$t[6*Ct+1],Ft[4*Ct+2]=$t[6*Ct+2],Ft[4*Ct+3]=$t[6*Ct+3];for(vt(Ft,gt,4*he,xt,0,1,1,At),Ct=0;Ct<ue;Ct++)$t[6*Ct]=Ft[4*Ct],$t[6*Ct+1]=Ft[4*Ct+1],$t[6*Ct+2]=Ft[4*Ct+2],$t[6*Ct+3]=Ft[4*Ct+3]}if(oe==2&&Xt==1){for(Ct=0;Ct<ue;Ct++)Ft[2*Ct]=$t[4*Ct],Ft[2*Ct+1]=$t[4*Ct+1];for(vt(Ft,gt,2*he,xt,0,1,1,At),Ct=0;Ct<ue;Ct++)$t[4*Ct]=Ft[2*Ct],$t[4*Ct+1]=Ft[2*Ct+1]}for(var Ut=$t.slice(0),Lt=0;Lt<It;Lt++)if(Xt==2)for(var Vt=0;Vt<qt;Vt++){var ge=((Lt>>>1)*he+(Vt>>>1))*Ie,pt=2*(1&Lt)+(1&Vt);$t[Rt=(Lt*qt+Vt)*ht]=Ut[ge+pt],$t[Rt+1]=Ut[ge+4],$t[Rt+2]=Ut[ge+5]}else for(Vt=0;Vt<qt;Vt++){var Rt;ge=(Lt*he+(Vt>>>1))*Ie,pt=1&Vt,$t[Rt=(Lt*qt+Vt)*ht]=Ut[ge+pt],$t[Rt+1]=Ut[ge+2],$t[Rt+2]=Ut[ge+3]}}else if(ut($t,qt*ht,Wt,zt,ht,It),_t==0)vt($t,gt,qt,It,0,ht,ht,At);else{var Gt=Math.floor(_t/qt);for(Lt=0;Lt<It;Lt+=Gt){var jt=$t.slice(Lt*qt*ht,(Lt+Gt)*qt*ht);vt(jt,gt,qt,Gt,0,ht,ht,At),$t.set(jt,Lt*qt*ht)}}}return $t}})(),(function(){var P=2,F=4,U=5,H=6,q=7,X=12,V=13,J=14,et=15,at=17;function ot(Mt){var wt={c:new Int8Array(2<<Mt.u)};return(function(zt,ht,It){var qt=[ht,3*ht+18,5*ht+67,7*ht+276,It];zt.o=ht,zt.w=(qt[4]+2*ht)/(2*ht+1)+1|0,zt.v=Math.ceil(Math.log2(zt.w)),zt.t=9,(function(Nt,Ot){for(var Ct=-Ot[4],Jt=0;Ct<=Ot[4];Jt++,Ct++)Nt[Jt]=Ct<=-276?-4:Ct<=-67?-3:Ct<=-18?-2:Ct<-0?-1:Ct<=Ot[0]?0:Ct<Ot[1]?1:Ct<Ot[2]?2:Ct<Ot[3]?3:4})(zt.c,qt)})(wt,0,Mt.g),wt}function ut(Mt){for(var wt=[[],[],[]],zt=Math.max(2,Mt.w+32>>>6),ht=0;ht<3;ht++)for(var It=0;It<41;It++)wt[ht][It]=[zt,1];return wt}function yt(Mt,wt){var zt=0,ht=8-Mt.a;if(Mt.j,Mt.a,wt){if(wt>=ht)do zt<<=ht,wt-=ht,zt|=Mt[Mt.j]&(1<<ht)-1,Mt.j++,ht=8;while(wt>=8);wt&&(zt<<=wt,ht-=wt,zt|=Mt[Mt.j]>>>ht&(1<<wt)-1),Mt.a=8-ht}return zt}function vt(Mt,wt,zt,ht,It,qt,Nt,Ot){Ot==null&&(Ot=0);var Ct,Jt,Kt,Qt,pe,$t,Wt=qt+1,fe=Wt%2,oe=0,Xt=ht[It],ne=ht[It-1],ye=ht[It-2][Wt],Ie=ne[Wt-1],$e=ne[Wt],he=ne[Wt+1],xt=Xt[Wt-1],ue=Xt[Wt+1],Ft=Math.abs;if(fe&&(Kt=Ft(he-$e),Qt=Ft(ye-$e),pe=Ft(Ie-$e)),fe){if($t=($t=Kt>pe&&Qt<Kt?ye+Ie:Kt<pe&&Qt<pe?ye+he:he+Ie)+2*$e>>>2,Ot)return void(Xt[Wt]=$t);Ct=wt.t*wt.c[Mt.g+$e-ye]+wt.c[Mt.g+Ie-$e]}else $t=$e>Ie&&$e>he||$e<Ie&&$e<he?ue+xt+2*$e>>>2:xt+ue>>>1,Ct=wt.t*wt.c[Mt.g+$e-Ie]+wt.c[Mt.g+Ie-xt];Jt=Ft(Ct);var Ut=(function(Vt){for(var ge=-1,pt=0;!pt;ge++)pt=Vt[Vt.j]>>>7-Vt.a&1,Vt.a++,Vt.a&=7,Vt.a||Vt.j++;return ge})(zt);if(Ut<Mt.n-wt.v-1){var Lt=(function(Vt,ge){var pt=0;if(ge<Vt)for(;pt<=14&&ge<<++pt<Vt;);return pt})(Nt[Jt][0],Nt[Jt][1]);oe=yt(zt,Lt)+(Ut<<Lt)}else oe=yt(zt,wt.v)+1;oe=1&oe?-1-(oe>>>1):oe>>>1,Nt[Jt][0]+=Ft(oe),Nt[Jt][1]==Mt.f&&(Nt[Jt][0]>>>=1,Nt[Jt][1]>>>=1),Nt[Jt][1]++,$t=Ct<0?$t-oe:$t+oe,Mt.i&&($t<0?$t+=wt.w:$t>Mt.g&&($t-=wt.w)),Xt[Wt]=$t>=0?Math.min($t,Mt.g):0}function mt(Mt,wt,zt){for(var ht=Mt[0].length,It=wt;It<=zt;It++)Mt[It][0]=Mt[It-1][1],Mt[It][ht-1]=Mt[It-1][ht-2]}function dt(Mt){mt(Mt,q,X),mt(Mt,P,F),mt(Mt,et,at)}function gt(Mt,wt,zt,ht,It,qt,Nt,Ot,Ct,Jt,Kt,Qt,pe){for(var $t=0,Wt=1,fe=It<V&&It>F;Wt<Mt.m;)$t<Mt.m&&(vt(Mt,wt,zt,ht,It,$t,Nt[Ct],Mt.h&&(fe&&Jt||!fe&&(Kt||($t&Qt)==pe))),vt(Mt,wt,zt,ht,qt,$t,Nt[Ct],Mt.h&&(!fe&&Jt||fe&&(Kt||($t&Qt)==pe))),$t+=2),$t>8&&(vt(Mt,wt,zt,ht,It,Wt,Ot[Ct]),vt(Mt,wt,zt,ht,qt,Wt,Ot[Ct]),Wt+=2);dt(ht)}function At(Mt,wt,zt,ht,It,qt){gt(Mt,wt,zt,ht,P,q,It,qt,0,0,1,0,8),gt(Mt,wt,zt,ht,8,et,It,qt,1,0,1,0,8),gt(Mt,wt,zt,ht,3,9,It,qt,2,1,0,3,0),gt(Mt,wt,zt,ht,10,16,It,qt,0,0,0,3,2),gt(Mt,wt,zt,ht,F,11,It,qt,1,0,0,3,2),gt(Mt,wt,zt,ht,X,at,It,qt,2,1,0,3,0)}function _t(Mt,wt,zt,ht,It,qt){var Nt=qt.length,Ot=Mt.l;It+1==Mt.s&&(Ot=Mt.e-It*Mt.l);for(var Ct=6*Mt.e*ht+It*Mt.l,Jt=0;Jt<6;Jt++){for(var Kt=0;Kt<Ot;Kt++){var Qt,pe=qt[Jt%Nt][Kt%Nt];Qt=pe==0?P+(Jt>>>1):pe==2?et+(Jt>>>1):q+Jt;var $t=Mt.h?(2*Kt/3&2147483646|Kt%3&1)+(Kt%3>>>1):Kt>>>1;wt[Ct+Kt]=zt[Qt][$t+1]}Ct+=Mt.e}}w._decompressRAF=function(Mt,wt){var zt=(function(Wt){var fe=w._binBE.readUshort,oe={b:fe(Wt,0),i:Wt[2],C:Wt[3],u:Wt[4],q:fe(Wt,5),k:fe(Wt,7),e:fe(Wt,9),l:fe(Wt,11),s:Wt[13],d:fe(Wt,14)};if(oe.b!=18771||oe.i>1||oe.q<6||oe.q%6||oe.e<768||oe.e%24||oe.l!=768||oe.k<oe.l||oe.k%oe.l||oe.k-oe.e>=oe.l||oe.s>16||oe.s!=oe.k/oe.l||oe.s!=Math.ceil(oe.e/oe.l)||oe.d!=oe.q/6||oe.u!=12&&oe.u!=14&&oe.u!=16||oe.C!=16&&oe.C!=0)throw"Invalid data";if(oe.i==0)throw"Not implemented. We need this file!";return oe.h=oe.C==16,oe.m=0|(oe.h?2*oe.l/3:oe.l>>>1),oe.A=oe.m+2,oe.f=64,oe.g=(1<<oe.u)-1,oe.n=4*oe.u,oe})(Mt),ht=(function(Wt,fe){var oe=new Array(fe.s),Xt=4*fe.s,ne=16+Xt;12&Xt&&(ne+=16-(12&Xt));for(var ye=0,Ie=16;ye<fe.s;Ie+=4){var $e=w._binBE.readUint(Wt,Ie);oe[ye]=Wt.slice(ne,ne+$e),oe[ye].j=0,oe[ye].a=0,ne+=$e,ye++}if(ne!=Wt.length)throw"Invalid data";return oe})(Mt,zt),It=ot(zt),qt=new Int16Array(zt.e*zt.q);wt==null&&(wt=zt.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var Nt=[[0,3],[1,F],[U,11],[H,X],[V,16],[J,at]],Ot=[],Ct=0;Ct<18;Ct++)Ot[Ct]=new Uint16Array(zt.A);for(var Jt=0;Jt<zt.s;Jt++){var Kt=ut(It),Qt=ut(It);for(Ct=0;Ct<18;Ct++)for(var pe=0;pe<zt.A;pe++)Ot[Ct][pe]=0;for(var $t=0;$t<zt.d;$t++){for(At(zt,It,ht[Jt],Ot,Kt,Qt),Ct=0;Ct<6;Ct++)for(pe=0;pe<zt.A;pe++)Ot[Nt[Ct][0]][pe]=Ot[Nt[Ct][1]][pe];for(_t(zt,qt,Ot,$t,Jt,wt),Ct=P;Ct<18;Ct++)if([U,H,V,J].indexOf(Ct)==-1)for(pe=0;pe<zt.A;pe++)Ot[Ct][pe]=0;dt(Ot)}}return qt}})()})(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach((D=>{utif.decodeImage(d,D)}));const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter((D=>typeof m[m[D]]!="number")),w={};for(const D of g)w[D]=m[D];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map((function(g){return m[g]})),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map((w=>typeof w=="string"?`'${w}'`:w)).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),(function(d){d.mergeShapes=(m,g)=>({...m,...g})})(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(P){return P.message},w={_errors:[]},D=P=>{for(const F of P.issues)if(F.code==="invalid_union")F.unionErrors.map(D);else if(F.code==="invalid_return_type")D(F.returnTypeError);else if(F.code==="invalid_arguments")D(F.argumentsError);else if(F.path.length===0)w._errors.push(g(F));else{let U=w,H=0;for(;H<F.path.length;){const q=F.path[H];H===F.path.length-1?(U[q]=U[q]||{_errors:[]},U[q]._errors.push(g(F))):U[q]=U[q]||{_errors:[]},U=U[q],H++}}};return D(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=(g=>g.message)){const g={},w=[];for(const D of this.issues)D.path.length>0?(g[D.path[0]]=g[D.path[0]]||[],g[D.path[0]].push(m(D))):w.push(m(D));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:D}=d,P=[...g,...D.path||[]],F={...D,path:P};if(D.message!==void 0)return{...D,path:P,message:D.message};let U="";const H=w.filter((q=>!!q)).slice().reverse();for(const q of H)U=q(F,{data:m,defaultError:U}).message;return{...D,path:P,message:U}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter((D=>!!D))});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const D of g){if(D.status==="aborted")return INVALID;D.status==="dirty"&&m.dirty(),w.push(D.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const D of g){const P=await D.key,F=await D.value;w.push({key:P,value:F})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const D of g){const{key:P,value:F}=D;if(P.status==="aborted"||F.status==="aborted")return INVALID;P.status==="dirty"&&m.dirty(),F.status==="dirty"&&m.dirty(),P.value==="__proto__"||F.value===void 0&&!D.alwaysSet||(w[P.value]=F.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,D){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,(function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,D){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=D}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:D}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:D}:{errorMap:(P,F)=>{var U,H;const{message:q}=d;return P.code==="invalid_enum_value"?{message:q??F.defaultError}:F.data===void 0?{message:(U=q??w)!==null&&U!==void 0?U:F.defaultError}:P.code!=="invalid_type"?{message:F.defaultError}:{message:(H=q??g)!==null&&H!==void 0?H:F.defaultError}},description:D}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const D={common:{issues:[],async:(w=g?.async)!==null&&w!==void 0&&w,contextualErrorMap:g?.errorMap},path:g?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},P=this._parseSync({data:m,path:D.path,parent:D});return handleResult(D,P)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g?.errorMap,async:!0},path:g?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},D=this._parse({data:m,path:w.path,parent:w}),P=await(isAsync(D)?D:Promise.resolve(D));return handleResult(w,P)}refine(m,g){const w=D=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(D):g;return this._refinement(((D,P)=>{const F=m(D),U=()=>P.addIssue({code:ZodIssueCode.custom,...w(D)});return typeof Promise<"u"&&F instanceof Promise?F.then((H=>!!H||(U(),!1))):!!F||(U(),!1)}))}refinement(m,g){return this._refinement(((w,D)=>!!m(w)||(D.addIssue(typeof g=="function"?g(w,D):g),!1)))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:D.parsedType}),INVALID}const g=new ParseStatus;let w;for(const D of this._def.checks)if(D.kind==="min")m.data.length<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="max")m.data.length>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="length"){const P=m.data.length>D.value,F=m.data.length<D.value;(P||F)&&(w=this._getOrReturnCtx(m,w),P?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}):F&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}),g.dirty())}else if(D.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()}else D.kind==="regex"?(D.regex.lastIndex=0,D.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty())):D.kind==="trim"?m.data=m.data.trim():D.kind==="includes"?m.data.includes(D.value,D.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:D.value,position:D.position},message:D.message}),g.dirty()):D.kind==="toLowerCase"?m.data=m.data.toLowerCase():D.kind==="toUpperCase"?m.data=m.data.toUpperCase():D.kind==="startsWith"?m.data.startsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:D.value},message:D.message}),g.dirty()):D.kind==="endsWith"?m.data.endsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:D.value},message:D.message}),g.dirty()):D.kind==="datetime"?datetimeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:D.message}),g.dirty()):D.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:D.message}),g.dirty()):D.kind==="time"?timeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:D.message}),g.dirty()):D.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="ip"?isValidIP(m.data,D.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement((D=>m.test(D)),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:m?.precision===void 0?null:m?.precision,offset:(g=m?.offset)!==null&&g!==void 0&&g,local:(w=m?.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m?.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:m?.precision===void 0?null:m?.precision,...errorUtil.errToObj(m?.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g?.position,...errorUtil.errToObj(g?.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((m=>m.kind==="datetime"))}get isDate(){return!!this._def.checks.find((m=>m.kind==="date"))}get isTime(){return!!this._def.checks.find((m=>m.kind==="time"))}get isDuration(){return!!this._def.checks.find((m=>m.kind==="duration"))}get isEmail(){return!!this._def.checks.find((m=>m.kind==="email"))}get isURL(){return!!this._def.checks.find((m=>m.kind==="url"))}get isEmoji(){return!!this._def.checks.find((m=>m.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((m=>m.kind==="uuid"))}get isNANOID(){return!!this._def.checks.find((m=>m.kind==="nanoid"))}get isCUID(){return!!this._def.checks.find((m=>m.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((m=>m.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((m=>m.kind==="ulid"))}get isIP(){return!!this._def.checks.find((m=>m.kind==="ip"))}get isBase64(){return!!this._def.checks.find((m=>m.kind==="base64"))}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,D=g>w?g:w;return parseInt(d.toFixed(D).replace(".",""))%parseInt(m.toFixed(D).replace(".",""))/Math.pow(10,D)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d?.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:D.message}),w.dirty()):D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="multipleOf"?floatSafeRemainder(m.data,D.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):D.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find((m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value)))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:d?.coerce||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="multipleOf"?m.data%D.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d?.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:d?.coerce||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:D.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const D of this._def.checks)D.kind==="min"?m.data.getTime()<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:D.message,inclusive:!0,exact:!1,minimum:D.value,type:"date"}),g.dirty()):D.kind==="max"?m.data.getTime()>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:D.message,inclusive:!0,exact:!1,maximum:D.value,type:"date"}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:d?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),D=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(D.exactLength!==null){const F=g.data.length>D.exactLength.value,U=g.data.length<D.exactLength.value;(F||U)&&(addIssueToContext(g,{code:F?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:U?D.exactLength.value:void 0,maximum:F?D.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:D.exactLength.message}),w.dirty())}if(D.minLength!==null&&g.data.length<D.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.minLength.value,type:"array",inclusive:!0,exact:!1,message:D.minLength.message}),w.dirty()),D.maxLength!==null&&g.data.length>D.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.maxLength.value,type:"array",inclusive:!0,exact:!1,message:D.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map(((F,U)=>D.type._parseAsync(new ParseInputLazyPath(g,F,g.path,U))))).then((F=>ParseStatus.mergeArray(w,F)));const P=[...g.data].map(((F,U)=>D.type._parseSync(new ParseInputLazyPath(g,F,g.path,U))));return ParseStatus.mergeArray(w,P)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map((m=>deepPartialify(m)))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const H=this._getOrReturnCtx(m);return addIssueToContext(H,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:H.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:D,keys:P}=this._getCached(),F=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const H in w.data)P.includes(H)||F.push(H);const U=[];for(const H of P){const q=D[H],X=w.data[H];U.push({key:{status:"valid",value:H},value:q._parse(new ParseInputLazyPath(w,X,w.path,H)),alwaysSet:H in w.data})}if(this._def.catchall instanceof ZodNever){const H=this._def.unknownKeys;if(H==="passthrough")for(const q of F)U.push({key:{status:"valid",value:q},value:{status:"valid",value:w.data[q]}});else if(H==="strict")F.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:F}),g.dirty());else if(H!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const H=this._def.catchall;for(const q of F){const X=w.data[q];U.push({key:{status:"valid",value:q},value:H._parse(new ParseInputLazyPath(w,X,w.path,q)),alwaysSet:q in w.data})}}return w.common.async?Promise.resolve().then((async()=>{const H=[];for(const q of U){const X=await q.key,V=await q.value;H.push({key:X,value:V,alwaysSet:q.alwaysSet})}return H})).then((H=>ParseStatus.mergeObjectSync(g,H))):ParseStatus.mergeObjectSync(g,U)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var D,P,F,U;const H=(F=(P=(D=this._def).errorMap)===null||P===void 0?void 0:P.call(D,g,w).message)!==null&&F!==void 0?F:w.defaultError;return g.code==="unrecognized_keys"?{message:(U=errorUtil.errToObj(m).message)!==null&&U!==void 0?U:H}:{message:H}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach((w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])})),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach((w=>{m[w]||(g[w]=this.shape[w])})),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach((w=>{const D=this.shape[w];m&&!m[w]?g[w]=D:g[w]=D.optional()})),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach((w=>{if(m&&!m[w])g[w]=this.shape[w];else{let D=this.shape[w];for(;D instanceof ZodOptional;)D=D._def.innerType;g[w]=D}})),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map((async D=>{const P={...g,common:{...g.common,issues:[]},parent:null};return{result:await D._parseAsync({data:g.data,path:g.path,parent:P}),ctx:P}}))).then((function(D){for(const F of D)if(F.result.status==="valid")return F.result;for(const F of D)if(F.result.status==="dirty")return g.common.issues.push(...F.ctx.common.issues),F.result;const P=D.map((F=>new ZodError(F.ctx.common.issues)));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:P}),INVALID}));{let D;const P=[];for(const U of w){const H={...g,common:{...g.common,issues:[]},parent:null},q=U._parseSync({data:g.data,path:g.path,parent:H});if(q.status==="valid")return q;q.status!=="dirty"||D||(D={result:q,ctx:H}),H.common.issues.length&&P.push(H.common.issues)}if(D)return g.common.issues.push(...D.ctx.common.issues),D.result;const F=P.map((U=>new ZodError(U)));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:F}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,D=g.data[w],P=this.optionsMap.get(D);return P?g.common.async?P._parseAsync({data:g.data,path:g.path,parent:g}):P._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const D=new Map;for(const P of g){const F=getDiscriminator(P.shape[m]);if(!F.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const U of F){if(D.has(U))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(U)}`);D.set(U,P)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:D,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const D=util$1.objectKeys(m),P=util$1.objectKeys(d).filter((U=>D.indexOf(U)!==-1)),F={...d,...m};for(const U of P){const H=mergeValues(d[U],m[U]);if(!H.valid)return{valid:!1};F[U]=H.data}return{valid:!0,data:F}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const D=[];for(let P=0;P<d.length;P++){const F=mergeValues(d[P],m[P]);if(!F.valid)return{valid:!1};D.push(F.data)}return{valid:!0,data:D}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=(P,F)=>{if(isAborted(P)||isAborted(F))return INVALID;const U=mergeValues(P.value,F.value);return U.valid?((isDirty(P)||isDirty(F))&&g.dirty(),{status:g.value,value:U.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then((([P,F])=>D(P,F))):D(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const D=[...w.data].map(((P,F)=>{const U=this._def.items[F]||this._def.rest;return U?U._parse(new ParseInputLazyPath(w,P,w.path,F)):null})).filter((P=>!!P));return w.common.async?Promise.all(D).then((P=>ParseStatus.mergeArray(g,P))):ParseStatus.mergeArray(g,D)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const D=[],P=this._def.keyType,F=this._def.valueType;for(const U in w.data)D.push({key:P._parse(new ParseInputLazyPath(w,U,w.path,U)),value:F._parse(new ParseInputLazyPath(w,w.data[U],w.path,U)),alwaysSet:U in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,D):ParseStatus.mergeObjectSync(g,D)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const D=this._def.keyType,P=this._def.valueType,F=[...w.data.entries()].map((([U,H],q)=>({key:D._parse(new ParseInputLazyPath(w,U,w.path,[q,"key"])),value:P._parse(new ParseInputLazyPath(w,H,w.path,[q,"value"]))})));if(w.common.async){const U=new Map;return Promise.resolve().then((async()=>{for(const H of F){const q=await H.key,X=await H.value;if(q.status==="aborted"||X.status==="aborted")return INVALID;q.status!=="dirty"&&X.status!=="dirty"||g.dirty(),U.set(q.value,X.value)}return{status:g.value,value:U}}))}{const U=new Map;for(const H of F){const q=H.key,X=H.value;if(q.status==="aborted"||X.status==="aborted")return INVALID;q.status!=="dirty"&&X.status!=="dirty"||g.dirty(),U.set(q.value,X.value)}return{status:g.value,value:U}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const D=this._def;D.minSize!==null&&w.data.size<D.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.minSize.value,type:"set",inclusive:!0,exact:!1,message:D.minSize.message}),g.dirty()),D.maxSize!==null&&w.data.size>D.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.maxSize.value,type:"set",inclusive:!0,exact:!1,message:D.maxSize.message}),g.dirty());const P=this._def.valueType;function F(H){const q=new Set;for(const X of H){if(X.status==="aborted")return INVALID;X.status==="dirty"&&g.dirty(),q.add(X.value)}return{status:g.value,value:q}}const U=[...w.data.values()].map(((H,q)=>P._parse(new ParseInputLazyPath(w,H,w.path,q))));return w.common.async?Promise.all(U).then((H=>F(H))):F(U)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(U,H){return makeIssue({data:U,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter((q=>!!q)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:H}})}function D(U,H){return makeIssue({data:U,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter((q=>!!q)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:H}})}const P={errorMap:g.common.contextualErrorMap},F=g.data;if(this._def.returns instanceof ZodPromise){const U=this;return OK((async function(...H){const q=new ZodError([]),X=await U._def.args.parseAsync(H,P).catch((et=>{throw q.addIssue(w(H,et)),q})),V=await Reflect.apply(F,this,X);return await U._def.returns._def.type.parseAsync(V,P).catch((et=>{throw q.addIssue(D(V,et)),q}))}))}{const U=this;return OK((function(...H){const q=U._def.args.safeParse(H,P);if(!q.success)throw new ZodError([w(H,q.error)]);const X=Reflect.apply(F,this,q.data),V=U._def.returns.safeParse(X,P);if(!V.success)throw new ZodError([D(X,V.error)]);return V.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter((w=>!m.includes(w))),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const D=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(D),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const D=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:D}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then((D=>this._def.type.parseAsync(D,{path:g.path,errorMap:g.common.contextualErrorMap}))))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=this._def.effect||null,P={addIssue:F=>{addIssueToContext(w,F),F.fatal?g.abort():g.dirty()},get path(){return w.path}};if(P.addIssue=P.addIssue.bind(P),D.type==="preprocess"){const F=D.transform(w.data,P);if(w.common.async)return Promise.resolve(F).then((async U=>{if(g.value==="aborted")return INVALID;const H=await this._def.schema._parseAsync({data:U,path:w.path,parent:w});return H.status==="aborted"?INVALID:H.status==="dirty"||g.value==="dirty"?DIRTY(H.value):H}));{if(g.value==="aborted")return INVALID;const U=this._def.schema._parseSync({data:F,path:w.path,parent:w});return U.status==="aborted"?INVALID:U.status==="dirty"||g.value==="dirty"?DIRTY(U.value):U}}if(D.type==="refinement"){const F=U=>{const H=D.refinement(U,P);if(w.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return U};if(w.common.async===!1){const U=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return U.status==="aborted"?INVALID:(U.status==="dirty"&&g.dirty(),F(U.value),{status:g.value,value:U.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then((U=>U.status==="aborted"?INVALID:(U.status==="dirty"&&g.dirty(),F(U.value).then((()=>({status:g.value,value:U.value}))))))}if(D.type==="transform"){if(w.common.async===!1){const F=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(F))return F;const U=D.transform(F.value,P);if(U instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:U}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then((F=>isValid(F)?Promise.resolve(D.transform(F.value,P)).then((U=>({status:g.value,value:U}))):F))}util$1.assertNever(D)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},D=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync(D)?D.then((P=>({status:"valid",value:P.status==="valid"?P.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}))):{status:"valid",value:D.status==="valid"?D.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const D=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),DIRTY(D.value)):this._def.out._parseAsync({data:D.value,path:w.path,parent:w})})();{const D=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),{status:"dirty",value:D.value}):this._def.out._parseSync({data:D.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=D=>(isValid(D)&&(D.value=Object.freeze(D.value)),D);return isAsync(g)?g.then((D=>w(D))):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine(((w,D)=>{var P,F;if(!d(w)){const U=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,H=(F=(P=U.fatal)!==null&&P!==void 0?P:g)===null||F===void 0||F,q=typeof U=="string"?{message:U}:U;D.addIssue({code:"custom",...q,fatal:H})}})):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom((g=>g instanceof d),m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:D=0,y:P=0,srcX:F=0,srcY:U=0,srcW:H=w.bitmap.width,srcH:q=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof D!="number"||typeof P!="number")throw new Error("x and y must be numbers");D=Math.round(D),P=Math.round(P),F=Math.round(F),U=Math.round(U),H=Math.round(H),q=Math.round(q);const X=d.bitmap.width,V=d.bitmap.height;return scan(w,F,U,H,q,(function(J,et,at){const ot=D+J-F,ut=P+et-U;if(ot>=0&&ut>=0&&X-ot>0&&V-ut>0){const yt=d.getPixelIndex(ot,ut),vt={r:w.bitmap.data[at]||0,g:w.bitmap.data[at+1]||0,b:w.bitmap.data[at+2]||0,a:w.bitmap.data[at+3]||0},mt={r:d.bitmap.data[yt]||0,g:d.bitmap.data[yt+1]||0,b:d.bitmap.data[yt+2]||0,a:d.bitmap.data[yt+3]||0};d.bitmap.data[yt]=(vt.a*(vt.r-mt.r)-mt.r+255>>8)+mt.r,d.bitmap.data[yt+1]=(vt.a*(vt.g-mt.g)-mt.g+255>>8)+mt.g,d.bitmap.data[yt+2]=(vt.a*(vt.b-mt.b)-mt.b+255>>8)+mt.b,d.bitmap.data[yt+3]=limit255(mt.a+vt.a)}})),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,D,P,F,U,H,q,X,V,J,et,at;const ot=d.bitmap.width-1,ut=d.bitmap.height-1,yt=m+1,vt=mulTable[m],mt=shgTable[m],dt=[],gt=[],At=[],_t=[],Mt=[],wt=[];let zt=2;for(;zt-- >0;){for(et=0,at=0,U=0;U<d.bitmap.height;U++){for(g=d.bitmap.data[at]*yt,w=d.bitmap.data[at+1]*yt,D=d.bitmap.data[at+2]*yt,P=d.bitmap.data[at+3]*yt,H=1;H<=m;H++)q=at+((H>ot?ot:H)<<2),g+=d.bitmap.data[q++],w+=d.bitmap.data[q++],D+=d.bitmap.data[q++],P+=d.bitmap.data[q];for(F=0;F<d.bitmap.width;F++)dt[et]=g,gt[et]=w,At[et]=D,_t[et]=P,U===0&&(Mt[F]=((q=F+yt)<ot?q:ot)<<2,wt[F]=(q=F-m)>0?q<<2:0),X=at+Mt[F],V=at+wt[F],g+=d.bitmap.data[X++]-d.bitmap.data[V++],w+=d.bitmap.data[X++]-d.bitmap.data[V++],D+=d.bitmap.data[X++]-d.bitmap.data[V++],P+=d.bitmap.data[X]-d.bitmap.data[V++],et++;at+=d.bitmap.width<<2}for(F=0;F<d.bitmap.width;F++){for(J=F,g=dt[J]*yt,w=gt[J]*yt,D=At[J]*yt,P=_t[J]*yt,H=1;H<=m;H++)J+=H>ut?0:d.bitmap.width,g+=dt[J],w+=gt[J],D+=At[J],P+=_t[J];for(et=F<<2,U=0;U<d.bitmap.height;U++)d.bitmap.data[et]=limit255(g*vt>>>mt),d.bitmap.data[et+1]=limit255(w*vt>>>mt),d.bitmap.data[et+2]=limit255(D*vt>>>mt),d.bitmap.data[et+3]=limit255(P*vt>>>mt),F===0&&(Mt[U]=((q=U+yt)<ut?q:ut)*d.bitmap.width,wt[U]=(q=U-m)>0?q*d.bitmap.width:0),X=F+Mt[U],V=F+wt[U],g+=dt[X]-dt[V],w+=gt[X]-gt[V],D+=At[X]-At[V],P+=_t[X]-_t[V],et+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,D=m*m*2,P=D*Math.PI,F=[];for(let U=0;U<w;U++){const H=[];for(let q=0;q<w;q++){const X=(q-g)**2+(U-g)**2;H[q]=Math.exp(-X/D)/P}F.push(H)}for(let U=0;U<d.bitmap.height;U++)for(let H=0;H<d.bitmap.width;H++){let q=0,X=0,V=0,J=0,et=0;for(let at=0;at<w;at++){for(let ut=0;ut<w;ut++){const yt=Math.min(d.bitmap.width-1,Math.max(0,ut+H-g)),vt=Math.min(d.bitmap.height-1,Math.max(0,at+U-g)),mt=F[at][ut],dt=vt*d.bitmap.width+yt<<2;q+=d.bitmap.data[dt]*mt,X+=d.bitmap.data[dt+1]*mt,V+=d.bitmap.data[dt+2]*mt,J+=d.bitmap.data[dt+3]*mt,et+=mt}const ot=U*d.bitmap.width+H<<2;d.bitmap.data[ot]=Math.round(q/et),d.bitmap.data[ot+1]=Math.round(X/et),d.bitmap.data[ot+2]=Math.round(V/et),d.bitmap.data[ot+3]=Math.round(J/et)}}return d}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,D=typeof g.x=="number"?g.x:d.bitmap.width/2,P=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan(((F,U,H)=>{const q=Math.sqrt(Math.pow(F-D,2)+Math.pow(U-P,2));w-q<=0?d.bitmap.data[H+3]=0:w-q<1&&(d.bitmap.data[H+3]=255*(w-q))})),d}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const D=[0,0,0,0],P=(m.length-1)/2;for(let F=0;F<m.length;F+=1)for(let U=0;U<m[F].length;U+=1){const H=d.getPixelIndex(g+F-P,w+U-P);D[0]+=d.bitmap.data[H]*m[F][U],D[1]+=d.bitmap.data[H+1]*m[F][U],D[2]+=d.bitmap.data[H+2]*m[F][U],D[3]+=d.bitmap.data[H+3]*m[F][U]}return D}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan(((g,w,D)=>{m.r[d.bitmap.data[D+0]]++,m.g[d.bitmap.data[D+1]]++,m.b[d.bitmap.data[D+2]]++})),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex((m=>m>0)),255-d.slice().reverse().findIndex((m=>m>0))]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan(((w,D,P)=>{const F=d.bitmap.data[P+0],U=d.bitmap.data[P+1],H=d.bitmap.data[P+2];d.bitmap.data[P+0]=normalizeValue(F,g.r[0],g.r[1]),d.bitmap.data[P+1]=normalizeValue(U,g.g[0],g.g[1]),d.bitmap.data[P+2]=normalizeValue(H,g.b[0],g.b[1])})),d},invert:d=>(d.scan(((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]})),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan(((g,w,D)=>{d.bitmap.data[D]=limit255(d.bitmap.data[D]*m),d.bitmap.data[D+1]=limit255(d.bitmap.data[D+1]*m),d.bitmap.data[D+2]=limit255(d.bitmap.data[D+2]*m)})),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(D){return(D=Math.floor(g*(D-127)+127))<0?0:D>255?255:D}return d.scan(((D,P,F)=>{d.bitmap.data[F]=w(d.bitmap.data[F]),d.bitmap.data[F+1]=w(d.bitmap.data[F+1]),d.bitmap.data[F+2]=w(d.bitmap.data[F+2])})),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan(((g,w,D)=>{const P=d.bitmap.data[D],F=d.bitmap.data[D+1],U=d.bitmap.data[D+2];d.bitmap.data[D]=Math.floor(P/255*(m-1))/(m-1)*255,d.bitmap.data[D+1]=Math.floor(F/255*(m-1))/(m-1)*255,d.bitmap.data[D+2]=Math.floor(U/255*(m-1))/(m-1)*255})),d},greyscale:d=>(d.scan(((m,g,w)=>{const D=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=D,d.bitmap.data[w+1]=D,d.bitmap.data[w+2]=D})),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan(((g,w,D)=>{const P=d.bitmap.data[D+3]*m;d.bitmap.data[D+3]=P})),d},sepia:d=>(d.scan(((m,g,w)=>{let D=d.bitmap.data[w],P=d.bitmap.data[w+1],F=d.bitmap.data[w+2];D=.393*D+.769*P+.189*F,P=.349*D+.686*P+.168*F,F=.272*D+.534*P+.131*F,d.bitmap.data[w]=D<255?D:255,d.bitmap.data[w+1]=P<255?P:255,d.bitmap.data[w+2]=F<255?F:255})),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:D=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const P=Buffer.from(d.bitmap.data),F=w.length,U=w[0].length,H=Math.floor(F/2),q=Math.floor(U/2),X=-H,V=-q;let J,et,at,ot,ut,yt,vt,mt,dt,gt;return d.scan(((At,_t,Mt)=>{ot=0,at=0,et=0;for(let wt=X;wt<=H;wt++)for(let zt=V;zt<=q;zt++)mt=At+zt,dt=_t+wt,J=w[wt+H][zt+q],gt=d.getPixelIndex(mt,dt,D),gt===-1?(vt=0,yt=0,ut=0):(ut=d.bitmap.data[gt+0],yt=d.bitmap.data[gt+1],vt=d.bitmap.data[gt+2]),et+=J*ut,at+=J*yt,ot+=J*vt;et<0&&(et=0),at<0&&(at=0),ot<0&&(ot=0),et>255&&(et=255),at>255&&(at=255),ot>255&&(ot=255),P[Mt+0]=et,P[Mt+1]=at,P[Mt+2]=ot})),d.bitmap.data=P,d},opaque:d=>(d.scan(((m,g,w)=>{d.bitmap.data[w+3]=255})),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:D=0,y:P=0,w:F=d.bitmap.width-D,h:U=d.bitmap.height-P}=typeof g=="number"?{size:g}:g,H=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],q=clone(d);return scan(q,D,P,F,U,((X,V,J)=>{X=w*Math.floor(X/w),V=w*Math.floor(V/w);const et=applyKernel(q,H,X,V);d.bitmap.data[J]=et[0],d.bitmap.data[J+1]=et[1],d.bitmap.data[J+2]=et[2],d.bitmap.data[J+3]=et[3]})),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:D=0,y:P=0,w:F=d.bitmap.width-D,h:U=d.bitmap.height-P}="kernel"in g?g:{kernel:g},H=clone(d);return scan(H,D,P,F,U,((q,X,V)=>{const J=applyKernel(H,w,q,X);d.bitmap.data[V]=limit255(J[0]),d.bitmap.data[V+1]=limit255(J[1]),d.bitmap.data[V+2]=limit255(J[2]),d.bitmap.data[V+3]=limit255(J[3])})),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach((g=>ColorActionNameSchema.parse(g))),m=m.map((g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g))),d.scan(((g,w,D)=>{let P={r:d.bitmap.data[D],g:d.bitmap.data[D+1],b:d.bitmap.data[D+2]};const F=(U,H)=>limit255(P[U]+H);m.forEach((U=>{if(U.apply==="mix")P=mix(P,U.params[0],U.params[1]);else if(U.apply==="tint")P=mix(P,{r:255,g:255,b:255},U.params?.[0]);else if(U.apply==="shade")P=mix(P,{r:0,g:0,b:0},U.params?.[0]);else if(U.apply==="xor")P={r:P.r^U.params[0].r,g:P.g^U.params[0].g,b:P.b^U.params[0].b};else if(U.apply==="red")P.r=F("r",U.params[0]);else if(U.apply==="green")P.g=F("g",U.params[0]);else if(U.apply==="blue")P.b=F("b",U.params[0]);else{U.apply==="hue"&&(U.apply="spin");const H=tinycolor(P),q=H[U.apply].bind(H);if(!q)throw new Error("action "+U.apply+" not supported");P=q(...U.params||[]).toRgb()}})),d.bitmap.data[D]=P.r,d.bitmap.data[D+1]=P.g,d.bitmap.data[D+2]=P.b})),d}};var lib$1={},ieee754={read:function(d,m,g,w,D){var P,F,U=8*D-w-1,H=(1<<U)-1,q=H>>1,X=-7,V=g?D-1:0,J=g?-1:1,et=d[m+V];for(V+=J,P=et&(1<<-X)-1,et>>=-X,X+=U;X>0;P=256*P+d[m+V],V+=J,X-=8);for(F=P&(1<<-X)-1,P>>=-X,X+=w;X>0;F=256*F+d[m+V],V+=J,X-=8);if(P===0)P=1-q;else{if(P===H)return F?NaN:1/0*(et?-1:1);F+=Math.pow(2,w),P-=q}return(et?-1:1)*F*Math.pow(2,P-w)},write:function(d,m,g,w,D,P){var F,U,H,q=8*P-D-1,X=(1<<q)-1,V=X>>1,J=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,et=w?0:P-1,at=w?1:-1,ot=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(U=isNaN(m)?1:0,F=X):(F=Math.floor(Math.log(m)/Math.LN2),m*(H=Math.pow(2,-F))<1&&(F--,H*=2),(m+=F+V>=1?J/H:J*Math.pow(2,1-V))*H>=2&&(F++,H/=2),F+V>=X?(U=0,F=X):F+V>=1?(U=(m*H-1)*Math.pow(2,D),F+=V):(U=m*Math.pow(2,V-1)*Math.pow(2,D),F=0));D>=8;d[g+et]=255&U,et+=at,U/=256,D-=8);for(F=F<<D|U,q+=D;q>0;d[g+et]=255&F,et+=at,F/=256,q-=8);d[g+et-at]|=128*ot}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(D){return new DataView(D.buffer,D.byteOffset)}d.UINT8={len:1,get:(D,P)=>g(D).getUint8(P),put:(D,P,F)=>(g(D).setUint8(P,F),P+1)},d.UINT16_LE={len:2,get:(D,P)=>g(D).getUint16(P,!0),put:(D,P,F)=>(g(D).setUint16(P,F,!0),P+2)},d.UINT16_BE={len:2,get:(D,P)=>g(D).getUint16(P),put:(D,P,F)=>(g(D).setUint16(P,F),P+2)},d.UINT24_LE={len:3,get(D,P){const F=g(D);return F.getUint8(P)+(F.getUint16(P+1,!0)<<8)},put(D,P,F){const U=g(D);return U.setUint8(P,255&F),U.setUint16(P+1,F>>8,!0),P+3}},d.UINT24_BE={len:3,get(D,P){const F=g(D);return(F.getUint16(P)<<8)+F.getUint8(P+2)},put(D,P,F){const U=g(D);return U.setUint16(P,F>>8),U.setUint8(P+2,255&F),P+3}},d.UINT32_LE={len:4,get:(D,P)=>g(D).getUint32(P,!0),put:(D,P,F)=>(g(D).setUint32(P,F,!0),P+4)},d.UINT32_BE={len:4,get:(D,P)=>g(D).getUint32(P),put:(D,P,F)=>(g(D).setUint32(P,F),P+4)},d.INT8={len:1,get:(D,P)=>g(D).getInt8(P),put:(D,P,F)=>(g(D).setInt8(P,F),P+1)},d.INT16_BE={len:2,get:(D,P)=>g(D).getInt16(P),put:(D,P,F)=>(g(D).setInt16(P,F),P+2)},d.INT16_LE={len:2,get:(D,P)=>g(D).getInt16(P,!0),put:(D,P,F)=>(g(D).setInt16(P,F,!0),P+2)},d.INT24_LE={len:3,get(D,P){const F=d.UINT24_LE.get(D,P);return F>8388607?F-16777216:F},put(D,P,F){const U=g(D);return U.setUint8(P,255&F),U.setUint16(P+1,F>>8,!0),P+3}},d.INT24_BE={len:3,get(D,P){const F=d.UINT24_BE.get(D,P);return F>8388607?F-16777216:F},put(D,P,F){const U=g(D);return U.setUint16(P,F>>8),U.setUint8(P+2,255&F),P+3}},d.INT32_BE={len:4,get:(D,P)=>g(D).getInt32(P),put:(D,P,F)=>(g(D).setInt32(P,F),P+4)},d.INT32_LE={len:4,get:(D,P)=>g(D).getInt32(P,!0),put:(D,P,F)=>(g(D).setInt32(P,F,!0),P+4)},d.UINT64_LE={len:8,get:(D,P)=>g(D).getBigUint64(P,!0),put:(D,P,F)=>(g(D).setBigUint64(P,F,!0),P+8)},d.INT64_LE={len:8,get:(D,P)=>g(D).getBigInt64(P,!0),put:(D,P,F)=>(g(D).setBigInt64(P,F,!0),P+8)},d.UINT64_BE={len:8,get:(D,P)=>g(D).getBigUint64(P),put:(D,P,F)=>(g(D).setBigUint64(P,F),P+8)},d.INT64_BE={len:8,get:(D,P)=>g(D).getBigInt64(P),put:(D,P,F)=>(g(D).setBigInt64(P,F),P+8)},d.Float16_BE={len:2,get(D,P){return m.read(D,P,!1,10,this.len)},put(D,P,F){return m.write(D,F,P,!1,10,this.len),P+this.len}},d.Float16_LE={len:2,get(D,P){return m.read(D,P,!0,10,this.len)},put(D,P,F){return m.write(D,F,P,!0,10,this.len),P+this.len}},d.Float32_BE={len:4,get:(D,P)=>g(D).getFloat32(P),put:(D,P,F)=>(g(D).setFloat32(P,F),P+4)},d.Float32_LE={len:4,get:(D,P)=>g(D).getFloat32(P,!0),put:(D,P,F)=>(g(D).setFloat32(P,F,!0),P+4)},d.Float64_BE={len:8,get:(D,P)=>g(D).getFloat64(P),put:(D,P,F)=>(g(D).setFloat64(P,F),P+8)},d.Float64_LE={len:8,get:(D,P)=>g(D).getFloat64(P,!0),put:(D,P,F)=>(g(D).setFloat64(P,F,!0),P+8)},d.Float80_BE={len:10,get(D,P){return m.read(D,P,!1,63,this.len)},put(D,P,F){return m.write(D,F,P,!1,63,this.len),P+this.len}},d.Float80_LE={len:10,get(D,P){return m.read(D,P,!0,63,this.len)},put(D,P,F){return m.write(D,F,P,!0,63,this.len),P+this.len}},d.IgnoreType=class{constructor(D){this.len=D}get(D,P){}},d.Uint8ArrayType=class{constructor(D){this.len=D}get(D,P){return D.subarray(P,P+this.len)}},d.BufferType=class{constructor(D){this.len=D}get(D,P){return Buffer.from(D.subarray(P,P+this.len))}},d.StringType=class{constructor(D,P){this.len=D,this.encoding=P}get(D,P){return Buffer.from(D).toString(this.encoding,P,P+this.len)}};class w{constructor(P){this.len=P}static decode(P,F,U){let H="";for(let q=F;q<U;++q)H+=w.codePointToString(w.singleByteDecoder(P[q]));return H}static inRange(P,F,U){return F<=P&&P<=U}static codePointToString(P){return P<=65535?String.fromCharCode(P):(P-=65536,String.fromCharCode(55296+(P>>10),56320+(1023&P)))}static singleByteDecoder(P){if(w.inRange(P,0,127))return P;const F=w.windows1252[P-128];if(F===null)throw Error("invaliding encoding");return F}get(P,F=0){return w.decode(P,F,F+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((m,g)=>{this.reject=g,this.resolve=m}))}}Deferred$1.Deferred=Deferred,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(D){if(this.s=D,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!D.read||!D.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new m.EndOfStreamError))),this.s.once("error",(P=>this.reject(P))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(D,P,F){const U=await this.read(D,P,F);return this.peekQueue.push(D.subarray(P,P+U)),U}async read(D,P,F){if(F===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let U=F,H=0;for(;this.peekQueue.length>0&&U>0;){const q=this.peekQueue.pop();if(!q)throw new Error("peekData should be defined");const X=Math.min(q.length,U);D.set(q.subarray(0,X),P+H),H+=X,U-=X,X<q.length&&this.peekQueue.push(q.subarray(X))}for(;U>0&&!this.endOfStream;){const q=Math.min(U,1048576),X=await this.readFromStream(D,P+H,q);if(H+=X,X<q)break;U-=X}return H}async readFromStream(D,P,F){const U=this.s.read(F);if(U)return D.set(U,P),U.length;{const H={buffer:D,offset:P,length:F,deferred:new g.Deferred};return this.deferred=H.deferred,this.s.once("readable",(()=>{this.readDeferred(H)})),H.deferred.promise}}readDeferred(D){const P=this.s.read(D.length);P?(D.buffer.set(P,D.offset),D.deferred.resolve(P.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(D)}))}reject(D){this.endOfStream=!0,this.deferred&&(this.deferred.reject(D),this.deferred=null)}}})(StreamReader),(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})})(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),D=w.position-this.position;if(D>0)return await this.ignore(D),this.readBuffer(m,g);if(D<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const P=await this.streamReader.read(m,w.offset,w.length);if(this.position+=P,(!g||!g.mayBeLess)&&P<w.length)throw new peek_readable_1$1.EndOfStreamError;return P}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let D=0;if(w.position){const P=w.position-this.position;if(P>0){const F=new Uint8Array(w.length+P);return D=await this.peekBuffer(F,{mayBeLess:w.mayBeLess}),m.set(F.subarray(P),w.offset),D-P}if(P<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{D=await this.streamReader.peek(m,w.offset,w.length)}catch(P){if(g&&g.mayBeLess&&P instanceof peek_readable_1$1.EndOfStreamError)return 0;throw P}if(!w.mayBeLess&&D<w.length)throw new peek_readable_1$1.EndOfStreamError}return D}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let D=0;for(;D<m;){const P=m-D,F=await this.readBuffer(w,{length:Math.min(g,P)});if(F<0)return F;D+=F}return D}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),D=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&D<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+D),w.offset),D}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(D,P){return P=P||{},new m.ReadStreamTokenizer(D,P)},d.fromBuffer=function(D,P){return new g.BufferTokenizer(D,P)}})(core$1);var util={stringToBytes:d=>[...d].map((m=>m.charCodeAt(0))),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let D=m;D<m+148;D++)w+=d[D];for(let D=m+156;D<m+512;D++)w+=d[D];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,D]of m.entries())if(g.mask){if(D!==(g.mask[w]&d[w+g.offset]))return!1}else if(D!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(D,P)=>_check(m,D,P),w=(D,P)=>g(stringToBytes(D),P);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const D=await d.readToken(uint32SyncSafeToken);return d.position+D>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(D),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const D={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(D.filename=await d.readToken(new Token.StringType(D.filenameLength,"utf-8")),await d.ignore(D.extraFieldLength),D.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(D.filename.endsWith(".rels")||D.filename.endsWith(".xml"))switch(D.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(D.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(D.filename.startsWith("3D/")&&D.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(D.filename==="mimetype"&&D.compressedSize===D.uncompressedSize)switch(await d.readToken(new Token.StringType(D.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(D.compressedSize===0){let P=-1;for(;P<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),P=m.indexOf("504B0304",0,"hex"),await d.ignore(P>=0?P:m.length)}else await d.ignore(D.compressedSize)}}catch(D){if(!(D instanceof strtok3.EndOfStreamError))throw D}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const D=Buffer.alloc(8);return await d.readBuffer(D),_check(D,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(D,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(D,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(D,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(D,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(D,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const D=m.toString("binary",8,12).replace("\0"," ").trim();switch(D){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return D.startsWith("3g")?D.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const D=10485760,P=Buffer.alloc(Math.min(D,d.fileInfo.size));return await d.readBuffer(P,{mayBeLess:!0}),P.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function D(){const H=await d.peekNumber(Token.UINT8);let q=128,X=0;for(;!(H&q)&&q!==0;)++X,q>>=1;const V=Buffer.alloc(X+1);return await d.readBuffer(V),V}async function P(){const H=await D(),q=await D();q[0]^=128>>q.length-1;const X=Math.min(6,q.length);return{id:H.readUIntBE(0,H.length),len:q.readUIntBE(q.length-X,X)}}async function F(H,q){for(;q>0;){const X=await P();if(X.id===17026)return d.readToken(new Token.StringType(X.len,"utf-8"));await d.ignore(X.len),--q}}const U=await P();switch(await F(0,U.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function D(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const P=await D();if(P.length<0)return;switch(P.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(P.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function D(){const P=Buffer.alloc(16);return await d.readBuffer(P),{id:P,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const P=await D();let F=P.size-24;if(_check(P.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const U=Buffer.alloc(16);if(F-=await d.readBuffer(U),_check(U,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(U,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(F)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const D=m.readUInt32LE(12);if(D>12&&m.length>=D+16)try{const P=m.slice(16,D+16).toString();if(JSON.parse(P).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,(()=>{})):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then((function(g){return[null,g]})).catch((function(g){return[g,void 0]}))}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map((function(D){return D.toLowerCase()}));g=g.toLowerCase();for(let D=0;D<w.length;D++){const P=w[D];if(P[0]!=="*"){if(!m&&P in this._types)throw new Error('Attempt to change mapping for "'+P+'" extension from "'+this._types[P]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+P+'" from the list of extensions for "'+g+'".');this._types[P]=g}}if(m||!this._extensions[g]){const D=w[0];this._extensions[g]=D[0]!=="*"?D:D.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(D*U+D*(1-m.a)+U*(1-d.a))/w,g:(P*H+P*(1-m.a)+H*(1-d.a))/w,b:(F*q+F*(1-m.a)+q*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a;return{r:(D+m.r*m.a)/w,g:(P+m.g*m.a)/w,b:(F+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(D*m.a+U*d.a-D*U+D*(1-m.a)+U*(1-d.a))/w,g:(P*m.a+H*d.a-P*H+P*(1-m.a)+H*(1-d.a))/w,b:(F*m.a+q*d.a-F*q+F*(1-m.a)+q*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(2*U<=m.a?2*D*U+D*(1-m.a)+U*(1-d.a):D*(1+m.a)+U*(1+d.a)-2*U*D-m.a*d.a)/w,g:(2*H<=m.a?2*P*H+P*(1-m.a)+H*(1-d.a):P*(1+m.a)+H*(1+d.a)-2*H*P-m.a*d.a)/w,b:(2*q<=m.a?2*F*q+F*(1-m.a)+q*(1-d.a):F*(1+m.a)+q*(1+d.a)-2*q*F-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(Math.min(D*m.a,U*d.a)+D*(1-m.a)+U*(1-d.a))/w,g:(Math.min(P*m.a,H*d.a)+P*(1-m.a)+H*(1-d.a))/w,b:(Math.min(F*m.a,q*d.a)+F*(1-m.a)+q*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(Math.max(D*m.a,U*d.a)+D*(1-m.a)+U*(1-d.a))/w,g:(Math.max(P*m.a,H*d.a)+P*(1-m.a)+H*(1-d.a))/w,b:(Math.max(F*m.a,q*d.a)+F*(1-m.a)+q*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(2*D<=d.a?2*D*U+D*(1-m.a)+U*(1-d.a):D*(1+m.a)+U*(1+d.a)-2*U*D-m.a*d.a)/w,g:(2*P<=d.a?2*P*H+P*(1-m.a)+H*(1-d.a):P*(1+m.a)+H*(1+d.a)-2*H*P-m.a*d.a)/w,b:(2*F<=d.a?2*F*q+F*(1-m.a)+q*(1-d.a):F*(1+m.a)+q*(1+d.a)-2*q*F-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(D+U-2*Math.min(D*m.a,U*d.a))/w,g:(P+H-2*Math.min(P*m.a,H*d.a))/w,b:(F+q-2*Math.min(F*m.a,q*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,P=d.g*d.a,F=d.b*d.a,U=m.r*m.a,H=m.g*m.a,q=m.b*m.a;return{r:(D*m.a+U*d.a-2*D*U+D*(1-m.a)+U*(1-d.a))/w,g:(P*m.a+H*d.a-2*P*H+P*(1-m.a)+H*(1-d.a))/w,b:(F*m.a+q*d.a-2*F*q+F*(1-m.a)+q*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,D={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:P=BlendMode.SRC_OVER}=D;let{opacitySource:F=1,opacityDest:U=1}=D;(typeof F!="number"||F<0||F>1)&&(F=1),(typeof U!="number"||U<0||U>1)&&(U=1);const H=compositeModes[P];return g=Math.round(g),w=Math.round(w),U!==1&&d.scan(((q,X,V)=>{const J=d.bitmap.data[V+3]*U;d.bitmap.data[V+3]=J})),m.scan(((q,X,V)=>{const J=d.getPixelIndex(g+q,w+X,Edge.CROP);if(J===-1)return;const et=H({r:m.bitmap.data[V+0]/255,g:m.bitmap.data[V+1]/255,b:m.bitmap.data[V+2]/255,a:m.bitmap.data[V+3]/255},{r:d.bitmap.data[J+0]/255,g:d.bitmap.data[J+1]/255,b:d.bitmap.data[J+2]/255,a:d.bitmap.data[J+3]/255},F);d.bitmap.data[J+0]=limit255(255*et.r),d.bitmap.data[J+1]=limit255(255*et.g),d.bitmap.data[J+2]=limit255(255*et.b),d.bitmap.data[J+3]=limit255(255*et.a)})),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,D=m.nextUInt16(),P=m.nextUInt16(),F=getBytesPerComponent(P),U=m.nextUInt32(),H=F*U;if(H>4&&(m=d.openWithOffset(m.nextUInt32())),P===2){var q=(g=m.nextString(U)).indexOf("\0");q!==-1&&(g=g.substr(0,q))}else if(P===7)g=m.nextBuffer(U);else if(P!==0)for(g=[],w=0;w<U;++w)g.push(readExifValue(P,m));return H<4&&m.skip(4-H),[D,g,P]}function readIFDSection(d,m,g){var w,D,P=m.nextUInt16();for(D=0;D<P;++D)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,D,P;try{g=readHeader(d)}catch{return!1}var F=g.openWithOffset(d.nextUInt32()),U=this.IFD0;readIFDSection(g,F,(function(at,ot,ut){switch(at){case 34853:D=ot[0];break;case 34665:w=ot[0];break;default:m(U,at,ot,ut)}}));var H=F.nextUInt32();if(H!==0){var q=g.openWithOffset(H);readIFDSection(g,q,m.bind(null,this.IFD1))}if(D){var X=g.openWithOffset(D);readIFDSection(g,X,m.bind(null,this.GPSIFD))}if(w){var V=g.openWithOffset(w),J=this.InteropIFD;readIFDSection(g,V,(function(at,ot,ut){at===40965?P=ot[0]:m(J,at,ot,ut)}))}if(P){var et=g.openWithOffset(P);readIFDSection(g,et,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,D=d[2],P=m[0],F=m[1],U=m[2];return Date.UTC(g,w,D,P,F,U,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),D=w[0]*hours+w[1]*minutes,P=parseDateTimeParts(m,g);if(typeof(P-=D)=="number"&&!isNaN(P))return P}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach((function(g){var w=d(g);if(w){var D=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,P=(w[0]+w[1]/60+w[2]/3600)*D;m(g,P)}}))},castDateValues:function(d,m){dateTags.forEach((function(g){var w=d(g);if(w){var D=date.parseExifDate(w);D!==void 0&&m(g,D)}}))},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map((function(g){return m===10||m===5?g[0]/g[1]:g}))).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,D,P,F){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=D,this.thumbnailType=P,this.app1Offset=F}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,(function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))})),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,D,P,F,U,H,q=this.stream.mark(),X=q.openWithOffset(0),V=this.flags;return V.resolveTagNames&&(F=requireExifTags()),V.resolveTagNames?(d={},U=function(J){return d[J.name]},H=function(J,et){d[J.name]=et}):(d=[],U=function(J){var et;for(et=0;et<d.length;++et)if(d[et].type===J.type&&d[et].section===J.section)return d.value},H=function(J,et){var at;for(at=0;at<d.length;++at)if(d[at].type===J.type&&d[at].section===J.section)return void(d.value=et)}),jpeg.parseSections(X,(function(J,et){var at=et.offsetFrom(q);J===225?exif.parseTags(et,(function(ot,ut,yt,vt){if(V.readBinaryTags||vt!==7){if(ut===513){if(g=yt[0],V.hidePointers)return}else if(ut===514){if(w=yt[0],V.hidePointers)return}else if(ut===259&&(D=yt[0],V.hidePointers))return;if(V.returnTags)if(V.simplifyValues&&(yt=simplify.simplifyValue(yt,vt)),V.resolveTagNames){var mt=(ot===exif.GPSIFD?F.gps:F.exif)[ut];mt||(mt=F.exif[ut]),d.hasOwnProperty(mt)||(d[mt]=yt)}else d.push({section:ot,type:ut,value:yt})}}))&&(P=at):V.imageSize&&jpeg.getSectionName(J).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(et))})),V.simplifyValues&&(simplify.castDegreeValues(U,H),simplify.castDateValues(U,H)),new ExifResult(q,d,m,g,w,D,P)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,D,P,F){this.global=P,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new P.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(D),this.offset=0,this.parentOffset=(F||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,D){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(D)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,D){return[m-w-1,D]};case 3:return function(w,D){return[m-w-1,g-D-1]};case 4:return function(w,D){return[w,g-D-1]};case 5:return function(w,D){return[D,w]};case 6:return function(w,D){return[D,g-w-1]};case 7:return function(w,D){return[m-D-1,g-w-1]};case 8:return function(w,D){return[m-D-1,w]}}}function transformBitmap(d,m,g,w){const D=d.bitmap.data,P=d.bitmap.width,F=Buffer.alloc(D.length);for(let U=0;U<m;U++)for(let H=0;H<g;H++){const[q,X]=w(U,H),V=m*H+U<<2,J=P*X+q<<2,et=D.readUInt32BE(J);F.writeUInt32BE(et,V)}d.bitmap.data=F,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,D=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,D,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map((P=>P())),D=class{constructor(P=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in P)this.bitmap=P;else if(this.bitmap={data:Buffer.alloc(P.width*P.height*4),width:P.width,height:P.height},P.color){this.background=typeof P.color=="string"?cssColorToHex(P.color):P.color;for(let F=0;F<this.bitmap.data.length;F+=4)this.bitmap.data.writeUInt32BE(this.background,F)}for(const F of g)for(const U in F)this[U]=(...H)=>{const q=F[U]?.(this,...H);return typeof q=="object"&&"bitmap"in q?(this.bitmap=q.bitmap,this):q}}static async read(P,F){if(Buffer.isBuffer(P)||P instanceof ArrayBuffer)return this.fromBuffer(P);const[U,H]=await to(fetch(P));if(U)throw new Error(`Could not load Buffer from URL: ${P}`);if(!H.ok)throw new Error(`HTTP Status ${H.status} for url ${P}`);const[q,X]=await to(H.arrayBuffer());if(q)throw new Error(`Could not load Buffer from ${P}`);const V=bufferFromArrayBuffer(X);return this.fromBuffer(V,F)}static fromBitmap(P){let F;if(P.data instanceof Buffer&&(F=Buffer.from(P.data)),(P.data instanceof Uint8Array||P.data instanceof Uint8ClampedArray)&&(F=Buffer.from(P.data.buffer)),Array.isArray(P.data)&&(F=Buffer.concat(P.data.map((U=>Buffer.from(U.toString(16).padStart(8,"0"),"hex"))))),!F)throw new Error("data must be a Buffer");if(typeof P.height!="number"||typeof P.width!="number")throw new Error("bitmap must have width and height");return new D({height:P.height,width:P.width,data:F})}static async fromBuffer(P,F){const U=P instanceof ArrayBuffer?bufferFromArrayBuffer(P):P,H=await fileType$1.fromBuffer(U);if(!H||!H.mime)throw new Error("Could not find MIME for Buffer");const q=w.find((V=>V.mime===H.mime));if(!q||!q.decode)throw new Error(`Mime type ${H.mime} does not support decoding`);const X=new D(await q.decode(U,F?.[q.mime]));return X.mime=H.mime,attemptExifRotate(X,U),X}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(P,F){const U=this.formats.find((q=>q.mime===P));if(!U||!U.encode)throw new Error(`Unsupported MIME type: ${P}`);let H;return U.hasAlpha?H=this:(H=new D({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(H,this)),U.encode(H.bitmap,F)}async getBase64(P,F){return"data:"+P+";base64,"+(await this.getBuffer(P,F)).toString("base64")}async write(P,F){const U=mime.getType(P);await writeFile(P,await this.getBuffer(U,F))}clone(){return new D({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(P,F,U){let H,q;if(U||(U=Edge.EXTEND),typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");H=P=Math.round(P),q=F=Math.round(F),U===Edge.EXTEND&&(P<0&&(H=0),P>=this.bitmap.width&&(H=this.bitmap.width-1),F<0&&(q=0),F>=this.bitmap.height&&(q=this.bitmap.height-1)),U===Edge.WRAP&&(P<0&&(H=this.bitmap.width+P),P>=this.bitmap.width&&(H=P%this.bitmap.width),F<0&&(q=this.bitmap.height+F),F>=this.bitmap.height&&(q=F%this.bitmap.height));let X=this.bitmap.width*q+H<<2;return(H<0||H>=this.bitmap.width)&&(X=-1),(q<0||q>=this.bitmap.height)&&(X=-1),X}getPixelColor(P,F){if(typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");const U=this.getPixelIndex(P,F);return this.bitmap.data.readUInt32BE(U)}setPixelColor(P,F,U){if(typeof P!="number"||typeof F!="number"||typeof U!="number")throw new Error("hex, x and y must be numbers");const H=this.getPixelIndex(F,U);return this.bitmap.data.writeUInt32BE(P,H),this}hasAlpha(){const{width:P,height:F,data:U}=this.bitmap,H=P*F<<2;for(let q=3;q<H;q+=4)if(U[q]!==255)return!0;return!1}composite(P,F=0,U=0,H={}){return composite(this,P,F,U,H)}scan(P,F,U,H,q){return scan(this,P,F,U,H,q)}scanIterator(P=0,F=0,U=this.bitmap.width,H=this.bitmap.height){if(typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");if(typeof U!="number"||typeof H!="number")throw new Error("w and h must be numbers");return scanIterator(this,P,F,U,H)}};return D}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,D,P,F){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=D?4:3,this.interpolationPass=!!P,this.resizeCallback=typeof F=="function"?F:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=this.widthBuffer;let P,F,U=0,H=0,q=0,X=0,V=0;for(P=0;U<1/3;P+=g,U+=w)for(H=P,q=0;H<this.widthPassResultSize;q+=this.originalWidthMultipliedByChannels,H+=this.targetWidthMultipliedByChannels)D[H]=d[q],D[H+1]=d[q+1],D[H+2]=d[q+2],m&&(D[H+3]=d[q+3]);for(U-=1/3,F=this.widthOriginal-1;U<F;P+=g,U+=w)for(V=U%1,X=1-V,H=P,q=Math.floor(U)*g;H<this.widthPassResultSize;q+=this.originalWidthMultipliedByChannels,H+=this.targetWidthMultipliedByChannels)D[H+0]=d[q+0]*X+d[q+g+0]*V,D[H+1]=d[q+1]*X+d[q+g+1]*V,D[H+2]=d[q+2]*X+d[q+g+2]*V,m&&(D[H+3]=d[q+3]*X+d[q+g+3]*V);for(F=this.originalWidthMultipliedByChannels-g;P<this.targetWidthMultipliedByChannels;P+=g)for(H=P,q=F;H<this.widthPassResultSize;q+=this.originalWidthMultipliedByChannels,H+=this.targetWidthMultipliedByChannels)D[H]=d[q],D[H+1]=d[q+1],D[H+2]=d[q+2],m&&(D[H+3]=d[q+3]);return D},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=1/w,P=this.originalWidthMultipliedByChannels-g+1,F=this.targetWidthMultipliedByChannels-g+1,U=this.outputWidthWorkBench,H=this.widthBuffer,q=this.outputWidthWorkBenchOpaquePixelsCount;let X=0,V=0,J=0,et=0,at=0,ot=0,ut=0,yt=1,vt=0,mt=0,dt=0,gt=0;do{for(at=0;at<this.originalHeightMultipliedByChannels;)U[at++]=0,U[at++]=0,U[at++]=0,m&&(U[at++]=0,q[at/g-1]=0);X=w;do{for(V=1+J-et,yt=Math.min(X,V),at=0,ot=J;at<this.originalHeightMultipliedByChannels;ot+=P)vt=d[ot],mt=d[++ot],dt=d[++ot],gt=m?d[++ot]:255,U[at++]+=(gt?vt:0)*yt,U[at++]+=(gt?mt:0)*yt,U[at++]+=(gt?dt:0)*yt,m&&(U[at++]+=gt*yt,q[at/g-1]+=gt?yt:0);if(!(X>=V)){et+=X;break}J+=g,et=J,X-=V}while(X>0&&J<this.originalWidthMultipliedByChannels);for(at=0,ot=ut;at<this.originalHeightMultipliedByChannels;ot+=F)X=m?q[at/g]:1,yt=m?X?1/X:0:D,H[ot]=U[at++]*yt,H[++ot]=U[at++]*yt,H[++ot]=U[at++]*yt,m&&(H[++ot]=U[at++]*D);ut+=g}while(ut<this.targetWidthMultipliedByChannels);return H},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,D=this.outputHeightWorkBench,P=this.heightBuffer,F=this.outputHeightWorkBenchOpaquePixelsCount;let U=0,H=0,q=0,X=0,V=0,J=0,et=0,at=1,ot=0,ut=0,yt=0,vt=0;do{for(V=0;V<this.targetWidthMultipliedByChannels;)D[V++]=0,D[V++]=0,D[V++]=0,m&&(D[V++]=0,F[V/4-1]=0);U=g;do{for(H=1+q-X,at=Math.min(U,H),et=q,V=0;V<this.targetWidthMultipliedByChannels;)ot=d[et++],ut=d[et++],yt=d[et++],vt=m?d[et++]:255,D[V++]+=(vt?ot:0)*at,D[V++]+=(vt?ut:0)*at,D[V++]+=(vt?yt:0)*at,m&&(D[V++]+=vt*at,F[V/4-1]+=vt?at:0);if(!(U>=H)){X+=U;break}q=et,X=q,U-=H}while(U>0&&q<this.widthPassResultSize);for(V=0;V<this.targetWidthMultipliedByChannels;)U=m?F[V/4]:1,at=m?U?1/U:0:w,P[J++]=Math.round(D[V++]*at),P[J++]=Math.round(D[V++]*at),P[J++]=Math.round(D[V++]*at),m&&(P[J++]=Math.round(D[V++]*w))}while(J<this.finalResultSize);return P},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,D=0,P=0,F=0,U=0,H=0,q=0,X=0;for(;D<1/3;D+=m)for(F=0;F<this.targetWidthMultipliedByChannels;)g[P++]=Math.round(d[F++]);for(D-=1/3,w=this.heightOriginal-1;D<w;D+=m)for(X=D%1,q=1-X,U=Math.floor(D)*this.targetWidthMultipliedByChannels,H=U+this.targetWidthMultipliedByChannels,F=0;F<this.targetWidthMultipliedByChannels;++F)g[P++]=Math.round(d[U++]*q+d[H++]*X);for(;P<this.finalResultSize;)for(F=0,U=w*this.targetWidthMultipliedByChannels;F<this.targetWidthMultipliedByChannels;++F)g[P++]=Math.round(d[U++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,D=m.width,P=m.height,F=d.data,U=m.data;for(let H=0;H<P;H++)for(let q=0;q<D;q++){let X=4*(H*D+q),V=4*(Math.floor(H*w/P)*g+Math.floor(q*g/D));U[X++]=F[V++],U[X++]=F[V++],U[X++]=F[V++],U[X++]=F[V++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,D=m.width,P=m.height,F=d.data,U=m.data,H=function(X,V,J,et,at){return V===et?J:Math.round((X-V)*at+(et-X)*J)},q=function(X,V,J,et,at,ot,ut,yt){let vt=4*(ut*g+et)+V,mt=4*(ut*g+at)+V;const dt=H(J,et,F[vt],at,F[mt]);if(yt===ut)U[X+V]=dt;else{vt=4*(yt*g+et)+V,mt=4*(yt*g+at)+V;const gt=H(J,et,F[vt],at,F[mt]);U[X+V]=H(ot,ut,dt,yt,gt)}};for(let X=0;X<P;X++)for(let V=0;V<D;V++){const J=4*(X*D+V),et=V*g/D,at=Math.floor(et),ot=Math.min(Math.ceil(et),g-1),ut=X*w/P,yt=Math.floor(ut),vt=Math.min(Math.ceil(ut),w-1);q(J,0,et,at,ot,ut,yt,vt),q(J,1,et,at,ot,ut,yt,vt),q(J,2,et,at,ot,ut,yt,vt),q(J,3,et,at,ot,ut,yt,vt)}},_interpolate2D(d,m,g,w){const D=d.data,P=m.data,F=d.width,U=d.height,H=m.width,q=m.height,X=Math.max(1,Math.floor(F/H)),V=H*X,J=Math.max(1,Math.floor(U/q)),et=q*J,at=Buffer.alloc(V*U*4);for(let yt=0;yt<U;yt++)for(let vt=0;vt<V;vt++){const mt=vt*(F-1)/V,dt=Math.floor(mt),gt=mt-dt,At=4*(yt*F+dt),_t=4*(yt*V+vt);for(let Mt=0;Mt<4;Mt++){const wt=At+Mt,zt=dt>0?D[wt-4]:2*D[wt]-D[wt+4],ht=D[wt],It=D[wt+4],qt=dt<F-2?D[wt+8]:2*D[wt+4]-D[wt];at[_t+Mt]=w(zt,ht,It,qt,gt)}}const ot=Buffer.alloc(V*et*4);for(let yt=0;yt<et;yt++)for(let vt=0;vt<V;vt++){const mt=yt*(U-1)/et,dt=Math.floor(mt),gt=mt-dt,At=4*(dt*V+vt),_t=4*(yt*V+vt);for(let Mt=0;Mt<4;Mt++){const wt=At+Mt,zt=dt>0?at[wt-4*V]:2*at[wt]-at[wt+4*V],ht=at[wt],It=at[wt+4*V],qt=dt<U-2?at[wt+8*V]:2*at[wt+4*V]-at[wt];ot[_t+Mt]=w(zt,ht,It,qt,gt)}}const ut=X*J;if(ut>1)for(let yt=0;yt<q;yt++)for(let vt=0;vt<H;vt++){let mt=0,dt=0,gt=0,At=0,_t=0;for(let wt=0;wt<J;wt++){const zt=yt*J+wt;for(let ht=0;ht<X;ht++){const It=4*(zt*V+(vt*X+ht)),qt=ot[It+3];qt&&(mt+=ot[It],dt+=ot[It+1],gt+=ot[It+2],_t++),At+=qt}}const Mt=4*(yt*H+vt);P[Mt]=_t?Math.round(mt/_t):0,P[Mt+1]=_t?Math.round(dt/_t):0,P[Mt+2]=_t?Math.round(gt/_t):0,P[Mt+3]=Math.round(At/ut)}else m.data=ot},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,(function(w,D,P,F,U){const H=F-P-w+D,q=w-D-H,X=P-w,V=D;return Math.max(0,Math.min(255,H*(U*U*U)+q*(U*U)+X*U+V))}))},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,(function(w,D,P,F,U){const H=D,q=.5*(P-w),X=w-2.5*D+2*P-.5*F,V=.5*(F-w)+1.5*(D-P);return Math.max(0,Math.min(255,Math.round(((V*U+X)*U+q)*U+H)))}))},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,(function(w,D,P,F,U){const H=1-U,q=D*H*H*H,X=3*(D+(P-w)/4)*H*H*U,V=3*(P-(F-D)/4)*H*U*U,J=P*U*U*U;return Math.max(0,Math.min(255,Math.round(q+X+V+J)))}))}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,D;if(typeof m.w=="number")w=m.w,D=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");D=m.h,w=m.w??d.bitmap.width*(D/d.bitmap.height)}if(w=Math.round(w)||1,D=Math.round(D)||1,g&&typeof operations[g]=="function"){const P={data:Buffer.alloc(w*D*4),width:w,height:D};operations[g](d.bitmap,P),d.bitmap=P}else new Resize(d.bitmap.width,d.bitmap.height,w,D,!0,!0,(P=>{d.bitmap.data=Buffer.from(P),d.bitmap.width=w,d.bitmap.height=D})).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),D=d.bitmap.width*g,P=d.bitmap.height*g;return this.resize(d,{w:D,h:P,mode:w})},scaleToFit(d,m){const{h:g,w,mode:D}=ScaleToFitOptionsSchema.parse(m),P=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:P,mode:D})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:P}=ContainOptionsSchema.parse(m),F=7&D,U=D>>3;if((F===0||F&F-1)&&(U===0||U&U-1))throw new Error("only use one flag per alignment direction");const H=F>>1,q=U>>1,X=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,V=methods$d.scale(clone(d),{f:X,mode:P});return(d=methods$d.resize(d,{w:g,h:w,mode:P})).scan(((J,et,at)=>{d.bitmap.data.writeUInt32BE(d.background,at)})),d=methods$h.blit(d,{src:V,x:(d.bitmap.width-V.bitmap.width)/2*H,y:(d.bitmap.height-V.bitmap.height)/2*q})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:D,h:P}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),D=Math.round(D),P=Math.round(P),g===0&&D===d.bitmap.width){const F=D*w+g<<2,U=F+(P*D<<2);d.bitmap.data=d.bitmap.data.slice(F,U)}else{const F=Buffer.allocUnsafe(D*P*4);let U=0;scan(d,g,w,D,P,(function(H,q,X){const V=d.bitmap.data.readUInt32BE(X);F.writeUInt32BE(V,U),U+=4})),d.bitmap.data=F}return d.bitmap.width=D,d.bitmap.height=P,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:D=!1,leaveBorder:P=0,ignoreSides:F}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),U=d.bitmap.width,H=d.bitmap.height,q={north:!1,south:!1,east:!1,west:!1,...F};let X=d.getPixelColor(0,0);const V=intToRGBA$1(X);let J=0,et=0,at=0,ot=0;if(X=d.getPixelColor(0,0),!q.north)t:for(let mt=0;mt<H-1;mt++){for(let dt=0;dt<U;dt++)if(colorDiff(V,intToRGBA$1(d.getPixelColor(dt,mt)))>g)break t;J++}if(X=d.getPixelColor(U,0),!q.west)t:for(let mt=0;mt<U-1;mt++){for(let dt=0+J;dt<H;dt++)if(colorDiff(V,intToRGBA$1(d.getPixelColor(mt,dt)))>g)break t;ot++}if(X=d.getPixelColor(0,H),!q.south)t:for(let mt=H-1;mt>=J+1;mt--){for(let dt=U-et-1;dt>=0;dt--)if(colorDiff(V,intToRGBA$1(d.getPixelColor(dt,mt)))>g)break t;at++}if(X=d.getPixelColor(U,H),!q.east)t:for(let mt=U-1;mt>=0+ot+1;mt--){for(let dt=H-1;dt>=0+J;dt--)if(colorDiff(V,intToRGBA$1(d.getPixelColor(mt,dt)))>g)break t;et++}let ut=!1;if(ot-=P,et-=P,J-=P,at-=P,D){const mt=Math.min(et,ot),dt=Math.min(J,at);ot=mt,et=mt,J=dt,at=dt}ot=ot>=0?ot:0,et=et>=0?et:0,J=J>=0?J:0,at=at>=0?at:0;const yt=U-(ot+et),vt=H-(at+J);return ut=w?et!==0&&J!==0&&ot!==0&&at!==0:et!==0||J!==0||ot!==0||at!==0,ut&&this.crop(d,{x:ot,y:J,w:yt,h:vt}),d}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:P}=CoverOptionsSchema.parse(m),F=7&D,U=D>>3;if((F===0||F&F-1)&&(U===0||U&U-1))throw new Error("only use one flag per alignment direction");const H=F>>1,q=U>>1,X=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:X,mode:P}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*H,y:(d.bitmap.height-w)/2*q,w:g,h:w})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),D=clone(d);return d.scan(((P,F,U)=>{let H=g.bitmap.data[U]/256*w;H=Math.round(H);const q=d.getPixelIndex(P+H,F);d.bitmap.data[q]=D.bitmap.data[U],d.bitmap.data[q+1]=D.bitmap.data[U+1],d.bitmap.data[q+2]=D.bitmap.data[U+2]})),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan(((g,w,D)=>{const P=m[((3&w)<<2)+g%4];d.bitmap.data[D]=Math.min(d.bitmap.data[D]+P,255),d.bitmap.data[D+1]=Math.min(d.bitmap.data[D+1]+P,255),d.bitmap.data[D+2]=Math.min(d.bitmap.data[D+2]+P,255)})),d}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:D,height:P}=w.bitmap;return w.scan(((F,U)=>{const H=F/D,q=U/P,X=Math.sqrt(Math.pow(H-.5,2)+Math.pow(q-.5,2)),V=2*Math.pow(X,g),J=(H-.5)/X,et=(q-.5)/X,at=Math.round((V*J+.5)*D),ot=Math.round((V*et+.5)*P),ut=w.getPixelColor(at,ot);d.setPixelColor(ut,F,U)})),d.setPixelColor(w.getPixelColor(D/2,P/2),D/2,P/2),d}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),D=Buffer.alloc(d.bitmap.data.length);return d.scan(((P,F,U)=>{const H=g?d.bitmap.width-1-P:P,q=w?d.bitmap.height-1-F:F,X=d.bitmap.width*q+H<<2,V=d.bitmap.data.readUInt32BE(U);D.writeUInt32BE(V,X)})),d.bitmap.data=Buffer.from(D),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,D={},P=this.srcAlphabet.length,F=this.dstAlphabet.length,U=d.length,H=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<U;m++)D[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<U;m++)(g=g*P+D[m])>=F?(D[w++]=parseInt(g/F,10),g%=F):w>0&&(D[w++]=0);U=w,H=this.dstAlphabet.slice(g,g+1).concat(H)}while(w!==0);return H},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let D=0;D<m.length;D++)m[D]!==g[D]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let U=0;U<m.bitmap.width;U++){const H=[];for(let q=0;q<m.bitmap.height;q++)H[q]=intToRGBA(m.getPixelColor(U,q)).b;g[U]=H}const w=applyDCT(g,this.size);let D=0;for(let U=0;U<this.smallerSize;U++)for(let H=0;H<this.smallerSize;H++)D+=w[U][H];const P=D/(this.smallerSize*this.smallerSize);let F="";for(let U=0;U<this.smallerSize;U++)for(let H=0;H<this.smallerSize;H++)F+=w[U][H]>P?"1":"0";return F}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let D=0;D<g;D++){const P=[];for(let F=0;F<g;F++){let U=0;for(let H=0;H<g;H++)for(let q=0;q<g;q++)U+=Math.cos((2*H+1)/(2*g)*D*Math.PI)*Math.cos((2*q+1)/(2*g)*F*Math.PI)*d[H][q];U*=c$1[D]*c$1[F]/4,P[F]=U,w[D]=P}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),D=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(D,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,D;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,D=0):(g=m.src,w=m.x??0,D=m.y??0),w=Math.round(w),D=Math.round(D);const P=d.bitmap.width,F=d.bitmap.height;return g.scan((function(U,H,q){const X=w+U,V=D+H;if(X>=0&&V>=0&&X<P&&V<F){const J=d.getPixelIndex(X,V),{data:et}=g.bitmap,at=(et[q+0]+et[q+1]+et[q+2])/3;d.bitmap.data[J+3]*=at/255}})),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const D=m[w],P=d.chars[D];if(P){const F=d.kernings[D],U=m[w+1],H=F&&U&&F[U]&&F[U]||0;g+=(P.xadvance||0)+H}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),D=[];let P=[],F=0;return w.forEach((U=>{if(measureText(d,U+(w.length>1?" ":""))>g){const X=U[Symbol.iterator]();let V="";for(const J of X){const et=[...P,V+J].join(" "),at=measureText(d,et);at<g?V+=J:at>g?(D.push([...P,V]),P=[],V=J):(D.push([...P,V+J]),P=[],V="")}return}const H=[...P,U].join(" "),q=measureText(d,H);q<=g&&!U.includes(`
`)?(q>F&&(F=q),P.push(U)):(D.push(P),P=[U.replace(`
`,"")])})),D.push(P),{lines:D,longestLine:F}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,D){if(D.width>0&&D.height>0){const P=m.pages[D.page];P&&(d=methods$h.blit(d,{src:P,x:g+D.xoffset,y:w+D.yoffset,srcX:D.x,srcY:D.y,srcW:D.width,srcH:D.height}))}return d}function printText(d,m,g,w,D,P){for(let F=0;F<D.length;F++){const U=D[F];let H;H=m.chars[U]?U:/\s/.test(U)?"":"?";const q=m.chars[H]||{xadvance:void 0},X=m.kernings[H];q&&drawCharacter(d,m,g,w,q);const V=D[F+1];g+=(X&&V&&X[V]&&X[V]||0)+(q.xadvance||P)}}const methods$3={print(d,{font:m,...g}){let w,D,{x:P,y:F,text:U,maxWidth:H=1/0,maxHeight:q=1/0,cb:X=(()=>{})}=PrintOptionsSchema.parse(g);typeof U=="object"&&U.text!==null&&U.text!==void 0?(w=U.alignmentX||HorizontalAlign.LEFT,D=U.alignmentY||VerticalAlign.TOP,{text:U}=U):(w=HorizontalAlign.LEFT,D=VerticalAlign.TOP,U=U.toString()),typeof U=="number"&&(U=U.toString()),q!==1/0&&D===VerticalAlign.BOTTOM?F+=q-measureTextHeight(m,U,H):q!==1/0&&D===VerticalAlign.MIDDLE&&(F+=q/2-measureTextHeight(m,U,H)/2);const V=Object.entries(m.chars).find((at=>at[1].xadvance))?.[1].xadvance;if(typeof V!="number")throw new Error("Could not find default character width");const{lines:J,longestLine:et}=splitLines(m,U,H);return J.forEach((at=>{const ot=at.join(" "),ut=xOffsetBasedOnAlignment(m,ot,H,w);printText(d,m,P+ut,F,ot,V),F+=m.common.lineHeight})),X.bind(d)({x:P+et,y:F}),d}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let D;switch(m){case 90:case-270:D=90;break;case 180:case-180:D=180;break;case 270:case-90:D=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const P=D===180?g:w,F=D===180?w:g,U=Buffer.alloc(d.bitmap.data.length),H=createIdxTranslationFunction(g),q=createIdxTranslationFunction(P);for(let X=0;X<g;X++)for(let V=0;V<w;V++){const J=H(X,V),et=d.bitmap.data.readUInt32BE(J);let at;switch(D){case 90:at=q(V,g-X-1);break;case-90:at=q(w-V-1,X);break;case 180:at=q(g-X-1,w-V-1);break;default:throw new Error("Unsupported matrix rotation angle")}U.writeUInt32BE(et,at)}d.bitmap.data=U,d.bitmap.width=P,d.bitmap.height=F}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,D=Math.cos(w),P=Math.sin(w);let F=d.bitmap.width,U=d.bitmap.height;if(g===!0||typeof g=="string"){F=Math.ceil(Math.abs(d.bitmap.width*D)+Math.abs(d.bitmap.height*P))+1,U=Math.ceil(Math.abs(d.bitmap.width*P)+Math.abs(d.bitmap.height*D))+1,F%2!=0&&F++,U%2!=0&&U++;const et=clone(d);d.scan(((ot,ut,yt)=>{d.bitmap.data.writeUInt32BE(d.background,yt)}));const at=Math.max(F,U,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:at,w:at,mode:g===!0?void 0:g}),et,d.bitmap.width/2-et.bitmap.width/2,d.bitmap.height/2-et.bitmap.height/2)}const H=d.bitmap.width,q=d.bitmap.height,X=Buffer.alloc(d.bitmap.data.length),V=createTranslationFunction(-H/2,-q/2),J=createTranslationFunction(H/2+.5,q/2+.5);for(let et=1;et<=q;et++)for(let at=1;at<=H;at++){const ot=V(at,et),ut=J(D*ot.x-P*ot.y,D*ot.y+P*ot.x),yt=H*(et-1)+at-1<<2;if(ut.x>=0&&ut.x<H&&ut.y>=0&&ut.y<q){const vt=H*(0|ut.y)+ut.x<<2,mt=d.bitmap.data.readUInt32BE(vt);X.writeUInt32BE(mt,yt)}else X.writeUInt32BE(d.background,yt)}if(d.bitmap.data=X,g===!0||typeof g=="string"){const et=Math.max(H/2-F/2,0),at=Math.max(q/2-U/2,0);d=methods$b.crop(d,{x:et,y:at,w:F,h:U})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:D=!0}=w;let{deg:P}=w;return P%=360,P%360==0||(P%90==0&&(D||d.bitmap.width===d.bitmap.height||P%180==0)?matrixRotate(d,P):advancedRotate(d,P,D)),d}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:D=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),D&&methods$e.greyscale(d),d.scan(((P,F,U)=>{const H=d.bitmap.data[U]<g?d.bitmap.data[U]:w;d.bitmap.data[U]=H,d.bitmap.data[U+1]=H,d.bitmap.data[U+2]=H})),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let P=0,F=d.length;P<F;P++){const U=d[P];D[U]||D[U]===0||(D[U]=P)}w=d.sort(((P,F)=>m(P,F)||D[P]-D[F]))}else{const D=d.slice(0);w=d.sort(((P,F)=>m(P,F)||D.indexOf(P)-D.indexOf(F)))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),D=max3(d,m,g),P=D-w,F=(w+D)/510;let U=0;F>0&&F<1&&(U=P/(F<.5?D+w:510-D-w));let H=0;return P>0&&(H=D===d?(m-g)/P:D===m?2+(g-d)/P:4+(d-m)/P,H*=60,H<0&&(H+=360)),{h:H,s:U,l:F}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(D)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2(-.9689*d+1.8758*m+.0415*g),P=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*D),b:inRange0to255Rounded(255*P)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,P,F,U){const H=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),q=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(P*this._whitePoint.g),inRange0to255(F*this._whitePoint.b)),X=H.L-q.L,V=H.a-q.a,J=H.b-q.b,et=Math.sqrt(H.a*H.a+H.b*H.b),at=et-Math.sqrt(q.a*q.a+q.b*q.b);let ot=V*V+J*J-at*at;ot=ot<0?0:Math.sqrt(ot);const ut=(U-w)*this._whitePoint.a*this._kA;return Math.sqrt((X/this._Kl)**2+(at/(1+this._K1*et))**2+(ot/(1+this._K2*et))**2+ut**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),D=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000._deg180InRad?D/2:D<_CIEDE2000._deg360InRad?(D+_CIEDE2000._deg360InRad)/2:(D-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,P,F,U){const H=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),q=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(P*this._whitePoint.g),inRange0to255(F*this._whitePoint.b)),X=(U-w)*this._whitePoint.a*_CIEDE2000._kA,V=this.calculateRawInLab(H,q);return Math.sqrt(V+X*X)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,P=m.L,F=m.a,U=m.b,H=((Math.sqrt(w*w+D*D)+Math.sqrt(F*F+U*U))/2)**7,q=.5*(1-Math.sqrt(H/(H+_CIEDE2000._pow25to7))),X=(1+q)*w,V=(1+q)*F,J=Math.sqrt(X*X+D*D),et=Math.sqrt(V*V+U*U),at=J*et,ot=_CIEDE2000._calculatehp(D,X),ut=_CIEDE2000._calculatehp(U,V),yt=Math.abs(ot-ut),vt=P-g,mt=et-J,dt=_CIEDE2000._calculate_dHp(at,yt,ut,ot),gt=_CIEDE2000._calculate_ahp(at,yt,ot,ut),At=(J+et)/2,_t=((g+P)/2-50)**2,Mt=mt/(1+.045*At),wt=dt/(1+.015*_CIEDE2000._calculateT(gt)*At);return(vt/(1+.015*_t/Math.sqrt(20+_t)))**2+Mt**2+wt**2+_CIEDE2000._calculateRT(gt,At)*Mt*wt}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,P,F,U){const H=(d+D)/2*this._whitePoint.r,q=(d-D)*this._whitePoint.r,X=(m-P)*this._whitePoint.g,V=(g-F)*this._whitePoint.b,J=((512+H)*q*q>>8)+4*X*X+((767-H)*V*V>>8),et=(U-w)*this._whitePoint.a;return Math.sqrt(J+et*et)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,P,F,U){const H=D-d,q=P-m,X=F-g,V=U-w;return Math.sqrt(this._kR*H*H+this._kG*q*q+this._kB*X*X+this._kA*V*V)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,P,F,U){let H=D-d,q=P-m,X=F-g,V=U-w;return H<0&&(H=0-H),q<0&&(q=0-q),X<0&&(X=0-X),V<0&&(V=0-V),this._kR*H+this._kG*q+this._kB*X+this._kA*V}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,P,F,U){const H=(U-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,H)+this._colordifferenceCh(m*this._whitePoint.g,P*this._whitePoint.g,H)+this._colordifferenceCh(g*this._whitePoint.b,F*this._whitePoint.b,H)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let D=0,P=d.length;D<P;D++)w._pointArray[D]=Point.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,P=this._pointArray.length;D<P;D++){const F=this._pointArray[D],U=d.calculateRaw(m.r,m.g,m.b,m.a,F.r,F.g,F.b,F.a);U<w&&(w=U,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort(((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),P=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-D;if(P)return-P;const F=d.getLuminosity(!0),U=m.getLuminosity(!0);if(U-F!=0)return U-F;const H=(100*w.s|0)-(100*g.s|0);return H?-H:0}))}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),P=this._stats[D],F=this._minCols;P.num++,P.num>F||(P.num===F&&this._groupsFull++,P.num<=F&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach((g=>{d[g]?d[g]++:d[g]=1}))}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach((g=>{d.indexOf(g)===-1&&d.push(g)}))}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,P=w/_NeuQuant._nCycles|0,F=_NeuQuant._initAlpha,U=(this._networkSize>>3)*_NeuQuant._radiusBias,H=U>>_NeuQuant._radiusBiasShift;H<=1&&(H=0);for(let X=0;X<H;X++)this._radPower[X]=F*((H*H-X*X)*_NeuQuant._radBias/(H*H))>>>0;D=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const q=new ProgressTracker(w,99);for(let X=0,V=0;X<w;){q.shouldNotify(X)&&(yield{progress:q.progress});const J=this._pointArray[V],et=J.b<<networkBiasShift,at=J.g<<networkBiasShift,ot=J.r<<networkBiasShift,ut=J.a<<networkBiasShift,yt=this._contest(et,at,ot,ut);if(this._alterSingle(F,yt,et,at,ot,ut),H!==0&&this._alterNeighbour(H,yt,et,at,ot,ut),V+=D,V>=m&&(V-=m),X++,P===0&&(P=1),X%P==0){F-=F/g|0,U-=U/_NeuQuant._radiusDecrease|0,H=U>>_NeuQuant._radiusBiasShift,H<=1&&(H=0);for(let vt=0;vt<H;vt++)this._radPower[vt]=F*((H*H-vt*vt)*_NeuQuant._radBias/(H*H))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach((m=>{d.add(m.toPoint())})),d.sort(),d}_alterNeighbour(d,m,g,w,D,P){let F=m-d;F<-1&&(F=-1);let U=m+d;U>this._networkSize&&(U=this._networkSize);let H=m+1,q=m-1,X=1;for(;H<U||q>F;){const V=this._radPower[X++]/_NeuQuant._alphaRadBias;if(H<U){const J=this._network[H++];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}if(q>F){const J=this._network[q--];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}}}_alterSingle(d,m,g,w,D,P){d/=_NeuQuant._initAlpha;const F=this._network[m];F.subtract(d*(F.r-D),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const D=1020<<networkBiasShift;let P=2147483647,F=P,U=-1,H=U;for(let q=0;q<this._networkSize;q++){const X=this._network[q],V=this._distance.calculateNormalized(X,{r:g,g:m,b:d,a:w})*D|0;V<P&&(P=V,U=q);const J=V-(this._bias[q]>>_NeuQuant._initialBiasShift-networkBiasShift);J<F&&(F=J,H=q);const et=this._freq[q]>>_NeuQuant._betaShift;this._freq[q]-=et,this._bias[q]+=et<<_NeuQuant._gammaShift}return this._freq[U]+=_NeuQuant._beta,this._bias[U]-=_NeuQuant._betaGamma,H}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,P=w/_NeuQuantFloat._nCycles|0,F=_NeuQuantFloat._initAlpha,U=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,H=U>>_NeuQuantFloat._radiusBiasShift;H<=1&&(H=0);for(let X=0;X<H;X++)this._radPower[X]=F*((H*H-X*X)*_NeuQuantFloat._radBias/(H*H));D=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const q=new ProgressTracker(w,99);for(let X=0,V=0;X<w;){q.shouldNotify(X)&&(yield{progress:q.progress});const J=this._pointArray[V],et=J.b<<networkBiasShift2,at=J.g<<networkBiasShift2,ot=J.r<<networkBiasShift2,ut=J.a<<networkBiasShift2,yt=this._contest(et,at,ot,ut);if(this._alterSingle(F,yt,et,at,ot,ut),H!==0&&this._alterNeighbour(H,yt,et,at,ot,ut),V+=D,V>=m&&(V-=m),X++,P===0&&(P=1),X%P==0){F-=F/g,U-=U/_NeuQuantFloat._radiusDecrease,H=U>>_NeuQuantFloat._radiusBiasShift,H<=1&&(H=0);for(let vt=0;vt<H;vt++)this._radPower[vt]=F*((H*H-vt*vt)*_NeuQuantFloat._radBias/(H*H))}}}_buildPalette(){const d=new Palette;return this._network.forEach((m=>{d.add(m.toPoint())})),d.sort(),d}_alterNeighbour(d,m,g,w,D,P){let F=m-d;F<-1&&(F=-1);let U=m+d;U>this._networkSize&&(U=this._networkSize);let H=m+1,q=m-1,X=1;for(;H<U||q>F;){const V=this._radPower[X++]/_NeuQuantFloat._alphaRadBias;if(H<U){const J=this._network[H++];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}if(q>F){const J=this._network[q--];J.subtract(V*(J.r-D),V*(J.g-w),V*(J.b-g),V*(J.a-P))}}}_alterSingle(d,m,g,w,D,P){d/=_NeuQuantFloat._initAlpha;const F=this._network[m];F.subtract(d*(F.r-D),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const D=1020<<networkBiasShift2;let P=2147483647,F=P,U=-1,H=U;for(let q=0;q<this._networkSize;q++){const X=this._network[q],V=this._distance.calculateNormalized(X,{r:g,g:m,b:d,a:w})*D;V<P&&(P=V,U=q);const J=V-(this._bias[q]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);J<F&&(F=J,H=q);const et=this._freq[q]>>_NeuQuantFloat._betaShift;this._freq[q]-=et,this._bias[q]+=et<<_NeuQuantFloat._gammaShift}return this._freq[U]+=_NeuQuantFloat._beta,this._bias[U]-=_NeuQuantFloat._betaGamma,H}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),((g,w)=>this._histogram[w]-this._histogram[g]));if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let P=g;const F=d.length;for(;P<F&&this._histogram[d[P]]===D;)m.push(d[P++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map((g=>+g))}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const P=g[D].uint32;this._hueStats.check(P),P in m?m[P]++:m[P]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram._boxSize[0],P=_ColorHistogram._boxSize[1],F=D*P,U=this._makeBoxes(m,g,D,P),H=this._histogram;U.forEach((q=>{let X=Math.round(q.w*q.h/F)*_ColorHistogram._boxPixels;X<2&&(X=2);const V={};this._iterateBox(q,m,(J=>{const et=w[J].uint32;this._hueStats.check(et),et in H?H[et]++:et in V?++V[et]>=X&&(H[et]=V[et]):V[et]=1}))})),this._hueStats.injectIntoDictionary(H)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,P=(w.y+w.h-1)*m+(w.x+w.w-1),F=m-w.w+1;let U=0,H=D;do g.call(this,H),H+=++U%w.w==0?F:1;while(H<=P)}_makeBoxes(d,m,g,w){const D=d%g,P=m%w,F=d-D,U=m-P,H=[];for(let q=0;q<m;q+=w)for(let X=0;X<d;X+=g)H.push({x:X,y:q,w:X===F?D:g,h:q===U?P:w});return H}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let X=0;X<d.length;X++)g.push(Point.createByUint32(d[X])),w[X]=1;const D=g.length,P=[];let F=D,U=this._initialDistance;const H=new ProgressTracker(F-this._colors,99);for(;F>this._colors;){P.length=0;for(let X=0;X<D;X++){if(H.shouldNotify(D-F)&&(yield{progress:H.progress}),w[X]===0)continue;const V=g[X];for(let J=X+1;J<D;J++){if(w[J]===0)continue;const et=g[J],at=this._distance.calculateNormalized(V,et);at<U&&(P.push(new RemovedColor(J,et,at)),w[J]=0,F--)}}U+=F>3*this._colors?this._initialDistance:this._distanceIncrement}if(F<this._colors){stableSort(P,((V,J)=>J.distance-V.distance));let X=0;for(;F<this._colors&&X<P.length;)w[P[X].index]=1,F++,X++}let q=g.length;for(let X=q-1;X>=0;X--)w[X]===0&&(X!==q-1&&(g[X]=g[q-1]),--q);g.length=q,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const D=new Array(d);for(let P=0;P<d;P++){D[P]=new Array(m);for(let F=0;F<m;F++){D[P][F]=new Array(g);for(let U=0;U<g;U++){D[P][F][U]=new Array(w);for(let H=0;H<w;H++)D[P][F][U][H]=0}}}return D}function createArray3D(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let P=0;P<m;P++){w[D][P]=new Array(g);for(let F=0;F<g;F++)w[D][P][F]=0}}return w}function fillArray3D(d,m,g,w,D){for(let P=0;P<m;P++){d[P]=[];for(let F=0;F<g;F++){d[P][F]=[];for(let U=0;U<w;U++)d[P][F][U]=D}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,P=this._blues[m]/g,F=this._alphas[m]/g,U=Point.createByRGBA(0|w,0|D,0|P,0|F);d.add(U)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let F=1;F<this._colors;++F){this._cut(this._cubes[d],this._cubes[F])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[F]=this._cubes[F].volume>1?this._calculateVariance(this._cubes[F]):0):(m[d]=0,F--),d=0;let U=m[0];for(let H=1;H<=F;++H)m[H]>U&&(U=m[H],d=H);if(U<=0){this._colors=F+1;break}}const g=[],w=[],D=[],P=[];for(let F=0;F<this._colors;++F){const U=_WuQuant._volume(this._cubes[F],this._weights);U>0?(g[F]=_WuQuant._volume(this._cubes[F],this._momentsRed)/U|0,w[F]=_WuQuant._volume(this._cubes[F],this._momentsGreen)/U|0,D[F]=_WuQuant._volume(this._cubes[F],this._momentsBlue)/U|0,P[F]=_WuQuant._volume(this._cubes[F],this._momentsAlpha)/U|0):(g[F]=0,w[F]=0,D[F]=0,P[F]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let F=0,U=this._pixels.length;F<U;F++){const H=this._pixels[F];let q=-1,X=Number.MAX_VALUE;for(let V=0;V<this._colors;V++){const J=g[V],et=w[V],at=D[V],ot=P[V],ut=this._distance.calculateRaw(J,et,at,ot,H.r,H.g,H.b,H.a);ut<X&&(X=ut,q=V)}this._reds[q]+=H.r,this._greens[q]+=H.g,this._blues[q]+=H.b,this._alphas[q]+=H.a,this._sums[q]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),P=1+(d.a>>m);this._weights[P][g][w][D]++,this._momentsRed[P][g][w][D]+=d.r,this._momentsGreen[P][g][w][D]+=d.g,this._momentsBlue[P][g][w][D]+=d.b,this._momentsAlpha[P][g][w][D]+=d.a,this._moments[P][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],P=[],F=createArray3D(this._sideSize,this._sideSize,this._sideSize),U=createArray3D(this._sideSize,this._sideSize,this._sideSize),H=createArray3D(this._sideSize,this._sideSize,this._sideSize),q=createArray3D(this._sideSize,this._sideSize,this._sideSize),X=createArray3D(this._sideSize,this._sideSize,this._sideSize),V=createArray3D(this._sideSize,this._sideSize,this._sideSize);let J=0;const et=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let at=1;at<=this._alphaMaxSideIndex;++at){fillArray3D(F,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(U,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(H,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(X,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(V,this._sideSize,this._sideSize,this._sideSize,0);for(let ot=1;ot<=this._maxSideIndex;++ot,++J){et.shouldNotify(J)&&(yield{progress:et.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(D,this._sideSize,0),fillArray1D(P,this._sideSize,0);for(let ut=1;ut<=this._maxSideIndex;++ut){let yt=0,vt=0,mt=0,dt=0,gt=0,At=0;for(let _t=1;_t<=this._maxSideIndex;++_t)yt+=this._weights[at][ot][ut][_t],vt+=this._momentsRed[at][ot][ut][_t],mt+=this._momentsGreen[at][ot][ut][_t],dt+=this._momentsBlue[at][ot][ut][_t],gt+=this._momentsAlpha[at][ot][ut][_t],At+=this._moments[at][ot][ut][_t],d[_t]+=yt,m[_t]+=vt,g[_t]+=mt,w[_t]+=dt,D[_t]+=gt,P[_t]+=At,F[ot][ut][_t]=F[ot-1][ut][_t]+d[_t],U[ot][ut][_t]=U[ot-1][ut][_t]+m[_t],H[ot][ut][_t]=H[ot-1][ut][_t]+g[_t],q[ot][ut][_t]=q[ot-1][ut][_t]+w[_t],X[ot][ut][_t]=X[ot-1][ut][_t]+D[_t],V[ot][ut][_t]=V[ot-1][ut][_t]+P[_t],this._weights[at][ot][ut][_t]=this._weights[at-1][ot][ut][_t]+F[ot][ut][_t],this._momentsRed[at][ot][ut][_t]=this._momentsRed[at-1][ot][ut][_t]+U[ot][ut][_t],this._momentsGreen[at][ot][ut][_t]=this._momentsGreen[at-1][ot][ut][_t]+H[ot][ut][_t],this._momentsBlue[at][ot][ut][_t]=this._momentsBlue[at-1][ot][ut][_t]+q[ot][ut][_t],this._momentsAlpha[at][ot][ut][_t]=this._momentsAlpha[at-1][ot][ut][_t]+X[ot][ut][_t],this._moments[at][ot][ut][_t]=this._moments[at-1][ot][ut][_t]+V[ot][ut][_t]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),D=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,D,P,F,U,H){const q=0|_WuQuant._bottom(d,m,this._momentsRed),X=0|_WuQuant._bottom(d,m,this._momentsGreen),V=0|_WuQuant._bottom(d,m,this._momentsBlue),J=0|_WuQuant._bottom(d,m,this._momentsAlpha),et=0|_WuQuant._bottom(d,m,this._weights);let at=0,ot=-1;for(let ut=g;ut<w;++ut){let yt=q+_WuQuant._top(d,m,ut,this._momentsRed),vt=X+_WuQuant._top(d,m,ut,this._momentsGreen),mt=V+_WuQuant._top(d,m,ut,this._momentsBlue),dt=J+_WuQuant._top(d,m,ut,this._momentsAlpha),gt=et+_WuQuant._top(d,m,ut,this._weights);if(gt!==0){let At=yt*yt+vt*vt+mt*mt+dt*dt,_t=At/gt;yt=D-yt,vt=P-vt,mt=F-mt,dt=U-dt,gt=H-gt,gt!==0&&(At=yt*yt+vt*vt+mt*mt+dt*dt,_t+=At/gt,_t>at&&(at=_t,ot=ut))}}return{max:at,position:ot}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),D=_WuQuant._volume(d,this._momentsGreen),P=_WuQuant._volume(d,this._momentsBlue),F=_WuQuant._volume(d,this._momentsAlpha),U=_WuQuant._volume(d,this._weights),H=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,D,P,F,U),q=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,D,P,F,U),X=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,D,P,F,U),V=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,P,F,U);if(V.max>=H.max&&V.max>=q.max&&V.max>=X.max){if(g=_WuQuant._alpha,V.position<0)return!1}else g=H.max>=V.max&&H.max>=q.max&&H.max>=X.max?_WuQuant._red:q.max>=V.max&&q.max>=H.max&&q.max>=X.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=H.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=q.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=X.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=V.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),P=new ProgressTracker(D,99);for(let F=0;F<D;F++){P.shouldNotify(F)&&(yield{progress:P.progress});for(let U=0,H=F*w;U<w;U++,H++){const q=g[H];q.from(m.getNearestColor(this._distance,q))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point,D=d.getWidth(),P=d.getHeight(),F=[];let U=1,H=1;for(const X of this._kernel){const V=X[2]+1;H<V&&(H=V)}for(let X=0;X<H;X++)this._fillErrorLine(F[X]=[],D);const q=new ProgressTracker(P,99);for(let X=0;X<P;X++){q.shouldNotify(X)&&(yield{progress:q.progress}),this._serpentine&&(U*=-1);const V=X*D,J=U===1?0:D-1,et=U===1?D:-1;this._fillErrorLine(F[0],D),F.push(F.shift());const at=F[0];for(let ot=J,ut=V+J;ot!==et;ot+=U,ut+=U){const yt=g[ut],vt=at[ot];w.from(yt);const mt=Point.createByRGBA(inRange0to255Rounded(yt.r+vt[0]),inRange0to255Rounded(yt.g+vt[1]),inRange0to255Rounded(yt.b+vt[2]),inRange0to255Rounded(yt.a+vt[3])),dt=m.getNearestColor(this._distance,mt);if(yt.from(dt),this._minColorDistance&&this._distance.calculateNormalized(w,dt)<this._minColorDistance)continue;let gt,At,_t,Mt;this._calculateErrorLikeGIMP?(gt=mt.r-dt.r,At=mt.g-dt.g,_t=mt.b-dt.b,Mt=mt.a-dt.a):(gt=w.r-dt.r,At=w.g-dt.g,_t=w.b-dt.b,Mt=w.a-dt.a);const wt=U===1?0:this._kernel.length-1,zt=U===1?this._kernel.length:-1;for(let ht=wt;ht!==zt;ht+=U){const It=this._kernel[ht][1]*U,qt=this._kernel[ht][2];if(It+ot>=0&&It+ot<D&&qt+X>=0&&qt+X<P){const Nt=this._kernel[ht][0],Ot=F[qt][It+ot];Ot[0]+=gt*Nt,Ot[1]+=At*Nt,Ot[2]+=_t*Nt,Ot[3]+=Mt*Nt}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(D,1),visit(D,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),P=[];let F=0;for(let U=0;U<this._errorQueueSize;U++)P[U]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,D,((U,H)=>{const q=g[U+H*w];let{r:X,g:V,b:J,a:et}=q;for(let yt=0;yt<this._errorQueueSize;yt++){const vt=this._weights[yt],mt=P[(yt+F)%this._errorQueueSize];X+=mt.r*vt,V+=mt.g*vt,J+=mt.b*vt,et+=mt.a*vt}const at=Point.createByRGBA(inRange0to255Rounded(X),inRange0to255Rounded(V),inRange0to255Rounded(J),inRange0to255Rounded(et)),ot=m.getNearestColor(this._distance,at);F=(F+1)%this._errorQueueSize;const ut=(F+this._errorQueueSize-1)%this._errorQueueSize;P[ut].r=q.r-ot.r,P[ut].g=q.g-ot.g,P[ut].b=q.b-ot.b,P[ut].a=q.a-ot.a,q.from(ot)})),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,P=1;D<m;D++)g[D]=(P+.5|0)/m*d,P*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let D=0,P=0;return iterate(d,m,((F,U,H,q)=>{let X=0,V=0,J=0;for(let at=0;at<F.length;at++)V+=(F[at]-H)**2,J+=(U[at]-q)**2,X+=(F[at]-H)*(U[at]-q);const et=F.length-1;V/=et,J/=et,X/=et,P+=(2*H*q+g)*(2*X+w)/((H**2+q**2+g)*(V+J+w)),D++})),P/D}function iterate(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let P=0;P<D;P+=8)for(let F=0;F<w;F+=8){const U=Math.min(8,w-F),H=Math.min(8,D-P),q=calculateLumaValuesForWindow(d,F,P,U,H),X=calculateLumaValuesForWindow(m,F,P,U,H);g(q,X,calculateAverageLuma(q),calculateAverageLuma(X))}}function calculateLumaValuesForWindow(d,m,g,w,D){const P=d.getPointArray(),F=[];let U=0;for(let H=g;H<g+D;H++){const q=H*d.getWidth();for(let X=m;X<m+w;X++){const V=P[q+X];F[U]=.2126*V.r+.7152*V.g+.0722*V.b,U++}}return F}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach((P=>D.sample(P))),D.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}typeof setImmediate=="function"?setImmediate:typeof process<"u"&&process?.nextTick;const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:D,imageQuantization:P}=QuantizeOptionsSchema.parse(m),F=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),U=applyPaletteSync(F,buildPaletteSync([F],{colors:g,colorDistanceFormula:w,paletteQuantization:D}),{colorDistanceFormula:w,imageQuantization:P});return d.bitmap.data=Buffer.from(U.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var D=splitLine(g[w],w);if(D)if(D.key==="page"){if(typeof D.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof D.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[D.data.id]=D.data.file}else D.key==="chars"||D.key==="kernings"||(D.key==="char"?m.chars.push(D.data):D.key==="kerning"?m.kernings.push(D.data):m[D.key]=D.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(H){return H.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var D=[],P=0;P<d.length;P++){var F=d[P];P===0?D.push({key:F[0],data:""}):P===d.length-1?D[D.length-1].data=parseData(F[0]):(D[D.length-1].data=parseData(F[0]),D.push({key:F[1],data:""}))}var U={key:w,data:{}};return D.forEach((function(H){U.data[H.key]=H.data})),U}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map((function(m){return parseInt(m,10)}))}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map((function(m){return parseInt(m,10)}))}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(q){var X=m.getElementsByTagName(q)[0];X&&(g[q]=parseAttributes(getAttribs(X)))}));var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var D=w.getElementsByTagName("page"),P=0;P<D.length;P++){var F=D[P],U=parseInt(F.getAttribute("id"),10),H=F.getAttribute("file");if(isNaN(U))throw new Error('malformed file -- page "id" attribute is NaN');if(!H)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(U,10)]=H}return["chars","kernings"].forEach((function(q){var X=m.getElementsByTagName(q)[0];if(X)for(var V=q.substring(0,q.length-1),J=X.getElementsByTagName(V),et=0;et<J.length;et++){var at=J[et];g[q].push(parseAttributes(getAttribs(at)))}})),g};function getAttribs(d){return getAttribList(d).reduce((function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m}),{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every((function(P,F){return d.readUInt8(F)===P}));if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},D=0;D<5;D++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),D=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,D);break;case 4:d.chars=readChars(m,g,D);break;case 5:d.kernings=readKernings(m,g,D)}return 5+D}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],D=readNameNT(d,m),P=D.length+1,F=g/P,U=0;U<F;U++)w[U]=d.slice(m,m+D.length).toString("utf8"),m+=P;return w}function readChars(d,m,g){for(var w=[],D=g/20,P=0;P<D;P++){var F={},U=20*P;F.id=d.readUInt32LE(m+0+U),F.x=d.readUInt16LE(m+4+U),F.y=d.readUInt16LE(m+6+U),F.width=d.readUInt16LE(m+8+U),F.height=d.readUInt16LE(m+10+U),F.xoffset=d.readInt16LE(m+12+U),F.yoffset=d.readInt16LE(m+14+U),F.xadvance=d.readInt16LE(m+16+U),F.page=d.readUInt8(m+18+U),F.chnl=d.readUInt8(m+19+U),w[P]=F}return w}function readKernings(d,m,g){for(var w=[],D=g/10,P=0;P<D;P++){var F={},U=10*P;F.first=d.readUInt32LE(m+0+U),F.second=d.readUInt32LE(m+4+U),F.amount=d.readInt16LE(m+8+U),w[P]=F}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),D=t(d.value.children);if(w&&(g=Object.assign(g,w)),D){const P=r(d.value.children);g=Object.assign(g,P)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce(((m,g)=>Object.assign(m,g)),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N={createLexer:function(d){let m=null,g=(V=>{let J=0;for(;J<V.length&&l(V[J]);)J++;return((et,at)=>{if(et.startsWith("<?xml",at)){const ot=et.length;for(;at<ot;)if(et[at]!=="?")at++;else{if(et[at+1]===">")return at+2;at++}}return at})(V,J)})(d),w=[];const D=()=>d[g],P=()=>m!==c&&g<d.length,F=V=>V==='"'||V==="'",U=()=>{for(;P()&&l(d[g]);)g++},H=V=>{if(P()){if(d[g]==="<"){let J="<";return g++,P()&&d[g]==="/"?(g++,J="</"):P()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,J="<!--"),J}if(D()==="/"){let J="/";return g++,P()&&D()===">"&&(g++,J="/>"),J}if(d[g]==="="||d[g]===">"){const J=d[g];return g++,J}}return q(!!V)},q=V=>{const J=V?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let et=g;for(;P()&&d[g].match(J);)g++;return o(d.substring(et,g))},X=()=>{const V=g;U();const J=g-V;if(P())if(m&&m.type===u.OPEN_BRACKET){U();const et=H(!1);m=T(u.ELEMENT_TYPE,et),w.push(et)}else if(m&&m.type===u.ASSIGN){P()&&F(D())&&g++;let et=g;for(;P()&&!F(D());)g++;const at=o(d.substring(et,g));g++,m=T(u.ATTRIB_VALUE,at)}else{U();let et=H(!0);switch(et){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,et);break;case"</":{const at=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(at,g)),g++,w.pop();break}case"/>":{const at=w.pop();m=T(u.CLOSE_ELEMENT,at);break}case"<!--":{const at=["!","-","-"];for(;P()&&(at[2]!==">"||at[1]!=="-"||at[0]!=="-");)at.shift(),at.push(d[g]),g++;return X()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(et&&et.length>0){if(m.type===u.CLOSE_BRACKET){let at="";D()!=="<"&&(at=q(!0)),m=T(u.CONTENT,et+at)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(et=" ".repeat(J)+et,m=T(u.CONTENT,et)):m=T(u.ATTRIB_NAME,et);else{const at=" ".repeat(J)+et;m=T(u.CONTENT,at)}break}{const at='Unknown Syntax : "'+d[g]+'"';throw new Error(at)}}}else m=c;return m};return{peek:D,next:X,hasNext:P}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,m)=>({type:d,value:m}),L=d=>_(h,d),y=(d,m,g)=>_(f,{type:d,attributes:m,children:g}),v=(d,m)=>_(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const D=d.next(),[P,F]=R(d);let U=[];F.type!==O.CLOSE_ELEMENT&&(U=S(d,D)),U&&U.length>0&&U[0].type===O.CONTENT&&(U=b(U)),g.push(y(D.value,P,U));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const D=d.next(),P=v(w.value,D.value);m.push(P),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach((w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L(g)),g=""),m.push(w))})),g.length&&m.push(L(g)),m}var B={transpile:function(d,m){const g=(w=>_(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g}};const M=s,{transpile:x}=B;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k,xmlPackage=getDefaultExportFromCjs(simpleXmlToJson_min);const{convertXML}=xmlPackage;createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,D,P){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*D*4)throw new Error("Image data size does not match width/height.");P=Object.assign({},defaultOptions,P);const F=w*D,U=new Uint32Array(d.buffer,d.byteOffset,F),H=new Uint32Array(m.buffer,m.byteOffset,F);let q=!0;for(let J=0;J<F;J++)if(U[J]!==H[J]){q=!1;break}if(q){if(g&&!P.diffMask)for(let J=0;J<F;J++)drawGrayPixel(d,4*J,P.alpha,g);return 0}const X=35215*P.threshold*P.threshold;let V=0;for(let J=0;J<D;J++)for(let et=0;et<w;et++){const at=4*(J*w+et),ot=colorDelta(d,m,at,at);Math.abs(ot)>X?P.includeAA||!antialiased(d,et,J,w,D,m)&&!antialiased(m,et,J,w,D,d)?(g&&drawPixel(g,at,...ot<0&&P.diffColorAlt||P.diffColor),V++):g&&!P.diffMask&&drawPixel(g,at,...P.aaColor):g&&(P.diffMask||drawGrayPixel(d,at,P.alpha,g))}return V}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,D,P){const F=Math.max(m-1,0),U=Math.max(g-1,0),H=Math.min(m+1,w-1),q=Math.min(g+1,D-1),X=4*(g*w+m);let V,J,et,at,ot=m===F||m===H||g===U||g===q?1:0,ut=0,yt=0;for(let vt=F;vt<=H;vt++)for(let mt=U;mt<=q;mt++){if(vt===m&&mt===g)continue;const dt=colorDelta(d,d,X,4*(mt*w+vt),!0);if(dt===0){if(ot++,ot>2)return!1}else dt<ut?(ut=dt,V=vt,J=mt):dt>yt&&(yt=dt,et=vt,at=mt)}return ut!==0&&yt!==0&&(hasManySiblings(d,V,J,w,D)&&hasManySiblings(P,V,J,w,D)||hasManySiblings(d,et,at,w,D)&&hasManySiblings(P,et,at,w,D))}function hasManySiblings(d,m,g,w,D){const P=Math.max(m-1,0),F=Math.max(g-1,0),U=Math.min(m+1,w-1),H=Math.min(g+1,D-1),q=4*(g*w+m);let X=m===P||m===U||g===F||g===H?1:0;for(let V=P;V<=U;V++)for(let J=F;J<=H;J++){if(V===m&&J===g)continue;const et=4*(J*w+V);if(d[q]===d[et]&&d[q+1]===d[et+1]&&d[q+2]===d[et+2]&&d[q+3]===d[et+3]&&X++,X>2)return!0}return!1}function colorDelta(d,m,g,w,D){let P=d[g+0],F=d[g+1],U=d[g+2],H=d[g+3],q=m[w+0],X=m[w+1],V=m[w+2],J=m[w+3];if(H===J&&P===q&&F===X&&U===V)return 0;H<255&&(H/=255,P=blend(P,H),F=blend(F,H),U=blend(U,H)),J<255&&(J/=255,q=blend(q,J),X=blend(X,J),V=blend(V,J));const et=rgb2y(P,F,U),at=rgb2y(q,X,V),ot=et-at;if(D)return ot;const ut=rgb2i(P,F,U)-rgb2i(q,X,V),yt=rgb2q(P,F,U)-rgb2q(q,X,V),vt=.5053*ot*ot+.299*ut*ut+.1957*yt*yt;return et>at?-vt:vt}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,D){d[m+0]=g,d[m+1]=w,d[m+2]=D,d[m+3]=255}function drawGrayPixel(d,m,g,w){const D=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,D,D,D)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),magickWasm="/caucgen/assets/magick-DgWW1YxY.wasm";await a_(new URL(magickWasm,import.meta.url));const settings=new be,fetch1=await fetch("./images/typostuck.ttf"),buffer=await fetch1.arrayBuffer(),arrayint=new Uint8Array(buffer);Ae.addFont("Typostuck",arrayint);settings.font="Typostuck";settings.fillColor=new k$1("#ffdbac");settings.antiAlias=!1;settings.textAntiAlias=!1;settings.textKerning=0;settings.fontPointsize=15;async function createText(d,m){return await new Promise(w=>{l$1.read("label:"+d,settings,D=>{D.alpha(to$1.On),D.filterType=d_.Point,D.trim(),D.resize(0,100),D.extent(D.width+20,D.height+20,O$1.Center),D.affineTransform(new de(1,1,0,m,0,0)),D.colorFuzz=new re(20),D.transparent(Uo.White),D.write(Le.Png,async P=>{w(P);const F=P.buffer.slice(P.byteOffset,P.byteOffset+P.byteLength),U=await Jimp.fromBuffer(F);sessionStorage.setItem("fg",await U.getBase64("image/png"))}),D.dispose()})})}async function createAlpha(d,m){let g=0,w=0;return await new Promise(D=>{l$1.read(new Uint8Array(d),P=>{P.morphology(new E_(m_.Dilate,p_.Square,m)),P.alpha(to$1.Extract),P.trim(),g=P.width,w=P.height,P.write(Le.Png,async F=>{const U=F.buffer.slice(F.byteOffset,F.byteOffset+F.byteLength),H=await Jimp.fromBuffer(U);sessionStorage.setItem("alpha",await H.getBase64("image/png")),D(F)})})}),[g,w]}async function extendFG(d,m){const g=await Jimp.read(sessionStorage.getItem("fg"));g.autocrop();const w=new Jimp({height:m,width:d}),D=(d-g.bitmap.width)/2,P=(m-g.bitmap.height)/2;return w.composite(g,D,P),w}async function getOutputImg(d,m,g,w,D){const P=m.clone();return P.crop({w:g,h:w,x:0,y:D}),P.mask(await Jimp.read(sessionStorage.getItem("alpha"))),P.composite(d,0,0),P}async function getGifImg(d,m,g,w){const D=await Jimp.read("./images/gradient.png");D.resize({w:d,h:m});const P=new Jimp({width:D.width,height:D.height*2});P.composite(D,0,0),P.composite(D,0,D.height);const F=await extendFG(d,m),U=ke.create();for(let V=0;V<m;V=V+g){const et=await(await getOutputImg(F,P,d,m,V)).getBuffer("image/png"),at=ie.create(et);at.animationDelay=w,U.push(at)}let H=new Uint8Array;U.write(Le.Gif,V=>{H=new Uint8Array(V)});const q=new Blob([H],{type:"image/gif"});return URL.createObjectURL(q)}async function createCaucasian(d,m,g,w,D,P){settings.textKerning=g;let F=0,U=0;const H=await createText(d,m),q=await createAlpha(H,P.toString());return F=q[0],U=q[1],await getGifImg(F,U,w,D)}function getFeeling(){return Math.round(Math.random())==1?"CAUCASIAN":"PEACHY"}const caucOrPeach=getFeeling();function Index(){const[d,m]=reactExports.useState(""),[g,w]=reactExports.useState(8),[D,P]=reactExports.useState(5),[F,U]=reactExports.useState(-.25),[H,q]=reactExports.useState(0),[X,V]=reactExports.useState(4),[J,et]=reactExports.useState("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NgAAIAAAUAAR4f7BQAAAAASUVORK5CYII=");reactExports.useEffect(()=>{document.title=caucOrPeach+" MAKER!"},[]);async function at(ot){if(ot.preventDefault(),d&&d.length>0){const ut=d.replaceAll("\\","\\\\");et(await createCaucasian(ut,F,H,g,D,X))}}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"vh-100 vw-100 d-flex flex-column",children:[jsxRuntimeExports.jsx("div",{className:"title",children:jsxRuntimeExports.jsxs("h1",{className:caucOrPeach,children:[caucOrPeach," MAKER!"]})}),jsxRuntimeExports.jsx("div",{className:"subtitle",children:jsxRuntimeExports.jsxs("p",{className:"subtitle",children:["by ",jsxRuntimeExports.jsx("a",{href:"https://fiibtor.tumblr.com",children:"fiibtor"})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Container,{fluid:"sm",children:[jsxRuntimeExports.jsx("div",{className:"pb-3"}),jsxRuntimeExports.jsxs(Form$1,{onSubmit:at,className:"px-3 pb-3",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Text"}),jsxRuntimeExports.jsx(Form$1.Control,{placeholder:caucOrPeach+"!",value:d,onChange:ot=>m(ot.target.value)})]})}),jsxRuntimeExports.jsxs(Row,{className:"mt-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Speed"}),jsxRuntimeExports.jsx(Form$1.Range,{min:1,max:10,value:g,onChange:ot=>w(parseInt(ot.target.value))}),jsxRuntimeExports.jsx(Form$1.Label,{children:g})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Delay"}),jsxRuntimeExports.jsx(Form$1.Range,{min:2,max:10,value:D,step:.1,onChange:ot=>P(parseFloat(ot.target.value))}),jsxRuntimeExports.jsx(Form$1.Label,{children:D})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Accordion$1,{children:jsxRuntimeExports.jsxs(Accordion$1.Item,{eventKey:"0",children:[jsxRuntimeExports.jsx(Accordion$1.Header,{children:"Text Settings"}),jsxRuntimeExports.jsxs(Accordion$1.Body,{children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Skew"}),jsxRuntimeExports.jsx(Form$1.Range,{min:-1,max:1,step:.05,value:F,onChange:ot=>U(parseFloat(ot.target.value))}),jsxRuntimeExports.jsx(Form$1.Label,{children:F})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Kerning"}),jsxRuntimeExports.jsx(Form$1.Range,{min:-5,max:5,value:H,onChange:ot=>q(parseInt(ot.target.value))}),jsxRuntimeExports.jsx(Form$1.Label,{children:H})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Stroke Width"}),jsxRuntimeExports.jsx(Form$1.Range,{min:0,max:10,value:X,onChange:ot=>V(parseInt(ot.target.value))}),jsxRuntimeExports.jsx(Form$1.Label,{children:X})]})]})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Form$1.Group,{as:Col,className:"mt-4 d-flex justify-content-center",children:jsxRuntimeExports.jsx("button",{type:"submit",children:"CREATE GIF!"})})})]}),jsxRuntimeExports.jsx(Row,{className:"justify-content-center",children:jsxRuntimeExports.jsx("img",{src:J,className:"outGif align-self-center"})})]})}),jsxRuntimeExports.jsxs("div",{className:"align-self-stretch align-content-end flex-grow-1",children:[jsxRuntimeExports.jsxs("p",{style:{textAlign:"center"},children:["Special thanks to Speherh for the TYPOSTUCK font!",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"https://fontstruct.com/fontstructions/show/1179225",children:'"TYPOSTUCK"'})," by ",jsxRuntimeExports.jsx("a",{href:"https://fontstruct.com/fontstructors/1247932/speherh",children:'"Speherh"'})," is licensed under ",jsxRuntimeExports.jsx("a",{href:"http://creativecommons.org/licenses/by/3.0/",children:"CC BY 3.0"})]}),jsxRuntimeExports.jsx("div",{className:"bottomImage",children:jsxRuntimeExports.jsx("img",{src:"images/unc-n-newgem.png"})})]})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(Index,{})}));
